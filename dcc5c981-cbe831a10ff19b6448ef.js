(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{JmBL:function(e,r,t){"use strict";(function(e){var t,n=(t="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(r){var n;(r=void 0!==(r=r||{})?r:{}).ready=new Promise((function(e,r){n=e})),r.expectedDataFileDownloads||(r.expectedDataFileDownloads=0,r.finishedDataFileDownloads=0),r.expectedDataFileDownloads++,function(e){if("object"==typeof window)window.encodeURIComponent(window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/");else{if("undefined"==typeof location)throw"using preloaded data can only be done on a web page or in a web worker";encodeURIComponent(location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/")}"function"!=typeof r.locateFilePackage||r.locateFile||(r.locateFile=r.locateFilePackage,v("warning: you defined Module.locateFilePackage, that has been renamed to Module.locateFile (using your locateFilePackage for now)"));var t=r.locateFile?r.locateFile("waflash.data",""):"waflash.data",n=e.remote_package_size;e.package_uuid;var i,o,a,u,s=null,c=r.getPreloadedPackage?r.getPreloadedPackage(t,n):null;function l(){function t(e,r){if(!e)throw r+(new Error).stack}function n(e,r,t){this.start=e,this.end=r,this.audio=t}n.prototype={requests:{},open:function(e,t){this.name=t,this.requests[t]=this,r.addRunDependency("fp "+this.name)},send:function(){},onload:function(){var e=this.byteArray.subarray(this.start,this.end);this.finish(e)},finish:function(e){r.FS_createDataFile(this.name,null,e,!0,!0,!0),r.removeRunDependency("fp "+this.name),this.requests[this.name]=null}};for(var i=e.files,o=0;o<i.length;++o)new n(i[o].start,i[o].end,i[o].audio).open("GET",i[o].filename);function a(i){r.finishedDataFileDownloads++,t(i,"Loading data file failed."),t(i instanceof ArrayBuffer,"bad input to processPackageData");var o=new Uint8Array(i);n.prototype.byteArray=o;for(var a=e.files,u=0;u<a.length;++u)n.prototype.requests[a[u].filename].onload();r.removeRunDependency("datafile_waflash.data")}r.addRunDependency("datafile_waflash.data"),r.preloadResults||(r.preloadResults={}),r.preloadResults["waflash.data"]={fromCache:!1},c?(a(c),c=null):s=a}c||(i=t,o=n,a=function(e){s?(s(e),s=null):c=e},(u=new XMLHttpRequest).open("GET",i,!0),u.responseType="arraybuffer",u.onprogress=function(e){var t=i,n=o;if(e.total&&(n=e.total),e.loaded){u.addedTotal?r.dataFileDownloads[t].loaded=e.loaded:(u.addedTotal=!0,r.dataFileDownloads||(r.dataFileDownloads={}),r.dataFileDownloads[t]={loaded:e.loaded,total:n});var a=0,s=0,c=0;for(var l in r.dataFileDownloads){var f=r.dataFileDownloads[l];a+=f.total,s+=f.loaded,c++}a=Math.ceil(a*r.expectedDataFileDownloads/c),r.setStatus&&r.setStatus("Downloading data... ("+s+"/"+a+")")}else r.dataFileDownloads||r.setStatus&&r.setStatus("Downloading data...")},u.onerror=function(e){throw new Error("NetworkError for: "+i)},u.onload=function(e){if(!(200==u.status||304==u.status||206==u.status||0==u.status&&u.response))throw new Error(u.statusText+" : "+u.responseURL);var r=u.response;a(r)},u.send(null)),r.calledRun?l():(r.preRun||(r.preRun=[]),r.preRun.push(l))}({files:[{filename:"/desktop.ini",start:0,end:46,audio:0},{filename:"/NanumSquareRoundOTFR.otf",start:46,end:465950,audio:0}],remote_package_size:465950,package_uuid:"1302f8fa-6355-4df6-ae92-6f55ca742376"});var i,o={};for(i in r)r.hasOwnProperty(i)&&(o[i]=r[i]);var a,u,s,c,l=[],f="./this.program",d=function(e,r){throw r},m="";document.currentScript&&(m=document.currentScript.src),t&&(m=t),m=0!==m.indexOf("blob:")?m.substr(0,m.lastIndexOf("/")+1):"",a=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},u=function(e,r,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?r(n.response):t()},n.onerror=t,n.send(null)},c=function(e){document.title=e};var p=r.print||console.log.bind(console),v=r.printErr||console.warn.bind(console);for(i in o)o.hasOwnProperty(i)&&(r[i]=o[i]);function g(e){var r=M[Y>>2],t=r+e+15&-16;return M[Y>>2]=t,r}function h(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return 4;if("i"===e[0]){var r=Number(e.substr(1));return F(r%8==0,"getNativeTypeSize invalid bits "+r+", type "+e),r/8}return 0}}function _(e){_.shown||(_.shown={}),_.shown[e]||(_.shown[e]=1,v(e))}function b(e,t,n){return n&&n.length?r["dynCall_"+e].apply(null,[t].concat(n)):r["dynCall_"+e].call(null,t)}o=null,r.arguments&&(l=r.arguments),r.thisProgram&&(f=r.thisProgram),r.quit&&(d=r.quit);var y,w,E,x=0,k=function(e){x=e};function C(e,r,t,n){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":L[e>>0]=r;break;case"i16":B[e>>1]=r;break;case"i32":M[e>>2]=r;break;case"i64":be=[r>>>0,(_e=r,+ae(_e)>=1?_e>0?(0|ce(+se(_e/4294967296),4294967295))>>>0:~~+ue((_e-+(~~_e>>>0))/4294967296)>>>0:0)],M[e>>2]=be[0],M[e+4>>2]=be[1];break;case"float":O[e>>2]=r;break;case"double":G[e>>3]=r;break;default:ve("invalid type for setValue: "+t)}}r.wasmBinary&&(y=r.wasmBinary),r.noExitRuntime&&(w=r.noExitRuntime),"object"!=typeof WebAssembly&&v("no native wasm support detected");var S=new WebAssembly.Table({initial:12014,maximum:12014,element:"anyfunc"}),D=!1;function F(e,r){e||ve("Assertion failed: "+r)}function A(e){var t=r["_"+e];return F(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function P(e,r,t,n,i){var o={string:function(e){var r=0;if(null!=e&&0!==e){var t=1+(e.length<<2);q(e,r=_t(t),t)}return r},array:function(e){var r=_t(e.length);return function(e,r){L.set(e,r)}(e,r),r}},a=A(e),u=[],s=0;if(n)for(var c=0;c<n.length;c++){var l=o[t[c]];l?(0===s&&(s=ht()),u[c]=l(n[c])):u[c]=n[c]}var f=a.apply(null,u);return f=function(e){return"string"===r?z(e):"boolean"===r?Boolean(e):e}(f),0!==s&&bt(s),f}var T,L,I,B,R,M,N,O,G,U="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function j(e,r,t){for(var n=r+t,i=r;e[i]&&!(i>=n);)++i;if(i-r>16&&e.subarray&&U)return U.decode(e.subarray(r,i));for(var o="";r<i;){var a=e[r++];if(128&a){var u=63&e[r++];if(192!=(224&a)){var s=63&e[r++];if((a=224==(240&a)?(15&a)<<12|u<<6|s:(7&a)<<18|u<<12|s<<6|63&e[r++])<65536)o+=String.fromCharCode(a);else{var c=a-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&a)<<6|u)}else o+=String.fromCharCode(a)}return o}function z(e,r){return e?j(I,e,r):""}function Q(e,r,t,n){if(!(n>0))return 0;for(var i=t,o=t+n-1,a=0;a<e.length;++a){var u=e.charCodeAt(a);if(u>=55296&&u<=57343&&(u=65536+((1023&u)<<10)|1023&e.charCodeAt(++a)),u<=127){if(t>=o)break;r[t++]=u}else if(u<=2047){if(t+1>=o)break;r[t++]=192|u>>6,r[t++]=128|63&u}else if(u<=65535){if(t+2>=o)break;r[t++]=224|u>>12,r[t++]=128|u>>6&63,r[t++]=128|63&u}else{if(t+3>=o)break;r[t++]=240|u>>18,r[t++]=128|u>>12&63,r[t++]=128|u>>6&63,r[t++]=128|63&u}}return r[t]=0,t-i}function q(e,r,t){return Q(e,I,r,t)}function X(e){for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++t)),n<=127?++r:r+=n<=2047?2:n<=65535?3:4}return r}function V(e){var r=X(e)+1,t=Hr(r);return t&&Q(e,L,t,r),t}function H(e){var r=X(e)+1,t=_t(r);return Q(e,L,t,r),t}function W(e){T=e,r.HEAP8=L=new Int8Array(e),r.HEAP16=B=new Int16Array(e),r.HEAP32=M=new Int32Array(e),r.HEAPU8=I=new Uint8Array(e),r.HEAPU16=R=new Uint16Array(e),r.HEAPU32=N=new Uint32Array(e),r.HEAPF32=O=new Float32Array(e),r.HEAPF64=G=new Float64Array(e)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var Y=886976,K=r.INITIAL_MEMORY||16777216;function Z(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?r.dynCall_v(n):r.dynCall_vi(n,t.arg):n(void 0===t.arg?null:t.arg)}else t(r)}}(E=r.wasmMemory?r.wasmMemory:new WebAssembly.Memory({initial:K/65536,maximum:32768}))&&(T=E.buffer),K=T.byteLength,W(T),M[Y>>2]=6130032;var $=[],J=[],ee=[],re=[],te=[],ne=!1;function ie(e,r,t){return e>=0?e:r<=32?2*Math.abs(1<<r-1)+e:Math.pow(2,r)+e}function oe(e,r,t){if(e<=0)return e;var n=r<=32?Math.abs(1<<r-1):Math.pow(2,r-1);return e>=n&&(r<=32||e>n)&&(e=-2*n+e),e}var ae=Math.abs,ue=Math.ceil,se=Math.floor,ce=Math.min,le=0,fe=null,de=null;function me(e){le++,r.monitorRunDependencies&&r.monitorRunDependencies(le)}function pe(e){if(le--,r.monitorRunDependencies&&r.monitorRunDependencies(le),0==le&&(null!==fe&&(clearInterval(fe),fe=null),de)){var t=de;de=null,t()}}function ve(e){throw r.onAbort&&r.onAbort(e),p(e+=""),v(e),D=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}function ge(e){return r=e,t="data:application/octet-stream;base64,",String.prototype.startsWith?r.startsWith(t):0===r.indexOf(t);var r,t}r.preloadedImages={},r.preloadedAudios={};var he,_e,be,ye="waflash.wasm";function we(){try{if(y)return new Uint8Array(y);if(s)return s(ye);throw"both async and sync fetching of the wasm failed"}catch(v){ve(v)}}ge(ye)||(he=ye,ye=r.locateFile?r.locateFile(he,m):m+he);var Ee={1401:function(e){var r=z(e);Te.mkdir(r),Te.mount(Pe,{},r),Te.syncfs(!0,(function(e){}))},1523:function(){Te.syncfs((function(e){console.log("IDBFS synced.")}))},2028:function(){return"1"==new URLSearchParams(window.location.search).get("v")},2163:function(e){var r="/user/swf/"+z(e);window.gtag&&window.gtag("config","UA-168755014-1",{page_path:r})},2412:function(){var e=new URLSearchParams(window.location.search).get("src");if(e){var r,t=X(r=e.startsWith("http")?e:"/"==e[0]?window.location.origin+e:window.location.origin+window.location.pathname.substr(0,window.location.pathname.lastIndexOf("/")+1)+e)+1,n=Hr(t);return q(r,n,t),n}return 0},2947:function(){return"gpu"==new URLSearchParams(window.location.search).get("m")},749754:function(e){var r=z(e)+"\n\nAbort/Retry/Ignore/AlwaysIgnore? [ariA] :",t=window.prompt(r,"i");return null===t&&(t="i"),function(e,r,t,n){var i,o;"number"==typeof e?(i=!0,o=e):(i=!1,o=e.length);var a,u="string"==typeof r?r:null;if(a=3==t?n:[Hr,_t,g][t](Math.max(o,u?1:r.length)),i){var s;for(n=a,F(0==(3&a)),s=a+(-4&o);n<s;n+=4)M[n>>2]=0;for(s=a+o;n<s;)L[n++>>0]=0;return a}if("i8"===u)return e.subarray||e.slice?I.set(e,a):I.set(new Uint8Array(e),a),a;for(var c,l,f,d=0;d<o;){var m=e[d];0!==(c=u||r[d])?("i64"==c&&(c="i32"),C(a+d,m,c),f!==c&&(l=h(c),f=c),d+=l):d++}return a}(jr(t),"i8",0)},785644:function(e,t,n){var i=e,o=t,a=n;r.SDL2||(r.SDL2={});var u=r.SDL2;u.ctxCanvas!==r.canvas&&(u.ctx=r.createContext(r.canvas,!1,!0),u.ctxCanvas=r.canvas),u.w===i&&u.h===o&&u.imageCtx===u.ctx||(u.image=u.ctx.createImageData(i,o),u.w=i,u.h=o,u.imageCtx=u.ctx);var s,c=u.image.data,l=a>>2,f=0;if("undefined"!=typeof CanvasPixelArray&&c instanceof CanvasPixelArray)for(s=c.length;f<s;){var d=M[l];c[f]=255&d,c[f+1]=d>>8&255,c[f+2]=d>>16&255,c[f+3]=255,l++,f+=4}else{u.data32Data!==c&&(u.data32=new Int32Array(c.buffer),u.data8=new Uint8Array(c.buffer));var m=u.data32;s=m.length,m.set(M.subarray(l,l+s));var p=u.data8,v=3,g=v+4*s;if(s%8==0)for(;v<g;)p[v]=255,p[v=v+4|0]=255,p[v=v+4|0]=255,p[v=v+4|0]=255,p[v=v+4|0]=255,p[v=v+4|0]=255,p[v=v+4|0]=255,p[v=v+4|0]=255,v=v+4|0;else for(;v<g;)p[v]=255,v=v+4|0}return u.ctx.putImageData(u.image,0,0),0},787123:function(e,r,t,n,i){var o=e,a=r,u=t,s=n,c=i,l=document.createElement("canvas");l.width=o,l.height=a;var f,d=l.getContext("2d"),m=d.createImageData(o,a),p=m.data,v=c>>2,g=0;if("undefined"!=typeof CanvasPixelArray&&p instanceof CanvasPixelArray)for(f=p.length;g<f;){var h=M[v];p[g]=255&h,p[g+1]=h>>8&255,p[g+2]=h>>16&255,p[g+3]=h>>24&255,v++,g+=4}else{var _=new Int32Array(p.buffer);f=_.length,_.set(M.subarray(v,v+f))}d.putImageData(m,0,0);var b=0===u&&0===s?"url("+l.toDataURL()+"), auto":"url("+l.toDataURL()+") "+u+" "+s+", auto",y=Hr(b.length+1);return q(b,y,b.length+1),y},788112:function(e){return r.canvas&&(r.canvas.style.cursor=z(e)),0},788205:function(){r.canvas&&(r.canvas.style.cursor="none")},789430:function(){return screen.width},789457:function(){return screen.height},789485:function(){return window.innerWidth},789517:function(){return window.innerHeight},789595:function(e){return void 0!==c&&c(z(e)),0},789729:function(){return"undefined"!=typeof AudioContext||"undefined"!=typeof webkitAudioContext?1:0},789895:function(){return void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia||void 0!==navigator.webkitGetUserMedia?1:0},790121:function(e){void 0===r.SDL2&&(r.SDL2={});var t=r.SDL2;return e?t.capture={}:t.audio={},t.audioContext||("undefined"!=typeof AudioContext?t.audioContext=new AudioContext:"undefined"!=typeof webkitAudioContext&&(t.audioContext=new webkitAudioContext)),void 0===t.audioContext?-1:0},790604:function(){return r.SDL2.audioContext.sampleRate},790674:function(e,t,n,i){var o=r.SDL2,a=function(r){void 0!==o.capture.silenceTimer&&(clearTimeout(o.capture.silenceTimer),o.capture.silenceTimer=void 0),o.capture.mediaStreamNode=o.audioContext.createMediaStreamSource(r),o.capture.scriptProcessorNode=o.audioContext.createScriptProcessor(t,e,1),o.capture.scriptProcessorNode.onaudioprocess=function(e){void 0!==o&&void 0!==o.capture&&(e.outputBuffer.getChannelData(0).fill(0),o.capture.currentCaptureBuffer=e.inputBuffer,b("vi",n,[i]))},o.capture.mediaStreamNode.connect(o.capture.scriptProcessorNode),o.capture.scriptProcessorNode.connect(o.audioContext.destination),o.capture.stream=r},u=function(e){};o.capture.silenceBuffer=o.audioContext.createBuffer(e,t,o.audioContext.sampleRate),o.capture.silenceBuffer.getChannelData(0).fill(0),o.capture.silenceTimer=setTimeout((function(){o.capture.currentCaptureBuffer=o.capture.silenceBuffer,b("vi",n,[i])}),t/o.audioContext.sampleRate*1e3),void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(a).catch(u):void 0!==navigator.webkitGetUserMedia&&navigator.webkitGetUserMedia({audio:!0,video:!1},a,u)},792326:function(e,t,n,i){var o=r.SDL2;o.audio.scriptProcessorNode=o.audioContext.createScriptProcessor(t,0,e),o.audio.scriptProcessorNode.onaudioprocess=function(e){void 0!==o&&void 0!==o.audio&&(o.audio.currentOutputBuffer=e.outputBuffer,b("vi",n,[i]))},o.audio.scriptProcessorNode.connect(o.audioContext.destination)},792736:function(e,t){for(var n=r.SDL2,i=n.capture.currentCaptureBuffer.numberOfChannels,o=0;o<i;++o){var a=n.capture.currentCaptureBuffer.getChannelData(o);if(a.length!=t)throw"Web Audio capture buffer length mismatch! Destination size: "+a.length+" samples vs expected "+t+" samples!";if(1==i)for(var u=0;u<t;++u)C(e+4*u,a[u],"float");else for(u=0;u<t;++u)C(e+4*(u*i+o),a[u],"float")}},793341:function(e,t){for(var n=r.SDL2,i=n.audio.currentOutputBuffer.numberOfChannels,o=0;o<i;++o){var a=n.audio.currentOutputBuffer.getChannelData(o);if(a.length!=t)throw"Web Audio output buffer length mismatch! Destination size: "+a.length+" samples vs expected "+t+" samples!";for(var u=0;u<t;++u)a[u]=O[e+(u*i+o<<2)>>2]}},793821:function(e){var t=r.SDL2;if(e){if(void 0!==t.capture.silenceTimer&&clearTimeout(t.capture.silenceTimer),void 0!==t.capture.stream){for(var n=t.capture.stream.getAudioTracks(),i=0;i<n.length;i++)t.capture.stream.removeTrack(n[i]);t.capture.stream=void 0}void 0!==t.capture.scriptProcessorNode&&(t.capture.scriptProcessorNode.onaudioprocess=function(e){},t.capture.scriptProcessorNode.disconnect(),t.capture.scriptProcessorNode=void 0),void 0!==t.capture.mediaStreamNode&&(t.capture.mediaStreamNode.disconnect(),t.capture.mediaStreamNode=void 0),void 0!==t.capture.silenceBuffer&&(t.capture.silenceBuffer=void 0),t.capture=void 0}else null!=t.audio.scriptProcessorNode&&(t.audio.scriptProcessorNode.disconnect(),t.audio.scriptProcessorNode=void 0),t.audio=void 0;void 0!==t.audioContext&&void 0===t.audio&&void 0===t.capture&&(t.audioContext.close(),t.audioContext=void 0)}};function xe(){var e=new Error;if(!e.stack){try{throw new Error}catch(r){e=r}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function ke(e){return M[Yr()>>2]=e,e}J.push({func:function(){Xr()}});var Ce,Se={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,r){for(var t=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}if(r)for(;t;t--)e.unshift("..");return e},normalize:function(e){var r="/"===e.charAt(0),t="/"===e.substr(-1);return(e=Se.normalizeArray(e.split("/").filter((function(e){return!!e})),!r).join("/"))||r||(e="."),e&&t&&(e+="/"),(r?"/":"")+e},dirname:function(e){var r=Se.splitPath(e),t=r[0],n=r[1];return t||n?(n&&(n=n.substr(0,n.length-1)),t+n):"."},basename:function(e){if("/"===e)return"/";var r=e.lastIndexOf("/");return-1===r?e:e.substr(r+1)},extname:function(e){return Se.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return Se.normalize(e.join("/"))},join2:function(e,r){return Se.normalize(e+"/"+r)}},De={resolve:function(){for(var e="",r=!1,t=arguments.length-1;t>=-1&&!r;t--){var n=t>=0?arguments[t]:Te.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,r="/"===n.charAt(0)}return(r?"/":"")+(e=Se.normalizeArray(e.split("/").filter((function(e){return!!e})),!r).join("/"))||"."},relative:function(e,r){function t(e){for(var r=0;r<e.length&&""===e[r];r++);for(var t=e.length-1;t>=0&&""===e[t];t--);return r>t?[]:e.slice(r,t-r+1)}e=De.resolve(e).substr(1),r=De.resolve(r).substr(1);for(var n=t(e.split("/")),i=t(r.split("/")),o=Math.min(n.length,i.length),a=o,u=0;u<o;u++)if(n[u]!==i[u]){a=u;break}var s=[];for(u=a;u<n.length;u++)s.push("..");return(s=s.concat(i.slice(a))).join("/")}},Fe={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){Fe.ttys[e]={input:[],output:[],ops:r},Te.registerDevice(e,Fe.stream_ops)},stream_ops:{open:function(e){var r=Fe.ttys[e.node.rdev];if(!r)throw new Te.ErrnoError(43);e.tty=r,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,r,t,n,i){if(!e.tty||!e.tty.ops.get_char)throw new Te.ErrnoError(60);for(var o=0,a=0;a<n;a++){var u;try{u=e.tty.ops.get_char(e.tty)}catch(s){throw new Te.ErrnoError(29)}if(void 0===u&&0===o)throw new Te.ErrnoError(6);if(null==u)break;o++,r[t+a]=u}return o&&(e.node.timestamp=Date.now()),o},write:function(e,r,t,n,i){if(!e.tty||!e.tty.ops.put_char)throw new Te.ErrnoError(60);try{for(var o=0;o<n;o++)e.tty.ops.put_char(e.tty,r[t+o])}catch(a){throw new Te.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(r=window.prompt("Input: "))&&(r+="\n"):"function"==typeof readline&&null!==(r=readline())&&(r+="\n"),!r)return null;e.input=jr(r,!0)}return e.input.shift()},put_char:function(e,r){null===r||10===r?(p(j(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(p(j(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,r){null===r||10===r?(v(j(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(v(j(e.output,0)),e.output=[])}}},Ae={ops_table:null,mount:function(e){return Ae.createNode(null,"/",16895,0)},createNode:function(e,r,t,n){if(Te.isBlkdev(t)||Te.isFIFO(t))throw new Te.ErrnoError(63);Ae.ops_table||(Ae.ops_table={dir:{node:{getattr:Ae.node_ops.getattr,setattr:Ae.node_ops.setattr,lookup:Ae.node_ops.lookup,mknod:Ae.node_ops.mknod,rename:Ae.node_ops.rename,unlink:Ae.node_ops.unlink,rmdir:Ae.node_ops.rmdir,readdir:Ae.node_ops.readdir,symlink:Ae.node_ops.symlink},stream:{llseek:Ae.stream_ops.llseek}},file:{node:{getattr:Ae.node_ops.getattr,setattr:Ae.node_ops.setattr},stream:{llseek:Ae.stream_ops.llseek,read:Ae.stream_ops.read,write:Ae.stream_ops.write,allocate:Ae.stream_ops.allocate,mmap:Ae.stream_ops.mmap,msync:Ae.stream_ops.msync}},link:{node:{getattr:Ae.node_ops.getattr,setattr:Ae.node_ops.setattr,readlink:Ae.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ae.node_ops.getattr,setattr:Ae.node_ops.setattr},stream:Te.chrdev_stream_ops}});var i=Te.createNode(e,r,t,n);return Te.isDir(i.mode)?(i.node_ops=Ae.ops_table.dir.node,i.stream_ops=Ae.ops_table.dir.stream,i.contents={}):Te.isFile(i.mode)?(i.node_ops=Ae.ops_table.file.node,i.stream_ops=Ae.ops_table.file.stream,i.usedBytes=0,i.contents=null):Te.isLink(i.mode)?(i.node_ops=Ae.ops_table.link.node,i.stream_ops=Ae.ops_table.link.stream):Te.isChrdev(i.mode)&&(i.node_ops=Ae.ops_table.chrdev.node,i.stream_ops=Ae.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[r]=i),i},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var r=[],t=0;t<e.usedBytes;++t)r.push(e.contents[t]);return r}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,r){var t=e.contents?e.contents.length:0;if(!(t>=r)){r=Math.max(r,t*(t<1048576?2:1.125)>>>0),0!=t&&(r=Math.max(r,256));var n=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,r){if(e.usedBytes!=r){if(0==r)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var t=e.contents;return e.contents=new Uint8Array(r),t&&e.contents.set(t.subarray(0,Math.min(r,e.usedBytes))),void(e.usedBytes=r)}if(e.contents||(e.contents=[]),e.contents.length>r)e.contents.length=r;else for(;e.contents.length<r;)e.contents.push(0);e.usedBytes=r}},node_ops:{getattr:function(e){var r={};return r.dev=Te.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,Te.isDir(e.mode)?r.size=4096:Te.isFile(e.mode)?r.size=e.usedBytes:Te.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){void 0!==r.mode&&(e.mode=r.mode),void 0!==r.timestamp&&(e.timestamp=r.timestamp),void 0!==r.size&&Ae.resizeFileStorage(e,r.size)},lookup:function(e,r){throw Te.genericErrors[44]},mknod:function(e,r,t,n){return Ae.createNode(e,r,t,n)},rename:function(e,r,t){if(Te.isDir(e.mode)){var n;try{n=Te.lookupNode(r,t)}catch(o){}if(n)for(var i in n.contents)throw new Te.ErrnoError(55)}delete e.parent.contents[e.name],e.name=t,r.contents[t]=e,e.parent=r},unlink:function(e,r){delete e.contents[r]},rmdir:function(e,r){var t=Te.lookupNode(e,r);for(var n in t.contents)throw new Te.ErrnoError(55);delete e.contents[r]},readdir:function(e){var r=[".",".."];for(var t in e.contents)e.contents.hasOwnProperty(t)&&r.push(t);return r},symlink:function(e,r,t){var n=Ae.createNode(e,r,41471,0);return n.link=t,n},readlink:function(e){if(!Te.isLink(e.mode))throw new Te.ErrnoError(28);return e.link}},stream_ops:{read:function(e,r,t,n,i){var o=e.node.contents;if(i>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-i,n);if(a>8&&o.subarray)r.set(o.subarray(i,i+a),t);else for(var u=0;u<a;u++)r[t+u]=o[i+u];return a},write:function(e,r,t,n,i,o){if(r.buffer===L.buffer&&(o=!1),!n)return 0;var a=e.node;if(a.timestamp=Date.now(),r.subarray&&(!a.contents||a.contents.subarray)){if(o)return a.contents=r.subarray(t,t+n),a.usedBytes=n,n;if(0===a.usedBytes&&0===i)return a.contents=r.slice(t,t+n),a.usedBytes=n,n;if(i+n<=a.usedBytes)return a.contents.set(r.subarray(t,t+n),i),n}if(Ae.expandFileStorage(a,i+n),a.contents.subarray&&r.subarray)a.contents.set(r.subarray(t,t+n),i);else for(var u=0;u<n;u++)a.contents[i+u]=r[t+u];return a.usedBytes=Math.max(a.usedBytes,i+n),n},llseek:function(e,r,t){var n=r;if(1===t?n+=e.position:2===t&&Te.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new Te.ErrnoError(28);return n},allocate:function(e,r,t){Ae.expandFileStorage(e.node,r+t),e.node.usedBytes=Math.max(e.node.usedBytes,r+t)},mmap:function(e,r,t,n,i,o,a){if(!Te.isFile(e.node.mode))throw new Te.ErrnoError(43);var u,s,c=e.node.contents;if(2&a||c.buffer!==r.buffer){(i>0||i+n<c.length)&&(c=c.subarray?c.subarray(i,i+n):Array.prototype.slice.call(c,i,i+n)),s=!0;var l=r.buffer==L.buffer;if(!(u=Hr(n)))throw new Te.ErrnoError(48);(l?L:r).set(c,u)}else s=!1,u=c.byteOffset;return{ptr:u,allocated:s}},msync:function(e,r,t,n,i){if(!Te.isFile(e.node.mode))throw new Te.ErrnoError(43);return 2&i||Ae.stream_ops.write(e,r,0,n,t,!1),0}}},Pe={dbs:{},indexedDB:function(e){function r(){return e.apply(this,arguments)}return r.toString=function(){return e.toString()},r}((function(){if("undefined"!=typeof indexedDB)return indexedDB;var e=null;return"object"==typeof window&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),F(e,"IDBFS used, but indexedDB not supported"),e})),DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return Ae.mount.apply(null,arguments)},syncfs:function(e,r,t){Pe.getLocalSet(e,(function(n,i){if(n)return t(n);Pe.getRemoteSet(e,(function(e,n){if(e)return t(e);var o=r?n:i,a=r?i:n;Pe.reconcile(o,a,t)}))}))},getDB:function(e,r){var t,n=Pe.dbs[e];if(n)return r(null,n);try{t=Pe.indexedDB().open(e,Pe.DB_VERSION)}catch(i){return r(i)}if(!t)return r("Unable to connect to IndexedDB");t.onupgradeneeded=function(e){var r,t=e.target.result,n=e.target.transaction;(r=t.objectStoreNames.contains(Pe.DB_STORE_NAME)?n.objectStore(Pe.DB_STORE_NAME):t.createObjectStore(Pe.DB_STORE_NAME)).indexNames.contains("timestamp")||r.createIndex("timestamp","timestamp",{unique:!1})},t.onsuccess=function(){n=t.result,Pe.dbs[e]=n,r(null,n)},t.onerror=function(e){r(this.error),e.preventDefault()}},getLocalSet:function(e,r){var t={};function n(e){return"."!==e&&".."!==e}function i(e){return function(r){return Se.join2(e,r)}}for(var o=Te.readdir(e.mountpoint).filter(n).map(i(e.mountpoint));o.length;){var a,u=o.pop();try{a=Te.stat(u)}catch(s){return r(s)}Te.isDir(a.mode)&&o.push.apply(o,Te.readdir(u).filter(n).map(i(u))),t[u]={timestamp:a.mtime}}return r(null,{type:"local",entries:t})},getRemoteSet:function(e,r){var t={};Pe.getDB(e.mountpoint,(function(e,n){if(e)return r(e);try{var i=n.transaction([Pe.DB_STORE_NAME],"readonly");i.onerror=function(e){r(this.error),e.preventDefault()},i.objectStore(Pe.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(e){var i=e.target.result;if(!i)return r(null,{type:"remote",db:n,entries:t});t[i.primaryKey]={timestamp:i.key},i.continue()}}catch(o){return r(o)}}))},loadLocalEntry:function(e,r){var t,n;try{n=Te.lookupPath(e).node,t=Te.stat(e)}catch(i){return r(i)}return Te.isDir(t.mode)?r(null,{timestamp:t.mtime,mode:t.mode}):Te.isFile(t.mode)?(n.contents=Ae.getFileDataAsTypedArray(n),r(null,{timestamp:t.mtime,mode:t.mode,contents:n.contents})):r(new Error("node type not supported"))},storeLocalEntry:function(e,r,t){try{if(Te.isDir(r.mode))Te.mkdir(e,r.mode);else{if(!Te.isFile(r.mode))return t(new Error("node type not supported"));Te.writeFile(e,r.contents,{canOwn:!0})}Te.chmod(e,r.mode),Te.utime(e,r.timestamp,r.timestamp)}catch(n){return t(n)}t(null)},removeLocalEntry:function(e,r){try{Te.lookupPath(e);var t=Te.stat(e);Te.isDir(t.mode)?Te.rmdir(e):Te.isFile(t.mode)&&Te.unlink(e)}catch(n){return r(n)}r(null)},loadRemoteEntry:function(e,r,t){var n=e.get(r);n.onsuccess=function(e){t(null,e.target.result)},n.onerror=function(e){t(this.error),e.preventDefault()}},storeRemoteEntry:function(e,r,t,n){var i=e.put(t,r);i.onsuccess=function(){n(null)},i.onerror=function(e){n(this.error),e.preventDefault()}},removeRemoteEntry:function(e,r,t){var n=e.delete(r);n.onsuccess=function(){t(null)},n.onerror=function(e){t(this.error),e.preventDefault()}},reconcile:function(e,r,t){var n=0,i=[];Object.keys(e.entries).forEach((function(t){var o=e.entries[t],a=r.entries[t];(!a||o.timestamp>a.timestamp)&&(i.push(t),n++)}));var o=[];if(Object.keys(r.entries).forEach((function(t){r.entries[t],e.entries[t]||(o.push(t),n++)})),!n)return t(null);var a=!1,u=("remote"===e.type?e.db:r.db).transaction([Pe.DB_STORE_NAME],"readwrite"),s=u.objectStore(Pe.DB_STORE_NAME);function c(e){if(e&&!a)return a=!0,t(e)}u.onerror=function(e){c(this.error),e.preventDefault()},u.oncomplete=function(e){a||t(null)},i.sort().forEach((function(e){"local"===r.type?Pe.loadRemoteEntry(s,e,(function(r,t){if(r)return c(r);Pe.storeLocalEntry(e,t,c)})):Pe.loadLocalEntry(e,(function(r,t){if(r)return c(r);Pe.storeRemoteEntry(s,e,t,c)}))})),o.sort().reverse().forEach((function(e){"local"===r.type?Pe.removeLocalEntry(e,c):Pe.removeRemoteEntry(s,e,c)}))}},Te={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof Te.ErrnoError))throw e+" : "+(t=xe(),r.extraStackTrace&&(t+="\n"+r.extraStackTrace()),t.replace(/\b_Z[\w\d_]+/g,(function(e){return e==e?e:e+" ["+e+"]"})));var t;return ke(e.errno)},lookupPath:function(e,r){if(r=r||{},!(e=De.resolve(Te.cwd(),e)))return{path:"",node:null};var t={follow_mount:!0,recurse_count:0};for(var n in t)void 0===r[n]&&(r[n]=t[n]);if(r.recurse_count>8)throw new Te.ErrnoError(32);for(var i=Se.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),o=Te.root,a="/",u=0;u<i.length;u++){var s=u===i.length-1;if(s&&r.parent)break;if(o=Te.lookupNode(o,i[u]),a=Se.join2(a,i[u]),Te.isMountpoint(o)&&(!s||s&&r.follow_mount)&&(o=o.mounted.root),!s||r.follow)for(var c=0;Te.isLink(o.mode);){var l=Te.readlink(a);if(a=De.resolve(Se.dirname(a),l),o=Te.lookupPath(a,{recurse_count:r.recurse_count}).node,c++>40)throw new Te.ErrnoError(32)}}return{path:a,node:o}},getPath:function(e){for(var r;;){if(Te.isRoot(e)){var t=e.mount.mountpoint;return r?"/"!==t[t.length-1]?t+"/"+r:t+r:t}r=r?e.name+"/"+r:e.name,e=e.parent}},hashName:function(e,r){for(var t=0,n=0;n<r.length;n++)t=(t<<5)-t+r.charCodeAt(n)|0;return(e+t>>>0)%Te.nameTable.length},hashAddNode:function(e){var r=Te.hashName(e.parent.id,e.name);e.name_next=Te.nameTable[r],Te.nameTable[r]=e},hashRemoveNode:function(e){var r=Te.hashName(e.parent.id,e.name);if(Te.nameTable[r]===e)Te.nameTable[r]=e.name_next;else for(var t=Te.nameTable[r];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode:function(e,r){var t=Te.mayLookup(e);if(t)throw new Te.ErrnoError(t,e);for(var n=Te.hashName(e.id,r),i=Te.nameTable[n];i;i=i.name_next){var o=i.name;if(i.parent.id===e.id&&o===r)return i}return Te.lookup(e,r)},createNode:function(e,r,t,n){var i=new Te.FSNode(e,r,t,n);return Te.hashAddNode(i),i},destroyNode:function(e){Te.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var r=Te.flagModes[e];if(void 0===r)throw new Error("Unknown file open mode: "+e);return r},flagsToPermissionString:function(e){var r=["r","w","rw"][3&e];return 512&e&&(r+="w"),r},nodePermissions:function(e,r){return Te.ignorePermissions||(-1===r.indexOf("r")||292&e.mode)&&(-1===r.indexOf("w")||146&e.mode)&&(-1===r.indexOf("x")||73&e.mode)?0:2},mayLookup:function(e){var r=Te.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate:function(e,r){try{return Te.lookupNode(e,r),20}catch(t){}return Te.nodePermissions(e,"wx")},mayDelete:function(e,r,t){var n;try{n=Te.lookupNode(e,r)}catch(o){return o.errno}var i=Te.nodePermissions(e,"wx");if(i)return i;if(t){if(!Te.isDir(n.mode))return 54;if(Te.isRoot(n)||Te.getPath(n)===Te.cwd())return 10}else if(Te.isDir(n.mode))return 31;return 0},mayOpen:function(e,r){return e?Te.isLink(e.mode)?32:Te.isDir(e.mode)&&("r"!==Te.flagsToPermissionString(r)||512&r)?31:Te.nodePermissions(e,Te.flagsToPermissionString(r)):44},MAX_OPEN_FDS:4096,nextfd:function(e,r){e=e||0,r=r||Te.MAX_OPEN_FDS;for(var t=e;t<=r;t++)if(!Te.streams[t])return t;throw new Te.ErrnoError(33)},getStream:function(e){return Te.streams[e]},createStream:function(e,r,t){Te.FSStream||(Te.FSStream=function(){},Te.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var n=new Te.FSStream;for(var i in e)n[i]=e[i];e=n;var o=Te.nextfd(r,t);return e.fd=o,Te.streams[o]=e,e},closeStream:function(e){Te.streams[e]=null},chrdev_stream_ops:{open:function(e){var r=Te.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Te.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,r){return e<<8|r},registerDevice:function(e,r){Te.devices[e]={stream_ops:r}},getDevice:function(e){return Te.devices[e]},getMounts:function(e){for(var r=[],t=[e];t.length;){var n=t.pop();r.push(n),t.push.apply(t,n.mounts)}return r},syncfs:function(e,r){"function"==typeof e&&(r=e,e=!1),Te.syncFSRequests++,Te.syncFSRequests>1&&v("warning: "+Te.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var t=Te.getMounts(Te.root.mount),n=0;function i(e){return Te.syncFSRequests--,r(e)}function o(e){if(e)return o.errored?void 0:(o.errored=!0,i(e));++n>=t.length&&i(null)}t.forEach((function(r){if(!r.type.syncfs)return o(null);r.type.syncfs(r,e,o)}))},mount:function(e,r,t){var n,i="/"===t,o=!t;if(i&&Te.root)throw new Te.ErrnoError(10);if(!i&&!o){var a=Te.lookupPath(t,{follow_mount:!1});if(t=a.path,n=a.node,Te.isMountpoint(n))throw new Te.ErrnoError(10);if(!Te.isDir(n.mode))throw new Te.ErrnoError(54)}var u={type:e,opts:r,mountpoint:t,mounts:[]},s=e.mount(u);return s.mount=u,u.root=s,i?Te.root=s:n&&(n.mounted=u,n.mount&&n.mount.mounts.push(u)),s},unmount:function(e){var r=Te.lookupPath(e,{follow_mount:!1});if(!Te.isMountpoint(r.node))throw new Te.ErrnoError(28);var t=r.node,n=t.mounted,i=Te.getMounts(n);Object.keys(Te.nameTable).forEach((function(e){for(var r=Te.nameTable[e];r;){var t=r.name_next;-1!==i.indexOf(r.mount)&&Te.destroyNode(r),r=t}})),t.mounted=null;var o=t.mount.mounts.indexOf(n);t.mount.mounts.splice(o,1)},lookup:function(e,r){return e.node_ops.lookup(e,r)},mknod:function(e,r,t){var n=Te.lookupPath(e,{parent:!0}).node,i=Se.basename(e);if(!i||"."===i||".."===i)throw new Te.ErrnoError(28);var o=Te.mayCreate(n,i);if(o)throw new Te.ErrnoError(o);if(!n.node_ops.mknod)throw new Te.ErrnoError(63);return n.node_ops.mknod(n,i,r,t)},create:function(e,r){return r=void 0!==r?r:438,r&=4095,r|=32768,Te.mknod(e,r,0)},mkdir:function(e,r){return r=void 0!==r?r:511,r&=1023,r|=16384,Te.mknod(e,r,0)},mkdirTree:function(e,r){for(var t=e.split("/"),n="",i=0;i<t.length;++i)if(t[i]){n+="/"+t[i];try{Te.mkdir(n,r)}catch(o){if(20!=o.errno)throw o}}},mkdev:function(e,r,t){return void 0===t&&(t=r,r=438),r|=8192,Te.mknod(e,r,t)},symlink:function(e,r){if(!De.resolve(e))throw new Te.ErrnoError(44);var t=Te.lookupPath(r,{parent:!0}).node;if(!t)throw new Te.ErrnoError(44);var n=Se.basename(r),i=Te.mayCreate(t,n);if(i)throw new Te.ErrnoError(i);if(!t.node_ops.symlink)throw new Te.ErrnoError(63);return t.node_ops.symlink(t,n,e)},rename:function(e,r){var t,n,i=Se.dirname(e),o=Se.dirname(r),a=Se.basename(e),u=Se.basename(r);try{t=Te.lookupPath(e,{parent:!0}).node,n=Te.lookupPath(r,{parent:!0}).node}catch(m){throw new Te.ErrnoError(10)}if(!t||!n)throw new Te.ErrnoError(44);if(t.mount!==n.mount)throw new Te.ErrnoError(75);var s,c=Te.lookupNode(t,a),l=De.relative(e,o);if("."!==l.charAt(0))throw new Te.ErrnoError(28);if("."!==(l=De.relative(r,i)).charAt(0))throw new Te.ErrnoError(55);try{s=Te.lookupNode(n,u)}catch(m){}if(c!==s){var f=Te.isDir(c.mode),d=Te.mayDelete(t,a,f);if(d)throw new Te.ErrnoError(d);if(d=s?Te.mayDelete(n,u,f):Te.mayCreate(n,u))throw new Te.ErrnoError(d);if(!t.node_ops.rename)throw new Te.ErrnoError(63);if(Te.isMountpoint(c)||s&&Te.isMountpoint(s))throw new Te.ErrnoError(10);if(n!==t&&(d=Te.nodePermissions(t,"w")))throw new Te.ErrnoError(d);try{Te.trackingDelegate.willMovePath&&Te.trackingDelegate.willMovePath(e,r)}catch(m){v("FS.trackingDelegate['willMovePath']('"+e+"', '"+r+"') threw an exception: "+m.message)}Te.hashRemoveNode(c);try{t.node_ops.rename(c,n,u)}catch(m){throw m}finally{Te.hashAddNode(c)}try{Te.trackingDelegate.onMovePath&&Te.trackingDelegate.onMovePath(e,r)}catch(m){v("FS.trackingDelegate['onMovePath']('"+e+"', '"+r+"') threw an exception: "+m.message)}}},rmdir:function(e){var r=Te.lookupPath(e,{parent:!0}).node,t=Se.basename(e),n=Te.lookupNode(r,t),i=Te.mayDelete(r,t,!0);if(i)throw new Te.ErrnoError(i);if(!r.node_ops.rmdir)throw new Te.ErrnoError(63);if(Te.isMountpoint(n))throw new Te.ErrnoError(10);try{Te.trackingDelegate.willDeletePath&&Te.trackingDelegate.willDeletePath(e)}catch(o){v("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+o.message)}r.node_ops.rmdir(r,t),Te.destroyNode(n);try{Te.trackingDelegate.onDeletePath&&Te.trackingDelegate.onDeletePath(e)}catch(o){v("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+o.message)}},readdir:function(e){var r=Te.lookupPath(e,{follow:!0}).node;if(!r.node_ops.readdir)throw new Te.ErrnoError(54);return r.node_ops.readdir(r)},unlink:function(e){var r=Te.lookupPath(e,{parent:!0}).node,t=Se.basename(e),n=Te.lookupNode(r,t),i=Te.mayDelete(r,t,!1);if(i)throw new Te.ErrnoError(i);if(!r.node_ops.unlink)throw new Te.ErrnoError(63);if(Te.isMountpoint(n))throw new Te.ErrnoError(10);try{Te.trackingDelegate.willDeletePath&&Te.trackingDelegate.willDeletePath(e)}catch(o){v("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+o.message)}r.node_ops.unlink(r,t),Te.destroyNode(n);try{Te.trackingDelegate.onDeletePath&&Te.trackingDelegate.onDeletePath(e)}catch(o){v("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+o.message)}},readlink:function(e){var r=Te.lookupPath(e).node;if(!r)throw new Te.ErrnoError(44);if(!r.node_ops.readlink)throw new Te.ErrnoError(28);return De.resolve(Te.getPath(r.parent),r.node_ops.readlink(r))},stat:function(e,r){var t=Te.lookupPath(e,{follow:!r}).node;if(!t)throw new Te.ErrnoError(44);if(!t.node_ops.getattr)throw new Te.ErrnoError(63);return t.node_ops.getattr(t)},lstat:function(e){return Te.stat(e,!0)},chmod:function(e,r,t){var n;if(!(n="string"==typeof e?Te.lookupPath(e,{follow:!t}).node:e).node_ops.setattr)throw new Te.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&r|-4096&n.mode,timestamp:Date.now()})},lchmod:function(e,r){Te.chmod(e,r,!0)},fchmod:function(e,r){var t=Te.getStream(e);if(!t)throw new Te.ErrnoError(8);Te.chmod(t.node,r)},chown:function(e,r,t,n){var i;if(!(i="string"==typeof e?Te.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new Te.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,r,t){Te.chown(e,r,t,!0)},fchown:function(e,r,t){var n=Te.getStream(e);if(!n)throw new Te.ErrnoError(8);Te.chown(n.node,r,t)},truncate:function(e,r){if(r<0)throw new Te.ErrnoError(28);var t;if(!(t="string"==typeof e?Te.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new Te.ErrnoError(63);if(Te.isDir(t.mode))throw new Te.ErrnoError(31);if(!Te.isFile(t.mode))throw new Te.ErrnoError(28);var n=Te.nodePermissions(t,"w");if(n)throw new Te.ErrnoError(n);t.node_ops.setattr(t,{size:r,timestamp:Date.now()})},ftruncate:function(e,r){var t=Te.getStream(e);if(!t)throw new Te.ErrnoError(8);if(0==(2097155&t.flags))throw new Te.ErrnoError(28);Te.truncate(t.node,r)},utime:function(e,r,t){var n=Te.lookupPath(e,{follow:!0}).node;n.node_ops.setattr(n,{timestamp:Math.max(r,t)})},open:function(e,t,n,i,o){if(""===e)throw new Te.ErrnoError(44);var a;if(n=void 0===n?438:n,n=64&(t="string"==typeof t?Te.modeStringToFlags(t):t)?4095&n|32768:0,"object"==typeof e)a=e;else{e=Se.normalize(e);try{a=Te.lookupPath(e,{follow:!(131072&t)}).node}catch(f){}}var u=!1;if(64&t)if(a){if(128&t)throw new Te.ErrnoError(20)}else a=Te.mknod(e,n,0),u=!0;if(!a)throw new Te.ErrnoError(44);if(Te.isChrdev(a.mode)&&(t&=-513),65536&t&&!Te.isDir(a.mode))throw new Te.ErrnoError(54);if(!u){var s=Te.mayOpen(a,t);if(s)throw new Te.ErrnoError(s)}512&t&&Te.truncate(a,0),t&=-131713;var c=Te.createStream({node:a,path:Te.getPath(a),flags:t,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},i,o);c.stream_ops.open&&c.stream_ops.open(c),!r.logReadFiles||1&t||(Te.readFiles||(Te.readFiles={}),e in Te.readFiles||(Te.readFiles[e]=1,v("FS.trackingDelegate error on read file: "+e)));try{if(Te.trackingDelegate.onOpenFile){var l=0;1!=(2097155&t)&&(l|=Te.tracking.openFlags.READ),0!=(2097155&t)&&(l|=Te.tracking.openFlags.WRITE),Te.trackingDelegate.onOpenFile(e,l)}}catch(f){v("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+f.message)}return c},close:function(e){if(Te.isClosed(e))throw new Te.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(r){throw r}finally{Te.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,r,t){if(Te.isClosed(e))throw new Te.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Te.ErrnoError(70);if(0!=t&&1!=t&&2!=t)throw new Te.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,t),e.ungotten=[],e.position},read:function(e,r,t,n,i){if(n<0||i<0)throw new Te.ErrnoError(28);if(Te.isClosed(e))throw new Te.ErrnoError(8);if(1==(2097155&e.flags))throw new Te.ErrnoError(8);if(Te.isDir(e.node.mode))throw new Te.ErrnoError(31);if(!e.stream_ops.read)throw new Te.ErrnoError(28);var o=void 0!==i;if(o){if(!e.seekable)throw new Te.ErrnoError(70)}else i=e.position;var a=e.stream_ops.read(e,r,t,n,i);return o||(e.position+=a),a},write:function(e,r,t,n,i,o){if(n<0||i<0)throw new Te.ErrnoError(28);if(Te.isClosed(e))throw new Te.ErrnoError(8);if(0==(2097155&e.flags))throw new Te.ErrnoError(8);if(Te.isDir(e.node.mode))throw new Te.ErrnoError(31);if(!e.stream_ops.write)throw new Te.ErrnoError(28);e.seekable&&1024&e.flags&&Te.llseek(e,0,2);var a=void 0!==i;if(a){if(!e.seekable)throw new Te.ErrnoError(70)}else i=e.position;var u=e.stream_ops.write(e,r,t,n,i,o);a||(e.position+=u);try{e.path&&Te.trackingDelegate.onWriteToFile&&Te.trackingDelegate.onWriteToFile(e.path)}catch(s){v("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+s.message)}return u},allocate:function(e,r,t){if(Te.isClosed(e))throw new Te.ErrnoError(8);if(r<0||t<=0)throw new Te.ErrnoError(28);if(0==(2097155&e.flags))throw new Te.ErrnoError(8);if(!Te.isFile(e.node.mode)&&!Te.isDir(e.node.mode))throw new Te.ErrnoError(43);if(!e.stream_ops.allocate)throw new Te.ErrnoError(138);e.stream_ops.allocate(e,r,t)},mmap:function(e,r,t,n,i,o,a){if(0!=(2&o)&&0==(2&a)&&2!=(2097155&e.flags))throw new Te.ErrnoError(2);if(1==(2097155&e.flags))throw new Te.ErrnoError(2);if(!e.stream_ops.mmap)throw new Te.ErrnoError(43);return e.stream_ops.mmap(e,r,t,n,i,o,a)},msync:function(e,r,t,n,i){return e&&e.stream_ops.msync?e.stream_ops.msync(e,r,t,n,i):0},munmap:function(e){return 0},ioctl:function(e,r,t){if(!e.stream_ops.ioctl)throw new Te.ErrnoError(59);return e.stream_ops.ioctl(e,r,t)},readFile:function(e,r){if((r=r||{}).flags=r.flags||"r",r.encoding=r.encoding||"binary","utf8"!==r.encoding&&"binary"!==r.encoding)throw new Error('Invalid encoding type "'+r.encoding+'"');var t,n=Te.open(e,r.flags),i=Te.stat(e).size,o=new Uint8Array(i);return Te.read(n,o,0,i,0),"utf8"===r.encoding?t=j(o,0):"binary"===r.encoding&&(t=o),Te.close(n),t},writeFile:function(e,r,t){(t=t||{}).flags=t.flags||"w";var n=Te.open(e,t.flags,t.mode);if("string"==typeof r){var i=new Uint8Array(X(r)+1),o=Q(r,i,0,i.length);Te.write(n,i,0,o,void 0,t.canOwn)}else{if(!ArrayBuffer.isView(r))throw new Error("Unsupported data type");Te.write(n,r,0,r.byteLength,void 0,t.canOwn)}Te.close(n)},cwd:function(){return Te.currentPath},chdir:function(e){var r=Te.lookupPath(e,{follow:!0});if(null===r.node)throw new Te.ErrnoError(44);if(!Te.isDir(r.node.mode))throw new Te.ErrnoError(54);var t=Te.nodePermissions(r.node,"x");if(t)throw new Te.ErrnoError(t);Te.currentPath=r.path},createDefaultDirectories:function(){Te.mkdir("/tmp"),Te.mkdir("/home"),Te.mkdir("/home/web_user")},createDefaultDevices:function(){var e;if(Te.mkdir("/dev"),Te.registerDevice(Te.makedev(1,3),{read:function(){return 0},write:function(e,r,t,n,i){return n}}),Te.mkdev("/dev/null",Te.makedev(1,3)),Fe.register(Te.makedev(5,0),Fe.default_tty_ops),Fe.register(Te.makedev(6,0),Fe.default_tty1_ops),Te.mkdev("/dev/tty",Te.makedev(5,0)),Te.mkdev("/dev/tty1",Te.makedev(6,0)),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var r=new Uint8Array(1);e=function(){return crypto.getRandomValues(r),r[0]}}e||(e=function(){ve("random_device")}),Te.createDevice("/dev","random",e),Te.createDevice("/dev","urandom",e),Te.mkdir("/dev/shm"),Te.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Te.mkdir("/proc"),Te.mkdir("/proc/self"),Te.mkdir("/proc/self/fd"),Te.mount({mount:function(){var e=Te.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,r){var t=+r,n=Te.getStream(t);if(!n)throw new Te.ErrnoError(8);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return n.path}}};return i.parent=i,i}},e}},{},"/proc/self/fd")},createStandardStreams:function(){r.stdin?Te.createDevice("/dev","stdin",r.stdin):Te.symlink("/dev/tty","/dev/stdin"),r.stdout?Te.createDevice("/dev","stdout",null,r.stdout):Te.symlink("/dev/tty","/dev/stdout"),r.stderr?Te.createDevice("/dev","stderr",null,r.stderr):Te.symlink("/dev/tty1","/dev/stderr"),Te.open("/dev/stdin","r"),Te.open("/dev/stdout","w"),Te.open("/dev/stderr","w")},ensureErrnoError:function(){Te.ErrnoError||(Te.ErrnoError=function(e,r){this.node=r,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},Te.ErrnoError.prototype=new Error,Te.ErrnoError.prototype.constructor=Te.ErrnoError,[44].forEach((function(e){Te.genericErrors[e]=new Te.ErrnoError(e),Te.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){Te.ensureErrnoError(),Te.nameTable=new Array(4096),Te.mount(Ae,{},"/"),Te.createDefaultDirectories(),Te.createDefaultDevices(),Te.createSpecialDirectories(),Te.filesystems={MEMFS:Ae,IDBFS:Pe}},init:function(e,t,n){Te.init.initialized=!0,Te.ensureErrnoError(),r.stdin=e||r.stdin,r.stdout=t||r.stdout,r.stderr=n||r.stderr,Te.createStandardStreams()},quit:function(){Te.init.initialized=!1;var e=r._fflush;e&&e(0);for(var t=0;t<Te.streams.length;t++){var n=Te.streams[t];n&&Te.close(n)}},getMode:function(e,r){var t=0;return e&&(t|=365),r&&(t|=146),t},joinPath:function(e,r){var t=Se.join.apply(null,e);return r&&"/"==t[0]&&(t=t.substr(1)),t},absolutePath:function(e,r){return De.resolve(r,e)},standardizePath:function(e){return Se.normalize(e)},findObject:function(e,r){var t=Te.analyzePath(e,r);return t.exists?t.object:(ke(t.error),null)},analyzePath:function(e,r){try{e=(n=Te.lookupPath(e,{follow:!r})).path}catch(i){}var t={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=Te.lookupPath(e,{parent:!0});t.parentExists=!0,t.parentPath=n.path,t.parentObject=n.node,t.name=Se.basename(e),n=Te.lookupPath(e,{follow:!r}),t.exists=!0,t.path=n.path,t.object=n.node,t.name=n.node.name,t.isRoot="/"===n.path}catch(i){t.error=i.errno}return t},createFolder:function(e,r,t,n){var i=Se.join2("string"==typeof e?e:Te.getPath(e),r),o=Te.getMode(t,n);return Te.mkdir(i,o)},createPath:function(e,r,t,n){e="string"==typeof e?e:Te.getPath(e);for(var i=r.split("/").reverse();i.length;){var o=i.pop();if(o){var a=Se.join2(e,o);try{Te.mkdir(a)}catch(u){}e=a}}return a},createFile:function(e,r,t,n,i){var o=Se.join2("string"==typeof e?e:Te.getPath(e),r),a=Te.getMode(n,i);return Te.create(o,a)},createDataFile:function(e,r,t,n,i,o){var a=r?Se.join2("string"==typeof e?e:Te.getPath(e),r):e,u=Te.getMode(n,i),s=Te.create(a,u);if(t){if("string"==typeof t){for(var c=new Array(t.length),l=0,f=t.length;l<f;++l)c[l]=t.charCodeAt(l);t=c}Te.chmod(s,146|u);var d=Te.open(s,"w");Te.write(d,t,0,t.length,0,o),Te.close(d),Te.chmod(s,u)}return s},createDevice:function(e,r,t,n){var i=Se.join2("string"==typeof e?e:Te.getPath(e),r),o=Te.getMode(!!t,!!n);Te.createDevice.major||(Te.createDevice.major=64);var a=Te.makedev(Te.createDevice.major++,0);return Te.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,r,n,i,o){for(var a=0,u=0;u<i;u++){var s;try{s=t()}catch(c){throw new Te.ErrnoError(29)}if(void 0===s&&0===a)throw new Te.ErrnoError(6);if(null==s)break;a++,r[n+u]=s}return a&&(e.node.timestamp=Date.now()),a},write:function(e,r,t,i,o){for(var a=0;a<i;a++)try{n(r[t+a])}catch(u){throw new Te.ErrnoError(29)}return i&&(e.node.timestamp=Date.now()),a}}),Te.mkdev(i,o,a)},createLink:function(e,r,t,n,i){var o=Se.join2("string"==typeof e?e:Te.getPath(e),r);return Te.symlink(t,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var r=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!a)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=jr(a(e.url),!0),e.usedBytes=e.contents.length}catch(t){r=!1}return r||ke(29),r},createLazyFile:function(e,r,t,n,i){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var r=e%this.chunkSize,t=e/this.chunkSize|0;return this.getter(t)[r]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",t,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+t+". Status: "+e.status);var r,n=Number(e.getResponseHeader("Content-length")),i=(r=e.getResponseHeader("Accept-Ranges"))&&"bytes"===r,o=(r=e.getResponseHeader("Content-Encoding"))&&"gzip"===r,a=1048576;i||(a=n);var u=this;u.setDataGetter((function(e){var r=e*a,i=(e+1)*a-1;if(i=Math.min(i,n-1),void 0===u.chunks[e]&&(u.chunks[e]=function(e,r){if(e>r)throw new Error("invalid range ("+e+", "+r+") or no bytes requested!");if(r>n-1)throw new Error("only "+n+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",t,!1),n!==a&&i.setRequestHeader("Range","bytes="+e+"-"+r),"undefined"!=typeof Uint8Array&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+t+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):jr(i.responseText||"",!0)}(r,i)),void 0===u.chunks[e])throw new Error("doXHR failed!");return u.chunks[e]})),!o&&n||(a=n=1,n=this.getter(0).length,a=n,p("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a={isDevice:!1,url:t},u=Te.createFile(e,r,a,n,i);a.contents?u.contents=a.contents:a.url&&(u.contents=null,u.url=a.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var s={};return Object.keys(u.stream_ops).forEach((function(e){var r=u.stream_ops[e];s[e]=function(){if(!Te.forceLoadFile(u))throw new Te.ErrnoError(29);return r.apply(null,arguments)}})),s.read=function(e,r,t,n,i){if(!Te.forceLoadFile(u))throw new Te.ErrnoError(29);var o=e.node.contents;if(i>=o.length)return 0;var a=Math.min(o.length-i,n);if(o.slice)for(var s=0;s<a;s++)r[t+s]=o[i+s];else for(s=0;s<a;s++)r[t+s]=o.get(i+s);return a},u.stream_ops=s,u},createPreloadedFile:function(e,t,n,i,o,a,u,s,c,l){Re.init();var f=t?De.resolve(Se.join2(e,t)):e;function d(n){function d(r){l&&l(),s||Te.createDataFile(e,t,r,i,o,c),a&&a(),pe()}var m=!1;r.preloadPlugins.forEach((function(e){m||e.canHandle(f)&&(e.handle(n,f,d,(function(){u&&u(),pe()})),m=!0)})),m||d(n)}me(),"string"==typeof n?Re.asyncLoad(n,(function(e){d(e)}),u):d(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,r,t){r=r||function(){},t=t||function(){};var n=Te.indexedDB();try{var i=n.open(Te.DB_NAME(),Te.DB_VERSION)}catch(o){return t(o)}i.onupgradeneeded=function(){p("creating db"),i.result.createObjectStore(Te.DB_STORE_NAME)},i.onsuccess=function(){var n=i.result.transaction([Te.DB_STORE_NAME],"readwrite"),o=n.objectStore(Te.DB_STORE_NAME),a=0,u=0,s=e.length;function c(){0==u?r():t()}e.forEach((function(e){var r=o.put(Te.analyzePath(e).object.contents,e);r.onsuccess=function(){++a+u==s&&c()},r.onerror=function(){u++,a+u==s&&c()}})),n.onerror=t},i.onerror=t},loadFilesFromDB:function(e,r,t){r=r||function(){},t=t||function(){};var n=Te.indexedDB();try{var i=n.open(Te.DB_NAME(),Te.DB_VERSION)}catch(o){return t(o)}i.onupgradeneeded=t,i.onsuccess=function(){var n=i.result;try{var a=n.transaction([Te.DB_STORE_NAME],"readonly")}catch(o){return void t(o)}var u=a.objectStore(Te.DB_STORE_NAME),s=0,c=0,l=e.length;function f(){0==c?r():t()}e.forEach((function(e){var r=u.get(e);r.onsuccess=function(){Te.analyzePath(e).exists&&Te.unlink(e),Te.createDataFile(Se.dirname(e),Se.basename(e),r.result,!0,!0,!0),++s+c==l&&f()},r.onerror=function(){c++,s+c==l&&f()}})),a.onerror=t},i.onerror=t}},Le={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(e,r){if("/"!==r[0]){var t;if(-100===e)t=Te.cwd();else{var n=Te.getStream(e);if(!n)throw new Te.ErrnoError(8);t=n.path}r=Se.join2(t,r)}return r},doStat:function(e,r,t){try{var n=e(r)}catch(i){if(i&&i.node&&Se.normalize(r)!==Se.normalize(Te.getPath(i.node)))return-54;throw i}return M[t>>2]=n.dev,M[t+4>>2]=0,M[t+8>>2]=n.ino,M[t+12>>2]=n.mode,M[t+16>>2]=n.nlink,M[t+20>>2]=n.uid,M[t+24>>2]=n.gid,M[t+28>>2]=n.rdev,M[t+32>>2]=0,be=[n.size>>>0,(_e=n.size,+ae(_e)>=1?_e>0?(0|ce(+se(_e/4294967296),4294967295))>>>0:~~+ue((_e-+(~~_e>>>0))/4294967296)>>>0:0)],M[t+40>>2]=be[0],M[t+44>>2]=be[1],M[t+48>>2]=4096,M[t+52>>2]=n.blocks,M[t+56>>2]=n.atime.getTime()/1e3|0,M[t+60>>2]=0,M[t+64>>2]=n.mtime.getTime()/1e3|0,M[t+68>>2]=0,M[t+72>>2]=n.ctime.getTime()/1e3|0,M[t+76>>2]=0,be=[n.ino>>>0,(_e=n.ino,+ae(_e)>=1?_e>0?(0|ce(+se(_e/4294967296),4294967295))>>>0:~~+ue((_e-+(~~_e>>>0))/4294967296)>>>0:0)],M[t+80>>2]=be[0],M[t+84>>2]=be[1],0},doMsync:function(e,r,t,n,i){var o=I.slice(e,e+t);Te.msync(r,o,i,t,n)},doMkdir:function(e,r){return"/"===(e=Se.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),Te.mkdir(e,r,0),0},doMknod:function(e,r,t){switch(61440&r){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return Te.mknod(e,r,t),0},doReadlink:function(e,r,t){if(t<=0)return-28;var n=Te.readlink(e),i=Math.min(t,X(n)),o=L[r+i];return q(n,r,t+1),L[r+i]=o,i},doAccess:function(e,r){if(-8&r)return-28;var t;if(!(t=Te.lookupPath(e,{follow:!0}).node))return-44;var n="";return 4&r&&(n+="r"),2&r&&(n+="w"),1&r&&(n+="x"),n&&Te.nodePermissions(t,n)?-2:0},doDup:function(e,r,t){var n=Te.getStream(t);return n&&Te.close(n),Te.open(e,r,0,t,t).fd},doReadv:function(e,r,t,n){for(var i=0,o=0;o<t;o++){var a=M[r+8*o>>2],u=M[r+(8*o+4)>>2],s=Te.read(e,L,a,u,n);if(s<0)return-1;if(i+=s,s<u)break}return i},doWritev:function(e,r,t,n){for(var i=0,o=0;o<t;o++){var a=M[r+8*o>>2],u=M[r+(8*o+4)>>2],s=Te.write(e,L,a,u,n);if(s<0)return-1;i+=s}return i},varargs:void 0,get:function(){return Le.varargs+=4,M[Le.varargs-4>>2]},getStr:function(e){return z(e)},getStreamFromFD:function(e){var r=Te.getStream(e);if(!r)throw new Te.ErrnoError(8);return r},get64:function(e,r){return e}};function Ie(r,t){if(Re.mainLoop.timingMode=r,Re.mainLoop.timingValue=t,!Re.mainLoop.func)return 1;if(0==r)Re.mainLoop.scheduler=function(){var e=0|Math.max(0,Re.mainLoop.tickStartTime+t-Ce());setTimeout(Re.mainLoop.runner,e)},Re.mainLoop.method="timeout";else if(1==r)Re.mainLoop.scheduler=function(){Re.requestAnimationFrame(Re.mainLoop.runner)},Re.mainLoop.method="rAF";else if(2==r){if(void 0===e){var n=[];addEventListener("message",(function(e){"setimmediate"!==e.data&&"setimmediate"!==e.data.target||(e.stopPropagation(),n.shift()())}),!0),e=function(e){n.push(e),postMessage("setimmediate","*")}}Re.mainLoop.scheduler=function(){e(Re.mainLoop.runner)},Re.mainLoop.method="immediate"}return 0}function Be(e,t,n,i,o){var a;w=!0,F(!Re.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),Re.mainLoop.func=e,Re.mainLoop.arg=i,a=void 0!==i?function(){r.dynCall_vi(e,i)}:function(){r.dynCall_v(e)};var u=Re.mainLoop.currentlyRunningMainloop;if(Re.mainLoop.runner=function(){if(!D)if(Re.mainLoop.queue.length>0){var e=Date.now(),r=Re.mainLoop.queue.shift();if(r.func(r.arg),Re.mainLoop.remainingBlockers){var t=Re.mainLoop.remainingBlockers,n=t%1==0?t-1:Math.floor(t);r.counted?Re.mainLoop.remainingBlockers=n:(n+=.5,Re.mainLoop.remainingBlockers=(8*t+n)/9)}if(console.log('main loop blocker "'+r.name+'" took '+(Date.now()-e)+" ms"),Re.mainLoop.updateStatus(),u<Re.mainLoop.currentlyRunningMainloop)return;setTimeout(Re.mainLoop.runner,0)}else u<Re.mainLoop.currentlyRunningMainloop||(Re.mainLoop.currentFrameNumber=Re.mainLoop.currentFrameNumber+1|0,1==Re.mainLoop.timingMode&&Re.mainLoop.timingValue>1&&Re.mainLoop.currentFrameNumber%Re.mainLoop.timingValue!=0?Re.mainLoop.scheduler():(0==Re.mainLoop.timingMode&&(Re.mainLoop.tickStartTime=Ce()),Re.mainLoop.runIter(a),u<Re.mainLoop.currentlyRunningMainloop||("object"==typeof SDL&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),Re.mainLoop.scheduler())))},o||(t&&t>0?Ie(0,1e3/t):Ie(1,1),Re.mainLoop.scheduler()),n)throw"unwind"}Ce=function(){return performance.now()};var Re={mainLoop:{scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Re.mainLoop.scheduler=null,Re.mainLoop.currentlyRunningMainloop++},resume:function(){Re.mainLoop.currentlyRunningMainloop++;var e=Re.mainLoop.timingMode,r=Re.mainLoop.timingValue,t=Re.mainLoop.func;Re.mainLoop.func=null,Be(t,0,!1,Re.mainLoop.arg,!0),Ie(e,r),Re.mainLoop.scheduler()},updateStatus:function(){if(r.setStatus){var e=r.statusMessage||"Please wait...",t=Re.mainLoop.remainingBlockers,n=Re.mainLoop.expectedBlockers;t?t<n?r.setStatus(e+" ("+(n-t)+"/"+n+")"):r.setStatus(e):r.setStatus("")}},runIter:function(e){if(!D){if(r.preMainLoop&&!1===r.preMainLoop())return;try{e()}catch(t){if(t instanceof yt)return;throw t&&"object"==typeof t&&t.stack&&v("exception thrown: "+[t,t.stack]),t}r.postMainLoop&&r.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(r.preloadPlugins||(r.preloadPlugins=[]),!Re.initted){Re.initted=!0;try{new Blob,Re.hasBlobConstructor=!0}catch(o){Re.hasBlobConstructor=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Re.BlobBuilder="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:Re.hasBlobConstructor?null:console.log("warning: no BlobBuilder"),Re.URLObject="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:void 0,r.noImageDecoding||void 0!==Re.URLObject||(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),r.noImageDecoding=!0);var e={canHandle:function(e){return!r.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(e)},handle:function(e,t,n,i){var a=null;if(Re.hasBlobConstructor)try{(a=new Blob([e],{type:Re.getMimetype(t)})).size!==e.length&&(a=new Blob([new Uint8Array(e).buffer],{type:Re.getMimetype(t)}))}catch(o){_("Blob constructor present but fails: "+o+"; falling back to blob builder")}if(!a){var u=new Re.BlobBuilder;u.append(new Uint8Array(e).buffer),a=u.getBlob()}var s=Re.URLObject.createObjectURL(a),c=new Image;c.onload=function(){F(c.complete,"Image "+t+" could not be decoded");var i=document.createElement("canvas");i.width=c.width,i.height=c.height,i.getContext("2d").drawImage(c,0,0),r.preloadedImages[t]=i,Re.URLObject.revokeObjectURL(s),n&&n(e)},c.onerror=function(e){console.log("Image "+s+" could not be decoded"),i&&i()},c.src=s}};r.preloadPlugins.push(e);var t={canHandle:function(e){return!r.noAudioDecoding&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(e,t,n,i){var a=!1;function u(i){a||(a=!0,r.preloadedAudios[t]=i,n&&n(e))}function s(){a||(a=!0,r.preloadedAudios[t]=new Audio,i&&i())}if(!Re.hasBlobConstructor)return s();try{var c=new Blob([e],{type:Re.getMimetype(t)})}catch(o){return s()}var l=Re.URLObject.createObjectURL(c),f=new Audio;f.addEventListener("canplaythrough",(function(){u(f)}),!1),f.onerror=function(r){a||(console.log("warning: browser could not fully decode audio "+t+", trying slower base64 approach"),f.src="data:audio/x-"+t.substr(-3)+";base64,"+function(e){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="",n=0,i=0,o=0;o<e.length;o++)for(n=n<<8|e[o],i+=8;i>=6;){var a=n>>i-6&63;i-=6,t+=r[a]}return 2==i?(t+=r[(3&n)<<4],t+="=="):4==i&&(t+=r[(15&n)<<2],t+="="),t}(e),u(f))},f.src=l,Re.safeSetTimeout((function(){u(f)}),1e4)}};r.preloadPlugins.push(t);var n=r.canvas;n&&(n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock||n.msRequestPointerLock||function(){},n.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},n.exitPointerLock=n.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",i,!1),document.addEventListener("mozpointerlockchange",i,!1),document.addEventListener("webkitpointerlockchange",i,!1),document.addEventListener("mspointerlockchange",i,!1),r.elementPointerLock&&n.addEventListener("click",(function(e){!Re.pointerLock&&r.canvas.requestPointerLock&&(r.canvas.requestPointerLock(),e.preventDefault())}),!1))}function i(){Re.pointerLock=document.pointerLockElement===r.canvas||document.mozPointerLockElement===r.canvas||document.webkitPointerLockElement===r.canvas||document.msPointerLockElement===r.canvas}},createContext:function(e,t,n,i){if(t&&r.ctx&&e==r.canvas)return r.ctx;var o,a;if(t){var u={antialias:!1,alpha:!1,majorVersion:2};if(i)for(var s in i)u[s]=i[s];void 0!==Ge&&(a=Ge.createContext(e,u))&&(o=Ge.getContext(a).GLctx)}else o=e.getContext("2d");return o?(n&&(t||F(void 0===Or,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),r.ctx=o,t&&Ge.makeContextCurrent(a),r.useWebGL=t,Re.moduleContextCreatedCallbacks.forEach((function(e){e()})),Re.init()),o):null},destroyContext:function(e,r,t){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(e,t){Re.lockPointer=e,Re.resizeCanvas=t,void 0===Re.lockPointer&&(Re.lockPointer=!0),void 0===Re.resizeCanvas&&(Re.resizeCanvas=!1);var n=r.canvas;function i(){Re.isFullscreen=!1;var e=n.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e?(n.exitFullscreen=Re.exitFullscreen,Re.lockPointer&&n.requestPointerLock(),Re.isFullscreen=!0,Re.resizeCanvas?Re.setFullscreenCanvasSize():Re.updateCanvasDimensions(n)):(e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e),Re.resizeCanvas?Re.setWindowedCanvasSize():Re.updateCanvasDimensions(n)),r.onFullScreen&&r.onFullScreen(Re.isFullscreen),r.onFullscreen&&r.onFullscreen(Re.isFullscreen)}Re.fullscreenHandlersInstalled||(Re.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",i,!1),document.addEventListener("mozfullscreenchange",i,!1),document.addEventListener("webkitfullscreenchange",i,!1),document.addEventListener("MSFullscreenChange",i,!1));var o=document.createElement("div");n.parentNode.insertBefore(o,n),o.appendChild(n),o.requestFullscreen=o.requestFullscreen||o.mozRequestFullScreen||o.msRequestFullscreen||(o.webkitRequestFullscreen?function(){o.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(o.webkitRequestFullScreen?function(){o.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),o.requestFullscreen()},exitFullscreen:function(){return!!Re.isFullscreen&&((document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){}).apply(document,[]),!0)},nextRAF:0,fakeRequestAnimationFrame:function(e){var r=Date.now();if(0===Re.nextRAF)Re.nextRAF=r+1e3/60;else for(;r+2>=Re.nextRAF;)Re.nextRAF+=1e3/60;var t=Math.max(Re.nextRAF-r,0);setTimeout(e,t)},requestAnimationFrame:function(e){function r(r){return e.apply(this,arguments)}return r.toString=function(){return e.toString()},r}((function(e){"function"!=typeof requestAnimationFrame?(0,Re.fakeRequestAnimationFrame)(e):requestAnimationFrame(e)})),safeCallback:function(e){return function(){if(!D)return e.apply(null,arguments)}},allowAsyncCallbacks:!0,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){Re.allowAsyncCallbacks=!1},resumeAsyncCallbacks:function(){if(Re.allowAsyncCallbacks=!0,Re.queuedAsyncCallbacks.length>0){var e=Re.queuedAsyncCallbacks;Re.queuedAsyncCallbacks=[],e.forEach((function(e){e()}))}},safeRequestAnimationFrame:function(e){return Re.requestAnimationFrame((function(){D||(Re.allowAsyncCallbacks?e():Re.queuedAsyncCallbacks.push(e))}))},safeSetTimeout:function(e,r){return w=!0,setTimeout((function(){D||(Re.allowAsyncCallbacks?e():Re.queuedAsyncCallbacks.push(e))}),r)},safeSetInterval:function(e,r){return w=!0,setInterval((function(){D||Re.allowAsyncCallbacks&&e()}),r)},getMimetype:function(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]},getUserMedia:function(e){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(e)},getMovementX:function(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY:function(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta:function(e){var r=0;switch(e.type){case"DOMMouseScroll":r=e.detail/3;break;case"mousewheel":r=e.wheelDelta/120;break;case"wheel":switch(r=e.deltaY,e.deltaMode){case 0:r/=100;break;case 1:r/=3;break;case 2:r*=80;break;default:throw"unrecognized mouse wheel delta mode: "+e.deltaMode}break;default:throw"unrecognized mouse wheel event: "+e.type}return r},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(e){if(Re.pointerLock)"mousemove"!=e.type&&"mozMovementX"in e?Re.mouseMovementX=Re.mouseMovementY=0:(Re.mouseMovementX=Re.getMovementX(e),Re.mouseMovementY=Re.getMovementY(e)),"undefined"!=typeof SDL?(Re.mouseX=SDL.mouseX+Re.mouseMovementX,Re.mouseY=SDL.mouseY+Re.mouseMovementY):(Re.mouseX+=Re.mouseMovementX,Re.mouseY+=Re.mouseMovementY);else{var t=r.canvas.getBoundingClientRect(),n=r.canvas.width,i=r.canvas.height,o=void 0!==window.scrollX?window.scrollX:window.pageXOffset,a=void 0!==window.scrollY?window.scrollY:window.pageYOffset;if("touchstart"===e.type||"touchend"===e.type||"touchmove"===e.type){var u=e.touch;if(void 0===u)return;var s=u.pageX-(o+t.left),c=u.pageY-(a+t.top),l={x:s*=n/t.width,y:c*=i/t.height};if("touchstart"===e.type)Re.lastTouches[u.identifier]=l,Re.touches[u.identifier]=l;else if("touchend"===e.type||"touchmove"===e.type){var f=Re.touches[u.identifier];f||(f=l),Re.lastTouches[u.identifier]=f,Re.touches[u.identifier]=l}return}var d=e.pageX-(o+t.left),m=e.pageY-(a+t.top);d*=n/t.width,m*=i/t.height,Re.mouseMovementX=d-Re.mouseX,Re.mouseMovementY=m-Re.mouseY,Re.mouseX=d,Re.mouseY=m}},asyncLoad:function(e,r,t,n){var i=n?"":"al "+e;u(e,(function(t){F(t,'Loading data file "'+e+'" failed (no arrayBuffer).'),r(new Uint8Array(t)),i&&pe()}),(function(r){if(!t)throw'Loading data file "'+e+'" failed.';t()})),i&&me()},resizeListeners:[],updateResizeListeners:function(){var e=r.canvas;Re.resizeListeners.forEach((function(r){r(e.width,e.height)}))},setCanvasSize:function(e,t,n){var i=r.canvas;Re.updateCanvasDimensions(i,e,t),n||Re.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if("undefined"!=typeof SDL){var e=N[SDL.screen>>2];e|=8388608,M[SDL.screen>>2]=e}Re.updateCanvasDimensions(r.canvas),Re.updateResizeListeners()},setWindowedCanvasSize:function(){if("undefined"!=typeof SDL){var e=N[SDL.screen>>2];e&=-8388609,M[SDL.screen>>2]=e}Re.updateCanvasDimensions(r.canvas),Re.updateResizeListeners()},updateCanvasDimensions:function(e,t,n){t&&n?(e.widthNative=t,e.heightNative=n):(t=e.widthNative,n=e.heightNative);var i=t,o=n;if(r.forcedAspectRatio&&r.forcedAspectRatio>0&&(i/o<r.forcedAspectRatio?i=Math.round(o*r.forcedAspectRatio):o=Math.round(i/r.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&"undefined"!=typeof screen){var a=Math.min(screen.width/i,screen.height/o);i=Math.round(i*a),o=Math.round(o*a)}Re.resizeCanvas?(e.width!=i&&(e.width=i),e.height!=o&&(e.height=o),void 0!==e.style&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=t&&(e.width=t),e.height!=n&&(e.height=n),void 0!==e.style&&(i!=t||o!=n?(e.style.setProperty("width",i+"px","important"),e.style.setProperty("height",o+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var e=Re.nextWgetRequestHandle;return Re.nextWgetRequestHandle++,e}},Me={QUEUE_INTERVAL:25,QUEUE_LOOKAHEAD:.1,DEVICE_NAME:"Emscripten OpenAL",CAPTURE_DEVICE_NAME:"Emscripten OpenAL capture",ALC_EXTENSIONS:{ALC_SOFT_pause_device:!0,ALC_SOFT_HRTF:!0},AL_EXTENSIONS:{AL_EXT_float32:!0,AL_SOFT_loop_points:!0,AL_SOFT_source_length:!0,AL_EXT_source_distance_model:!0,AL_SOFT_source_spatialize:!0},_alcErr:0,alcErr:0,deviceRefCounts:{},alcStringCache:{},paused:!1,stringCache:{},contexts:{},currentCtx:null,buffers:{0:{id:0,refCount:0,audioBuf:null,frequency:0,bytesPerSample:2,channels:1,length:0}},paramArray:[],_nextId:1,newId:function(){return Me.freeIds.length>0?Me.freeIds.pop():Me._nextId++},freeIds:[],scheduleContextAudio:function(e){if(1!==Re.mainLoop.timingMode||"visible"==document.visibilityState)for(var r in e.sources)Me.scheduleSourceAudio(e.sources[r])},scheduleSourceAudio:function(e,r){if((1!==Re.mainLoop.timingMode||"visible"==document.visibilityState)&&4114===e.state){for(var t=Me.updateSourceTime(e),n=e.bufStartTime,i=e.bufOffset,o=e.bufsProcessed,a=0;a<e.audioQueue.length;a++)n=(l=e.audioQueue[a])._startTime+l._duration,i=0,o+=l._skipCount+1;r||(r=Me.QUEUE_LOOKAHEAD);for(var u=t+r,s=0;n<u;){if(o>=e.bufQueue.length){if(!e.looping)break;o%=e.bufQueue.length}var c=e.bufQueue[o%e.bufQueue.length];if(0===c.length){if(++s===e.bufQueue.length)break}else{var l;(l=e.context.audioCtx.createBufferSource()).buffer=c.audioBuf,l.playbackRate.value=e.playbackRate,(c.audioBuf._loopStart||c.audioBuf._loopEnd)&&(l.loopStart=c.audioBuf._loopStart,l.loopEnd=c.audioBuf._loopEnd);var f=0;4136===e.type&&e.looping?(f=Number.POSITIVE_INFINITY,l.loop=!0,c.audioBuf._loopStart&&(l.loopStart=c.audioBuf._loopStart),c.audioBuf._loopEnd&&(l.loopEnd=c.audioBuf._loopEnd)):f=(c.audioBuf.duration-i)/e.playbackRate,l._startOffset=i,l._duration=f,l._skipCount=s,s=0,l.connect(e.gain),void 0!==l.start?(n=Math.max(n,e.context.audioCtx.currentTime),l.start(n,i)):void 0!==l.noteOn&&(n=Math.max(n,e.context.audioCtx.currentTime),l.noteOn(n)),l._startTime=n,e.audioQueue.push(l),n+=f}i=0,o++}}},updateSourceTime:function(e){var r=e.context.audioCtx.currentTime;if(4114!==e.state)return r;isFinite(e.bufStartTime)||(e.bufStartTime=r-e.bufOffset/e.playbackRate,e.bufOffset=0);for(var t=0;e.audioQueue.length;){var n=e.audioQueue[0];if(e.bufsProcessed+=n._skipCount,r<(t=n._startTime+n._duration))break;e.audioQueue.shift(),e.bufStartTime=t,e.bufOffset=0,e.bufsProcessed++}if(e.bufsProcessed>=e.bufQueue.length&&!e.looping)Me.setSourceState(e,4116);else if(4136===e.type&&e.looping)if(0===(c=e.bufQueue[0]).length)e.bufOffset=0;else{var i=(r-e.bufStartTime)*e.playbackRate,o=c.audioBuf._loopStart||0,a=c.audioBuf._loopEnd||c.audioBuf.duration;a<=o&&(a=c.audioBuf.duration),e.bufOffset=i<a?i:o+(i-o)%(a-o)}else if(e.audioQueue[0])e.bufOffset=(r-e.audioQueue[0]._startTime)*e.playbackRate;else{if(4136!==e.type&&e.looping){var u=Me.sourceDuration(e)/e.playbackRate;u>0&&(e.bufStartTime+=Math.floor((r-e.bufStartTime)/u)*u)}for(var s=0;s<e.bufQueue.length;s++){if(e.bufsProcessed>=e.bufQueue.length){if(!e.looping){Me.setSourceState(e,4116);break}e.bufsProcessed%=e.bufQueue.length}var c;if((c=e.bufQueue[e.bufsProcessed]).length>0){if(r<(t=e.bufStartTime+c.audioBuf.duration/e.playbackRate)){e.bufOffset=(r-e.bufStartTime)*e.playbackRate;break}e.bufStartTime=t}e.bufOffset=0,e.bufsProcessed++}}return r},cancelPendingSourceAudio:function(e){Me.updateSourceTime(e);for(var r=1;r<e.audioQueue.length;r++)e.audioQueue[r].stop();e.audioQueue.length>1&&(e.audioQueue.length=1)},stopSourceAudio:function(e){for(var r=0;r<e.audioQueue.length;r++)e.audioQueue[r].stop();e.audioQueue.length=0},setSourceState:function(e,r){4114===r?(4114!==e.state&&4116!=e.state||(e.bufsProcessed=0,e.bufOffset=0),Me.stopSourceAudio(e),e.state=4114,e.bufStartTime=Number.NEGATIVE_INFINITY,Me.scheduleSourceAudio(e)):4115===r?4114===e.state&&(Me.updateSourceTime(e),Me.stopSourceAudio(e),e.state=4115):4116===r?4113!==e.state&&(e.state=4116,e.bufsProcessed=e.bufQueue.length,e.bufStartTime=Number.NEGATIVE_INFINITY,e.bufOffset=0,Me.stopSourceAudio(e)):4113===r&&4113!==e.state&&(e.state=4113,e.bufsProcessed=0,e.bufStartTime=Number.NEGATIVE_INFINITY,e.bufOffset=0,Me.stopSourceAudio(e))},initSourcePanner:function(e){if(4144!==e.type){for(var r=Me.buffers[0],t=0;t<e.bufQueue.length;t++)if(0!==e.bufQueue[t].id){r=e.bufQueue[t];break}if(1===e.spatialize||2===e.spatialize&&1===r.channels){if(e.panner)return;e.panner=e.context.audioCtx.createPanner(),Me.updateSourceGlobal(e),Me.updateSourceSpace(e),e.panner.connect(e.context.gain),e.gain.disconnect(),e.gain.connect(e.panner)}else{if(!e.panner)return;e.panner.disconnect(),e.gain.disconnect(),e.gain.connect(e.context.gain),e.panner=null}}},updateContextGlobal:function(e){for(var r in e.sources)Me.updateSourceGlobal(e.sources[r])},updateSourceGlobal:function(e){var r=e.panner;if(r)switch(r.refDistance=e.refDistance,r.maxDistance=e.maxDistance,r.rolloffFactor=e.rolloffFactor,r.panningModel=e.context.hrtf?"HRTF":"equalpower",e.context.sourceDistanceModel?e.distanceModel:e.context.distanceModel){case 0:r.distanceModel="inverse",r.refDistance=340282e33;break;case 53249:case 53250:r.distanceModel="inverse";break;case 53251:case 53252:r.distanceModel="linear";break;case 53253:case 53254:r.distanceModel="exponential"}},updateListenerSpace:function(e){var r=e.audioCtx.listener;for(var t in r.positionX?(r.positionX.value=e.listener.position[0],r.positionY.value=e.listener.position[1],r.positionZ.value=e.listener.position[2]):r.setPosition(e.listener.position[0],e.listener.position[1],e.listener.position[2]),r.forwardX?(r.forwardX.value=e.listener.direction[0],r.forwardY.value=e.listener.direction[1],r.forwardZ.value=e.listener.direction[2],r.upX.value=e.listener.up[0],r.upY.value=e.listener.up[1],r.upZ.value=e.listener.up[2]):r.setOrientation(e.listener.direction[0],e.listener.direction[1],e.listener.direction[2],e.listener.up[0],e.listener.up[1],e.listener.up[2]),e.sources)Me.updateSourceSpace(e.sources[t])},updateSourceSpace:function(e){if(e.panner){var r=e.panner,t=e.position[0],n=e.position[1],i=e.position[2],o=e.direction[0],a=e.direction[1],u=e.direction[2],s=e.context.listener,c=s.position[0],l=s.position[1],f=s.position[2];if(e.relative){var d=-s.direction[0],m=-s.direction[1],p=-s.direction[2],v=s.up[0],g=s.up[1],h=s.up[2],_=function(e,r,t){var n=Math.sqrt(e*e+r*r+t*t);return n<Number.EPSILON?0:1/n},b=_(d,m,p);d*=b,m*=b,p*=b;var y=(g*=b=_(v,g,h))*p-(h*=b)*m,w=h*d-(v*=b)*p,E=v*m-g*d,x=o,k=a,C=u;o=x*(y*=b=_(y,w,E))+k*(v=m*(E*=b)-p*(w*=b))+C*d,a=x*w+k*(g=p*y-d*E)+C*m,u=x*E+k*(h=d*w-m*y)+C*p,t=(x=t)*y+(k=n)*v+(C=i)*d,n=x*w+k*g+C*m,i=x*E+k*h+C*p,t+=c,n+=l,i+=f}r.positionX?(r.positionX.value=t,r.positionY.value=n,r.positionZ.value=i):r.setPosition(t,n,i),r.orientationX?(r.orientationX.value=o,r.orientationY.value=a,r.orientationZ.value=u):r.setOrientation(o,a,u);var S=e.dopplerShift,D=e.velocity[0],F=e.velocity[1],A=e.velocity[2],P=s.velocity[0],T=s.velocity[1],L=s.velocity[2];if(t===c&&n===l&&i===f||D===P&&F===T&&A===L)e.dopplerShift=1;else{var I=e.context.speedOfSound,B=e.context.dopplerFactor,R=c-t,M=l-n,N=f-i,O=Math.sqrt(R*R+M*M+N*N),G=(R*P+M*T+N*L)/O,U=(R*D+M*F+N*A)/O;G=Math.min(G,I/B),U=Math.min(U,I/B),e.dopplerShift=(I-B*G)/(I-B*U)}e.dopplerShift!==S&&Me.updateSourceRate(e)}},updateSourceRate:function(e){if(4114===e.state){Me.cancelPendingSourceAudio(e);var r,t=e.audioQueue[0];if(!t)return;r=4136===e.type&&e.looping?Number.POSITIVE_INFINITY:(t.buffer.duration-t._startOffset)/e.playbackRate,t._duration=r,t.playbackRate.value=e.playbackRate,Me.scheduleSourceAudio(e)}},sourceDuration:function(e){for(var r=0,t=0;t<e.bufQueue.length;t++){var n=e.bufQueue[t].audioBuf;r+=n?n.duration:0}return r},sourceTell:function(e){Me.updateSourceTime(e);for(var r=0,t=0;t<e.bufsProcessed;t++)r+=e.bufQueue[t].audioBuf.duration;return r+=e.bufOffset},sourceSeek:function(e,r){var t=4114==e.state;if(t&&Me.setSourceState(e,4113),null!==e.bufQueue[e.bufsProcessed].audioBuf){for(e.bufsProcessed=0;r>e.bufQueue[e.bufsProcessed].audioBuf.duration;)r-=e.bufQueue[e.bufsProcessed].audiobuf.duration,e.bufsProcessed++;e.bufOffset=r}t&&Me.setSourceState(e,4114)},getGlobalParam:function(e,r){if(!Me.currentCtx)return null;switch(r){case 49152:return Me.currentCtx.dopplerFactor;case 49155:return Me.currentCtx.speedOfSound;case 53248:return Me.currentCtx.distanceModel;default:return Me.currentCtx.err=40962,null}},setGlobalParam:function(e,r,t){if(Me.currentCtx)switch(r){case 49152:if(!Number.isFinite(t)||t<0)return void(Me.currentCtx.err=40963);Me.currentCtx.dopplerFactor=t,Me.updateListenerSpace(Me.currentCtx);break;case 49155:if(!Number.isFinite(t)||t<=0)return void(Me.currentCtx.err=40963);Me.currentCtx.speedOfSound=t,Me.updateListenerSpace(Me.currentCtx);break;case 53248:switch(t){case 0:case 53249:case 53250:case 53251:case 53252:case 53253:case 53254:Me.currentCtx.distanceModel=t,Me.updateContextGlobal(Me.currentCtx);break;default:return void(Me.currentCtx.err=40963)}break;default:return void(Me.currentCtx.err=40962)}},getListenerParam:function(e,r){if(!Me.currentCtx)return null;switch(r){case 4100:return Me.currentCtx.listener.position;case 4102:return Me.currentCtx.listener.velocity;case 4111:return Me.currentCtx.listener.direction.concat(Me.currentCtx.listener.up);case 4106:return Me.currentCtx.gain.gain.value;default:return Me.currentCtx.err=40962,null}},setListenerParam:function(e,r,t){if(Me.currentCtx)if(null!==t){var n=Me.currentCtx.listener;switch(r){case 4100:if(!Number.isFinite(t[0])||!Number.isFinite(t[1])||!Number.isFinite(t[2]))return void(Me.currentCtx.err=40963);n.position[0]=t[0],n.position[1]=t[1],n.position[2]=t[2],Me.updateListenerSpace(Me.currentCtx);break;case 4102:if(!Number.isFinite(t[0])||!Number.isFinite(t[1])||!Number.isFinite(t[2]))return void(Me.currentCtx.err=40963);n.velocity[0]=t[0],n.velocity[1]=t[1],n.velocity[2]=t[2],Me.updateListenerSpace(Me.currentCtx);break;case 4106:if(!Number.isFinite(t)||t<0)return void(Me.currentCtx.err=40963);Me.currentCtx.gain.gain.value=t;break;case 4111:if(!(Number.isFinite(t[0])&&Number.isFinite(t[1])&&Number.isFinite(t[2])&&Number.isFinite(t[3])&&Number.isFinite(t[4])&&Number.isFinite(t[5])))return void(Me.currentCtx.err=40963);n.direction[0]=t[0],n.direction[1]=t[1],n.direction[2]=t[2],n.up[0]=t[3],n.up[1]=t[4],n.up[2]=t[5],Me.updateListenerSpace(Me.currentCtx);break;default:return void(Me.currentCtx.err=40962)}}else Me.currentCtx.err=40962},getBufferParam:function(e,r,t){if(Me.currentCtx){var n=Me.buffers[r];if(n&&0!==r)switch(t){case 8193:return n.frequency;case 8194:return 8*n.bytesPerSample;case 8195:return n.channels;case 8196:return n.length*n.bytesPerSample*n.channels;case 8213:return 0===n.length?[0,0]:[(n.audioBuf._loopStart||0)*n.frequency,(n.audioBuf._loopEnd||n.length)*n.frequency];default:return Me.currentCtx.err=40962,null}else Me.currentCtx.err=40961}},setBufferParam:function(e,r,t,n){if(Me.currentCtx){var i=Me.buffers[r];if(i&&0!==r)if(null!==n)switch(t){case 8196:if(0!==n)return void(Me.currentCtx.err=40963);break;case 8213:if(n[0]<0||n[0]>i.length||n[1]<0||n[1]>i.Length||n[0]>=n[1])return void(Me.currentCtx.err=40963);if(i.refCount>0)return void(Me.currentCtx.err=40964);i.audioBuf&&(i.audioBuf._loopStart=n[0]/i.frequency,i.audioBuf._loopEnd=n[1]/i.frequency);break;default:return void(Me.currentCtx.err=40962)}else Me.currentCtx.err=40962;else Me.currentCtx.err=40961}},getSourceParam:function(e,r,t){if(!Me.currentCtx)return null;var n=Me.currentCtx.sources[r];if(!n)return Me.currentCtx.err=40961,null;switch(t){case 514:return n.relative;case 4097:return n.coneInnerAngle;case 4098:return n.coneOuterAngle;case 4099:return n.pitch;case 4100:return n.position;case 4101:return n.direction;case 4102:return n.velocity;case 4103:return n.looping;case 4105:return 4136===n.type?n.bufQueue[0].id:0;case 4106:return n.gain.gain.value;case 4109:return n.minGain;case 4110:return n.maxGain;case 4112:return n.state;case 4117:return 1===n.bufQueue.length&&0===n.bufQueue[0].id?0:n.bufQueue.length;case 4118:return 1===n.bufQueue.length&&0===n.bufQueue[0].id||n.looping?0:n.bufsProcessed;case 4128:return n.refDistance;case 4129:return n.rolloffFactor;case 4130:return n.coneOuterGain;case 4131:return n.maxDistance;case 4132:return Me.sourceTell(n);case 4133:return(i=Me.sourceTell(n))>0&&(i*=n.bufQueue[0].frequency),i;case 4134:var i;return(i=Me.sourceTell(n))>0&&(i*=n.bufQueue[0].frequency*n.bufQueue[0].bytesPerSample),i;case 4135:return n.type;case 4628:return n.spatialize;case 8201:for(var o=0,a=0,u=0;u<n.bufQueue.length;u++)o+=n.bufQueue[u].length,0!==n.bufQueue[u].id&&(a=n.bufQueue[u].bytesPerSample*n.bufQueue[u].channels);return o*a;case 8202:for(o=0,u=0;u<n.bufQueue.length;u++)o+=n.bufQueue[u].length;return o;case 8203:return Me.sourceDuration(n);case 53248:return n.distanceModel;default:return Me.currentCtx.err=40962,null}},setSourceParam:function(e,r,t,n){if(Me.currentCtx){var i=Me.currentCtx.sources[r];if(i)if(null!==n)switch(t){case 514:if(1===n)i.relative=!0,Me.updateSourceSpace(i);else{if(0!==n)return void(Me.currentCtx.err=40963);i.relative=!1,Me.updateSourceSpace(i)}break;case 4097:if(!Number.isFinite(n))return void(Me.currentCtx.err=40963);i.coneInnerAngle=n,i.panner&&(i.panner.coneInnerAngle=n%360);break;case 4098:if(!Number.isFinite(n))return void(Me.currentCtx.err=40963);i.coneOuterAngle=n,i.panner&&(i.panner.coneOuterAngle=n%360);break;case 4099:if(!Number.isFinite(n)||n<=0)return void(Me.currentCtx.err=40963);if(i.pitch===n)break;i.pitch=n,Me.updateSourceRate(i);break;case 4100:if(!Number.isFinite(n[0])||!Number.isFinite(n[1])||!Number.isFinite(n[2]))return void(Me.currentCtx.err=40963);i.position[0]=n[0],i.position[1]=n[1],i.position[2]=n[2],Me.updateSourceSpace(i);break;case 4101:if(!Number.isFinite(n[0])||!Number.isFinite(n[1])||!Number.isFinite(n[2]))return void(Me.currentCtx.err=40963);i.direction[0]=n[0],i.direction[1]=n[1],i.direction[2]=n[2],Me.updateSourceSpace(i);break;case 4102:if(!Number.isFinite(n[0])||!Number.isFinite(n[1])||!Number.isFinite(n[2]))return void(Me.currentCtx.err=40963);i.velocity[0]=n[0],i.velocity[1]=n[1],i.velocity[2]=n[2],Me.updateSourceSpace(i);break;case 4103:if(1===n)i.looping=!0,Me.updateSourceTime(i),4136===i.type&&i.audioQueue.length>0&&((o=i.audioQueue[0]).loop=!0,o._duration=Number.POSITIVE_INFINITY);else{if(0!==n)return void(Me.currentCtx.err=40963);i.looping=!1;var o,a=Me.updateSourceTime(i);4136===i.type&&i.audioQueue.length>0&&((o=i.audioQueue[0]).loop=!1,o._duration=i.bufQueue[0].audioBuf.duration/i.playbackRate,o._startTime=a-i.bufOffset/i.playbackRate)}break;case 4105:if(4114===i.state||4115===i.state)return void(Me.currentCtx.err=40964);if(0===n){for(var u=0;u<i.bufQueue.length;u++)i.bufQueue[u].refCount--;i.bufQueue.length=1,i.bufQueue[0]=Me.buffers[0],i.bufsProcessed=0,i.type=4144}else{if(!(d=Me.buffers[n]))return void(Me.currentCtx.err=40963);for(u=0;u<i.bufQueue.length;u++)i.bufQueue[u].refCount--;i.bufQueue.length=0,d.refCount++,i.bufQueue=[d],i.bufsProcessed=0,i.type=4136}Me.initSourcePanner(i),Me.scheduleSourceAudio(i);break;case 4106:if(!Number.isFinite(n)||n<0)return void(Me.currentCtx.err=40963);i.gain.gain.value=n;break;case 4109:if(!Number.isFinite(n)||n<0||n>Math.min(i.maxGain,1))return void(Me.currentCtx.err=40963);i.minGain=n;break;case 4110:if(!Number.isFinite(n)||n<Math.max(0,i.minGain)||n>1)return void(Me.currentCtx.err=40963);i.maxGain=n;break;case 4128:if(!Number.isFinite(n)||n<0)return void(Me.currentCtx.err=40963);i.refDistance=n,i.panner&&(i.panner.refDistance=n);break;case 4129:if(!Number.isFinite(n)||n<0)return void(Me.currentCtx.err=40963);i.rolloffFactor=n,i.panner&&(i.panner.rolloffFactor=n);break;case 4130:if(!Number.isFinite(n)||n<0||n>1)return void(Me.currentCtx.err=40963);i.coneOuterGain=n,i.panner&&(i.panner.coneOuterGain=n);break;case 4131:if(!Number.isFinite(n)||n<0)return void(Me.currentCtx.err=40963);i.maxDistance=n,i.panner&&(i.panner.maxDistance=n);break;case 4132:if(n<0||n>Me.sourceDuration(i))return void(Me.currentCtx.err=40963);Me.sourceSeek(i,n);break;case 4133:if((l=Me.sourceDuration(i))>0){var s;for(var c in i.bufQueue)if(c){s=i.bufQueue[c].frequency;break}n/=s}if(n<0||n>l)return void(Me.currentCtx.err=40963);Me.sourceSeek(i,n);break;case 4134:var l;if((l=Me.sourceDuration(i))>0){var f;for(var c in i.bufQueue)if(c){var d;f=(d=i.bufQueue[c]).frequency*d.bytesPerSample*d.channels;break}n/=f}if(n<0||n>l)return void(Me.currentCtx.err=40963);Me.sourceSeek(i,n);break;case 4628:if(0!==n&&1!==n&&2!==n)return void(Me.currentCtx.err=40963);i.spatialize=n,Me.initSourcePanner(i);break;case 8201:case 8202:case 8203:Me.currentCtx.err=40964;break;case 53248:switch(n){case 0:case 53249:case 53250:case 53251:case 53252:case 53253:case 53254:i.distanceModel=n,Me.currentCtx.sourceDistanceModel&&Me.updateContextGlobal(Me.currentCtx);break;default:return void(Me.currentCtx.err=40963)}break;default:return void(Me.currentCtx.err=40962)}else Me.currentCtx.err=40962;else Me.currentCtx.err=40961}},captures:{},sharedCaptureAudioCtx:null,requireValidCaptureDevice:function(e,r){if(0===e)return Me.alcErr=40961,null;var t=Me.captures[e];return t?t.mediaStreamError?(Me.alcErr=40961,null):t:(Me.alcErr=40961,null)}};function Ne(e,r,t){switch(r){case 514:case 4097:case 4098:case 4103:case 4105:case 4128:case 4129:case 4131:case 4132:case 4133:case 4134:case 4628:case 8201:case 8202:case 53248:Me.setSourceParam("alSourcei",e,r,t);break;default:Me.setSourceParam("alSourcei",e,r,null)}}var Oe={errorCode:12288,defaultDisplayInitialized:!1,currentContext:0,currentReadSurface:0,currentDrawSurface:0,contextAttributes:{alpha:!1,depth:!1,stencil:!1,antialias:!1},stringCache:{},setErrorCode:function(e){Oe.errorCode=e},chooseConfig:function(e,r,t,n,i){if(62e3!=e)return Oe.setErrorCode(12296),0;if(r)for(;;){var o=M[r>>2];if(12321==o){var a=M[r+4>>2];Oe.contextAttributes.alpha=a>0}else if(12325==o){var u=M[r+4>>2];Oe.contextAttributes.depth=u>0}else if(12326==o){var s=M[r+4>>2];Oe.contextAttributes.stencil=s>0}else if(12337==o){var c=M[r+4>>2];Oe.contextAttributes.antialias=c>0}else if(12338==o)c=M[r+4>>2],Oe.contextAttributes.antialias=1==c;else if(12544==o){var l=M[r+4>>2];Oe.contextAttributes.lowLatency=12547!=l}else if(12344==o)break;r+=8}return t&&n||i?(i&&(M[i>>2]=1),t&&n>0&&(M[t>>2]=62002),Oe.setErrorCode(12288),1):(Oe.setErrorCode(12300),0)}},Ge={counter:1,lastError:0,buffers:[],mappedBuffers:{},programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:[],currentContext:null,offscreenCanvases:{},timerQueriesEXT:[],queries:[],samplers:[],transformFeedbacks:[],syncs:[],programInfos:{},stringCache:{},stringiCache:{},unpackAlignment:4,init:function(){for(var e=new Float32Array(Ge.MINI_TEMP_BUFFER_SIZE),r=0;r<Ge.MINI_TEMP_BUFFER_SIZE;r++)Ge.miniTempBufferFloatViews[r]=e.subarray(0,r+1);var t=new Int32Array(Ge.MINI_TEMP_BUFFER_SIZE);for(r=0;r<Ge.MINI_TEMP_BUFFER_SIZE;r++)Ge.miniTempBufferIntViews[r]=t.subarray(0,r+1)},recordError:function(e){Ge.lastError||(Ge.lastError=e)},getNewId:function(e){for(var r=Ge.counter++,t=e.length;t<r;t++)e[t]=null;return r},MINI_TEMP_BUFFER_SIZE:256,miniTempBufferFloatViews:[0],miniTempBufferIntViews:[0],getSource:function(e,r,t,n){for(var i="",o=0;o<r;++o){var a=n?M[n+4*o>>2]:-1;i+=z(M[t+4*o>>2],a<0?void 0:a)}return i},createContext:function(e,r){var t=r.majorVersion>1?e.getContext("webgl2",r):e.getContext("webgl",r);return t?Ge.registerContext(t,r):0},registerContext:function(e,r){var t=Ge.getNewId(Ge.contexts),n={handle:t,attributes:r,version:r.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=n),Ge.contexts[t]=n,(void 0===r.enableExtensionsByDefault||r.enableExtensionsByDefault)&&Ge.initExtensions(n),t},makeContextCurrent:function(e){return Ge.currentContext=Ge.contexts[e],r.ctx=Or=Ge.currentContext&&Ge.currentContext.GLctx,!(e&&!Or)},getContext:function(e){return Ge.contexts[e]},deleteContext:function(e){Ge.currentContext===Ge.contexts[e]&&(Ge.currentContext=null),"object"==typeof Ue&&Ue.removeAllHandlersOnTarget(Ge.contexts[e].GLctx.canvas),Ge.contexts[e]&&Ge.contexts[e].GLctx.canvas&&(Ge.contexts[e].GLctx.canvas.GLctxObject=void 0),Ge.contexts[e]=null},initExtensions:function(e){if(e||(e=Ge.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var r,t=e.GLctx;(r=t).dibvbi=r.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"),t.disjointTimerQueryExt=t.getExtension("EXT_disjoint_timer_query");var n=["OES_texture_float","OES_texture_half_float","OES_standard_derivatives","OES_vertex_array_object","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","OES_element_index_uint","EXT_texture_filter_anisotropic","EXT_frag_depth","WEBGL_draw_buffers","ANGLE_instanced_arrays","OES_texture_float_linear","OES_texture_half_float_linear","EXT_blend_minmax","EXT_shader_texture_lod","EXT_texture_norm16","WEBGL_compressed_texture_pvrtc","EXT_color_buffer_half_float","WEBGL_color_buffer_float","EXT_sRGB","WEBGL_compressed_texture_etc1","EXT_disjoint_timer_query","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_astc","EXT_color_buffer_float","WEBGL_compressed_texture_s3tc_srgb","EXT_disjoint_timer_query_webgl2","WEBKIT_WEBGL_compressed_texture_pvrtc"];(t.getSupportedExtensions()||[]).forEach((function(e){-1!=n.indexOf(e)&&t.getExtension(e)}))}},populateUniformTable:function(e){for(var r=Ge.programs[e],t=Ge.programInfos[e]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1},n=t.uniforms,i=Or.getProgramParameter(r,35718),o=0;o<i;++o){var a=Or.getActiveUniform(r,o),u=a.name;t.maxUniformLength=Math.max(t.maxUniformLength,u.length+1),"]"==u.slice(-1)&&(u=u.slice(0,u.lastIndexOf("[")));var s=Or.getUniformLocation(r,u);if(s){var c=Ge.getNewId(Ge.uniforms);n[u]=[a.size,c],Ge.uniforms[c]=s;for(var l=1;l<a.size;++l){var f=u+"["+l+"]";s=Or.getUniformLocation(r,f),c=Ge.getNewId(Ge.uniforms),Ge.uniforms[c]=s}}}}},Ue={keyEvent:0,mouseEvent:0,wheelEvent:0,uiEvent:0,focusEvent:0,deviceOrientationEvent:0,deviceMotionEvent:0,fullscreenChangeEvent:0,pointerlockChangeEvent:0,visibilityChangeEvent:0,touchEvent:0,previousFullscreenElement:null,previousScreenX:null,previousScreenY:null,removeEventListenersRegistered:!1,removeAllEventListeners:function(){for(var e=Ue.eventHandlers.length-1;e>=0;--e)Ue._removeHandler(e);Ue.eventHandlers=[],Ue.deferredCalls=[]},registerRemoveEventListeners:function(){Ue.removeEventListenersRegistered||(re.push(Ue.removeAllEventListeners),Ue.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(e,r,t){function n(e,r){if(e.length!=r.length)return!1;for(var t in e)if(e[t]!=r[t])return!1;return!0}for(var i in Ue.deferredCalls){var o=Ue.deferredCalls[i];if(o.targetFunction==e&&n(o.argsList,t))return}Ue.deferredCalls.push({targetFunction:e,precedence:r,argsList:t}),Ue.deferredCalls.sort((function(e,r){return e.precedence<r.precedence}))},removeDeferredCalls:function(e){for(var r=0;r<Ue.deferredCalls.length;++r)Ue.deferredCalls[r].targetFunction==e&&(Ue.deferredCalls.splice(r,1),--r)},canPerformEventHandlerRequests:function(){return Ue.inEventHandler&&Ue.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(Ue.canPerformEventHandlerRequests())for(var e=0;e<Ue.deferredCalls.length;++e){var r=Ue.deferredCalls[e];Ue.deferredCalls.splice(e,1),--e,r.targetFunction.apply(null,r.argsList)}},inEventHandler:0,currentEventHandler:null,eventHandlers:[],removeAllHandlersOnTarget:function(e,r){for(var t=0;t<Ue.eventHandlers.length;++t)Ue.eventHandlers[t].target!=e||r&&r!=Ue.eventHandlers[t].eventTypeString||Ue._removeHandler(t--)},_removeHandler:function(e){var r=Ue.eventHandlers[e];r.target.removeEventListener(r.eventTypeString,r.eventListenerFunc,r.useCapture),Ue.eventHandlers.splice(e,1)},registerOrRemoveHandler:function(e){var r=function(r){++Ue.inEventHandler,Ue.currentEventHandler=e,Ue.runDeferredCalls(),e.handlerFunc(r),Ue.runDeferredCalls(),--Ue.inEventHandler};if(e.callbackfunc)e.eventListenerFunc=r,e.target.addEventListener(e.eventTypeString,r,e.useCapture),Ue.eventHandlers.push(e),Ue.registerRemoveEventListeners();else for(var t=0;t<Ue.eventHandlers.length;++t)Ue.eventHandlers[t].target==e.target&&Ue.eventHandlers[t].eventTypeString==e.eventTypeString&&Ue._removeHandler(t--)},getNodeNameForTarget:function(e){return e?e==window?"#window":e==screen?"#screen":e&&e.nodeName?e.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}},je={},ze=[0,document,window];function Qe(e){var r;return e=(r=e)>2?z(r):r,ze[e]||document.querySelector(e)}function qe(e){return Qe(e)}function Xe(e,r,t){var n=qe(e);if(!n)return-4;M[r>>2]=n.width,M[t>>2]=n.height}function Ve(e){var r=ht(),t=_t(8),n=t+4,i=_t(e.id.length+1);q(e.id,i,e.id.length+1),Xe(i,t,n);var o=[M[t>>2],M[n>>2]];return bt(r),o}function He(e,r,t){var n=qe(e);return n?(n.width=r,n.height=t,0):-4}function We(e,r,t){if(e.controlTransferredOffscreen){var n=ht(),i=_t(e.id.length+1);q(e.id,i,e.id.length+1),He(i,r,t),bt(n)}else e.width=r,e.height=t}function Ye(e,r,t){e.style.paddingLeft=e.style.paddingRight=t+"px",e.style.paddingTop=e.style.paddingBottom=r+"px"}function Ke(e){return ze.indexOf(e)<0?e.getBoundingClientRect():{left:0,top:0}}function Ze(e,r){var t=function(e){var r=Ve(e),t=r[0],n=r[1],i=e.style.width,o=e.style.height,a=e.style.backgroundColor,u=document.body.style.backgroundColor,s=e.style.paddingLeft,c=e.style.paddingRight,l=e.style.paddingTop,f=e.style.paddingBottom,d=e.style.marginLeft,m=e.style.marginRight,p=e.style.marginTop,v=e.style.marginBottom,g=document.body.style.margin,h=document.documentElement.style.overflow,_=document.body.scroll,b=e.style.imageRendering;function y(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||(document.removeEventListener("fullscreenchange",y),document.removeEventListener("webkitfullscreenchange",y),We(e,t,n),e.style.width=i,e.style.height=o,e.style.backgroundColor=a,u||(document.body.style.backgroundColor="white"),document.body.style.backgroundColor=u,e.style.paddingLeft=s,e.style.paddingRight=c,e.style.paddingTop=l,e.style.paddingBottom=f,e.style.marginLeft=d,e.style.marginRight=m,e.style.marginTop=p,e.style.marginBottom=v,document.body.style.margin=g,document.documentElement.style.overflow=h,document.body.scroll=_,e.style.imageRendering=b,e.GLctxObject&&e.GLctxObject.GLctx.viewport(0,0,t,n),je.canvasResizedCallback&&lt(je.canvasResizedCallback,37,0,je.canvasResizedCallbackUserData))}return document.addEventListener("fullscreenchange",y),document.addEventListener("webkitfullscreenchange",y),y}(e),n=r.softFullscreen?innerWidth:screen.width,i=r.softFullscreen?innerHeight:screen.height,o=Ke(e),a=o.width,u=o.height,s=Ve(e),c=s[0],l=s[1];if(3==r.scaleMode)Ye(e,(i-u)/2,(n-a)/2),n=a,i=u;else if(2==r.scaleMode)if(n*l<c*i){var f=l*n/c;Ye(e,(i-f)/2,0),i=f}else{var d=c*i/l;Ye(e,0,(n-d)/2),n=d}e.style.backgroundColor||(e.style.backgroundColor="black"),document.body.style.backgroundColor||(document.body.style.backgroundColor="black"),e.style.width=n+"px",e.style.height=i+"px",1==r.filteringMode&&(e.style.imageRendering="optimizeSpeed",e.style.imageRendering="-moz-crisp-edges",e.style.imageRendering="-o-crisp-edges",e.style.imageRendering="-webkit-optimize-contrast",e.style.imageRendering="optimize-contrast",e.style.imageRendering="crisp-edges",e.style.imageRendering="pixelated");var m=2==r.canvasResolutionScaleMode?devicePixelRatio:1;if(0!=r.canvasResolutionScaleMode){var p=n*m|0,v=i*m|0;We(e,p,v),e.GLctxObject&&e.GLctxObject.GLctx.viewport(0,0,p,v)}return t}function $e(e,r){if(0==r.scaleMode&&0==r.canvasResolutionScaleMode||Ze(e,r),e.requestFullscreen)e.requestFullscreen();else{if(!e.webkitRequestFullscreen)return Ue.fullscreenEnabled()?-3:-1;e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}return je=r,r.canvasResizedCallback&&lt(r.canvasResizedCallback,37,0,r.canvasResizedCallbackUserData),0}function Je(e){if(e.requestPointerLock)e.requestPointerLock();else{if(!e.msRequestPointerLock)return document.body.requestPointerLock||document.body.msRequestPointerLock?-3:-1;e.msRequestPointerLock()}return 0}function er(e){var r=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement,t=!!r;M[e>>2]=t,M[e+4>>2]=Ue.fullscreenEnabled();var n=t?r:Ue.previousFullscreenElement,i=Ue.getNodeNameForTarget(n),o=n&&n.id?n.id:"";q(i,e+8,128),q(o,e+136,128),M[e+264>>2]=n?n.clientWidth:0,M[e+268>>2]=n?n.clientHeight:0,M[e+272>>2]=screen.width,M[e+276>>2]=screen.height,t&&(Ue.previousFullscreenElement=r)}function rr(e,r){G[e>>3]=r.timestamp;for(var t=0;t<r.axes.length;++t)G[e+8*t+16>>3]=r.axes[t];for(t=0;t<r.buttons.length;++t)"object"==typeof r.buttons[t]?G[e+8*t+528>>3]=r.buttons[t].value:G[e+8*t+528>>3]=r.buttons[t];for(t=0;t<r.buttons.length;++t)"object"==typeof r.buttons[t]?M[e+4*t+1040>>2]=r.buttons[t].pressed:M[e+4*t+1040>>2]=1==r.buttons[t];M[e+1296>>2]=r.connected,M[e+1300>>2]=r.index,M[e+8>>2]=r.axes.length,M[e+12>>2]=r.buttons.length,q(r.id,e+1304,64),q(r.mapping,e+1368,64)}function tr(e,r){return(e>>>0)+4294967296*r}var nr=[];function ir(e,r,t,n){for(var i=0;i<e;i++){var o=Or[t](),a=o&&Ge.getNewId(n);o?(o.name=a,n[a]=o):Ge.recordError(1282),M[r+4*i>>2]=a}}function or(e,r){N[e>>2]=r,N[e+4>>2]=(r-N[e>>2])/4294967296}function ar(e,r,t){if(r){var n=void 0;switch(e){case 36346:n=1;break;case 36344:return void(0!=t&&1!=t&&Ge.recordError(1280));case 34814:case 36345:n=0;break;case 34466:var i=Or.getParameter(34467);n=i?i.length:0;break;case 33309:if(Ge.currentContext.version<2)return void Ge.recordError(1282);n=2*(Or.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(Ge.currentContext.version<2)return void Ge.recordError(1280);n=33307==e?3:0}if(void 0===n){var o=Or.getParameter(e);switch(typeof o){case"number":n=o;break;case"boolean":n=o?1:0;break;case"string":return void Ge.recordError(1280);case"object":if(null===o)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:n=0;break;default:return void Ge.recordError(1280)}else{if(o instanceof Float32Array||o instanceof Uint32Array||o instanceof Int32Array||o instanceof Array){for(var a=0;a<o.length;++a)switch(t){case 0:M[r+4*a>>2]=o[a];break;case 2:O[r+4*a>>2]=o[a];break;case 4:L[r+a>>0]=o[a]?1:0}return}try{n=0|o.name}catch(u){return Ge.recordError(1280),void v("GL_INVALID_ENUM in glGet"+t+"v: Unknown object returned from WebGL getParameter("+e+")! (error: "+u+")")}}break;default:return Ge.recordError(1280),void v("GL_INVALID_ENUM in glGet"+t+"v: Native code calling glGet"+t+"v("+e+") and it returns "+o+" of type "+typeof o+"!")}}switch(t){case 1:or(r,n);break;case 0:M[r>>2]=n;break;case 2:O[r>>2]=n;break;case 4:L[r>>0]=n?1:0}}else Ge.recordError(1281)}function ur(e,r,t,n){if(t){var i,o=Or.getIndexedParameter(e,r);switch(typeof o){case"boolean":i=o?1:0;break;case"number":i=o;break;case"object":if(null===o)switch(e){case 35983:case 35368:i=0;break;default:return void Ge.recordError(1280)}else{if(!(o instanceof WebGLBuffer))return void Ge.recordError(1280);i=0|o.name}break;default:return void Ge.recordError(1280)}switch(n){case 1:or(t,i);break;case 0:M[t>>2]=i;break;case 2:O[t>>2]=i;break;case 4:L[t>>0]=i?1:0;break;default:throw"internal emscriptenWebGLGetIndexed() error, bad type: "+n}}else Ge.recordError(1281)}function sr(e){var r=X(e)+1,t=Hr(r);return q(e,t,r),t}function cr(e,r,t,n){if(t){var i=Or.getUniform(Ge.programs[e],Ge.uniforms[r]);if("number"==typeof i||"boolean"==typeof i)switch(n){case 0:M[t>>2]=i;break;case 2:O[t>>2]=i;break;default:throw"internal emscriptenWebGLGetUniform() error, bad type: "+n}else for(var o=0;o<i.length;o++)switch(n){case 0:M[t+4*o>>2]=i[o];break;case 2:O[t+4*o>>2]=i[o];break;default:throw"internal emscriptenWebGLGetUniform() error, bad type: "+n}}else Ge.recordError(1281)}function lr(e,r,t,n){if(t){var i=Or.getVertexAttrib(e,r);if(34975==r)M[t>>2]=i&&i.name;else if("number"==typeof i||"boolean"==typeof i)switch(n){case 0:M[t>>2]=i;break;case 2:O[t>>2]=i;break;case 5:M[t>>2]=Math.fround(i);break;default:throw"internal emscriptenWebGLGetVertexAttrib() error, bad type: "+n}else for(var o=0;o<i.length;o++)switch(n){case 0:M[t+4*o>>2]=i[o];break;case 2:O[t+4*o>>2]=i[o];break;case 5:M[t+4*o>>2]=Math.fround(i[o]);break;default:throw"internal emscriptenWebGLGetVertexAttrib() error, bad type: "+n}}else Ge.recordError(1281)}function fr(e){return 0==(e-=5120)?L:1==e?I:2==e?B:4==e?M:6==e?O:5==e||28922==e||28520==e||30779==e||30782==e?N:R}function dr(e){return 31-Math.clz32(e.BYTES_PER_ELEMENT)}function mr(e,r,t,n,i,o){var a=fr(e),u=dr(a),s=1<<u,c=function(e,r,t,n){var i;return r*(e*t+(i=n)-1&-i)}(t,n,function(e){return{5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[e-6402]||1}(r)*s,Ge.unpackAlignment);return a.subarray(i>>u,i+c>>u)}function pr(e){if(!e||!e.callee||!e.callee.name)return[null,"",""];e.callee.toString();var r=e.callee.name,t="(",n=!0;for(var i in e){var o=e[i];n||(t+=", "),n=!1,t+="number"==typeof o||"string"==typeof o?o:"("+typeof o+")"}t+=")";var a=e.callee.caller;return n&&(t=""),[e=a?a.arguments:[],r,t]}function vr(e,r){24&e&&(r=r.replace(/\s+$/,""),r+=(r.length>0?"\n":"")+function(e){var r=xe(),t=r.lastIndexOf("_emscripten_log"),n=r.lastIndexOf("_emscripten_get_callstack"),i=r.indexOf("\n",Math.max(t,n))+1;r=r.slice(i),8&e&&"undefined"==typeof emscripten_source_map&&(_('Source map information is not available, emscripten_log with EM_LOG_C_STACK will be ignored. Build with "--pre-js $EMSCRIPTEN/src/emscripten-source-map.min.js" linker flag to add source map loading to code.'),e^=8,e|=16);var o=null;if(128&e)for(o=pr(arguments);o[1].indexOf("_emscripten_")>=0;)o=pr(o[0]);var a=r.split("\n");r="";var u=new RegExp("\\s*(.*?)@(.*?):([0-9]+):([0-9]+)"),s=new RegExp("\\s*(.*?)@(.*):(.*)(:(.*))?"),c=new RegExp("\\s*at (.*?) \\((.*):(.*):(.*)\\)");for(var l in a){var f=a[l],d="",m="",p=0,v=0,g=c.exec(f);if(g&&5==g.length)d=g[1],m=g[2],p=g[3],v=g[4];else{if((g=u.exec(f))||(g=s.exec(f)),!(g&&g.length>=4)){r+=f+"\n";continue}d=g[1],m=g[2],p=g[3],v=0|g[4]}var h=d;h||(h=d);var b=!1;if(8&e){var y=emscripten_source_map.originalPositionFor({line:p,column:v});(b=y&&y.source)&&(64&e&&(y.source=y.source.substring(y.source.replace(/\\/g,"/").lastIndexOf("/")+1)),r+="    at "+h+" ("+y.source+":"+y.line+":"+y.column+")\n")}(16&e||!b)&&(64&e&&(m=m.substring(m.replace(/\\/g,"/").lastIndexOf("/")+1)),r+=(b?"     = "+d:"    at "+h)+" ("+m+":"+p+":"+v+")\n"),128&e&&o[0]&&(o[1]==d&&o[2].length>0&&(r=r.replace(/\s+$/,""),r+=" with values: "+o[1]+o[2]+"\n"),o=pr(o[0]))}return r=r.replace(/\s+$/,"")}(e)),1&e?4&e?console.error(r):2&e?console.warn(r):512&e?console.info(r):256&e?console.debug(r):console.log(r):6&e?v(r):p(r)}var gr=0;function hr(e){try{return E.grow(e-T.byteLength+65535>>>16),W(E.buffer),1}catch(r){}}function _r(e,r,t,n,i,o,a){Ue.focusEvent||(Ue.focusEvent=Hr(256));var u={target:Qe(e),eventTypeString:o,callbackfunc:n,handlerFunc:function(e){var t=e||event,o=Ue.getNodeNameForTarget(t.target),a=t.target.id?t.target.id:"",u=Ue.focusEvent;q(o,u+0,128),q(a,u+128,128),lt(n,i,u,r)&&t.preventDefault()},useCapture:t};Ue.registerOrRemoveHandler(u)}function br(e,r,t,n,i,o,a){Ue.fullscreenChangeEvent||(Ue.fullscreenChangeEvent=Hr(280));var u={target:e,eventTypeString:o,callbackfunc:n,handlerFunc:function(e){var t=e||event,o=Ue.fullscreenChangeEvent;er(o),lt(n,i,o,r)&&t.preventDefault()},useCapture:t};Ue.registerOrRemoveHandler(u)}function yr(e,r,t,n,i,o,a){Ue.gamepadEvent||(Ue.gamepadEvent=Hr(1432));var u={target:Qe(e),allowsDeferredCalls:!0,eventTypeString:o,callbackfunc:n,handlerFunc:function(e){var t=e||event,o=Ue.gamepadEvent;rr(o,t.gamepad),lt(n,i,o,r)&&t.preventDefault()},useCapture:t};Ue.registerOrRemoveHandler(u)}function wr(e,r,t,n,i,o,a){Ue.keyEvent||(Ue.keyEvent=Hr(164));var u={target:Qe(e),allowsDeferredCalls:!0,eventTypeString:o,callbackfunc:n,handlerFunc:function(e){var t=e||event,o=Ue.keyEvent;q(t.key?t.key:"",o+0,32),q(t.code?t.code:"",o+32,32),M[o+64>>2]=t.location,M[o+68>>2]=t.ctrlKey,M[o+72>>2]=t.shiftKey,M[o+76>>2]=t.altKey,M[o+80>>2]=t.metaKey,M[o+84>>2]=t.repeat,q(t.locale?t.locale:"",o+88,32),q(t.char?t.char:"",o+120,32),M[o+152>>2]=t.charCode,M[o+156>>2]=t.keyCode,M[o+160>>2]=t.which,lt(n,i,o,r)&&t.preventDefault()},useCapture:t};Ue.registerOrRemoveHandler(u)}function Er(e,r,t){M[e>>2]=r.screenX,M[e+4>>2]=r.screenY,M[e+8>>2]=r.clientX,M[e+12>>2]=r.clientY,M[e+16>>2]=r.ctrlKey,M[e+20>>2]=r.shiftKey,M[e+24>>2]=r.altKey,M[e+28>>2]=r.metaKey,B[e+32>>1]=r.button,B[e+34>>1]=r.buttons;var n=r.movementX||r.screenX-Ue.previousScreenX,i=r.movementY||r.screenY-Ue.previousScreenY;M[e+36>>2]=n,M[e+40>>2]=i;var o=Ke(t);M[e+44>>2]=r.clientX-o.left,M[e+48>>2]=r.clientY-o.top,"wheel"!==r.type&&"mousewheel"!==r.type&&(Ue.previousScreenX=r.screenX,Ue.previousScreenY=r.screenY)}function xr(e,r,t,n,i,o,a){Ue.mouseEvent||(Ue.mouseEvent=Hr(64));var u={target:e=Qe(e),allowsDeferredCalls:"mousemove"!=o&&"mouseenter"!=o&&"mouseleave"!=o,eventTypeString:o,callbackfunc:n,handlerFunc:function(t){var o=t||event;Er(Ue.mouseEvent,o,e),lt(n,i,Ue.mouseEvent,r)&&o.preventDefault()},useCapture:t};Ue.registerOrRemoveHandler(u)}function kr(e,r,t,n,i,o,a){Ue.pointerlockChangeEvent||(Ue.pointerlockChangeEvent=Hr(260));var u={target:e,eventTypeString:o,callbackfunc:n,handlerFunc:function(e){var t=e||event,o=Ue.pointerlockChangeEvent;!function(e){var r=document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement||document.msPointerLockElement,t=!!r;M[e>>2]=t;var n=Ue.getNodeNameForTarget(r),i=r&&r.id?r.id:"";q(n,e+4,128),q(i,e+132,128)}(o),lt(n,i,o,r)&&t.preventDefault()},useCapture:t};Ue.registerOrRemoveHandler(u)}function Cr(e,r,t,n,i,o,a){Ue.touchEvent||(Ue.touchEvent=Hr(1684));var u={target:e=Qe(e),allowsDeferredCalls:"touchstart"==o||"touchend"==o,eventTypeString:o,callbackfunc:n,handlerFunc:function(t){for(var o=t||event,a={},u=0;u<o.touches.length;++u)(s=o.touches[u]).changed=!1,a[s.identifier]=s;for(u=0;u<o.changedTouches.length;++u)a[(s=o.changedTouches[u]).identifier]=s,s.changed=!0;for(u=0;u<o.targetTouches.length;++u){var s;a[(s=o.targetTouches[u]).identifier].onTarget=!0}var c=Ue.touchEvent,l=c;M[l+4>>2]=o.ctrlKey,M[l+8>>2]=o.shiftKey,M[l+12>>2]=o.altKey,M[l+16>>2]=o.metaKey,l+=20;var f=Ke(e),d=0;for(var u in a){var m=a[u];if(M[l>>2]=m.identifier,M[l+4>>2]=m.screenX,M[l+8>>2]=m.screenY,M[l+12>>2]=m.clientX,M[l+16>>2]=m.clientY,M[l+20>>2]=m.pageX,M[l+24>>2]=m.pageY,M[l+28>>2]=m.changed,M[l+32>>2]=m.onTarget,M[l+36>>2]=m.clientX-f.left,M[l+40>>2]=m.clientY-f.top,l+=52,++d>=32)break}M[c>>2]=d,lt(n,i,c,r)&&o.preventDefault()},useCapture:t};Ue.registerOrRemoveHandler(u)}function Sr(e,r,t,n,i,o,a){Ue.visibilityChangeEvent||(Ue.visibilityChangeEvent=Hr(8));var u={target:e,eventTypeString:o,callbackfunc:n,handlerFunc:function(e){var t,o,a=e||event,u=Ue.visibilityChangeEvent;t=u,o=["hidden","visible","prerender","unloaded"].indexOf(document.visibilityState),M[t>>2]=document.hidden,M[t+4>>2]=o,lt(n,i,u,r)&&a.preventDefault()},useCapture:t};Ue.registerOrRemoveHandler(u)}function Dr(e,r,t,n,i,o,a){Ue.wheelEvent||(Ue.wheelEvent=Hr(96));var u={target:e,allowsDeferredCalls:!0,eventTypeString:o,callbackfunc:n,handlerFunc:"wheel"==o?function(t){var o=t||event,a=Ue.wheelEvent;Er(a,o,e),G[a+64>>3]=o.deltaX,G[a+72>>3]=o.deltaY,G[a+80>>3]=o.deltaZ,M[a+88>>2]=o.deltaMode,lt(n,i,a,r)&&o.preventDefault()}:function(t){var o=t||event;Er(Ue.wheelEvent,o,e),G[Ue.wheelEvent+64>>3]=o.wheelDeltaX||0;var a=-(o.wheelDeltaY||o.wheelDelta);G[Ue.wheelEvent+72>>3]=a,G[Ue.wheelEvent+80>>3]=0,M[Ue.wheelEvent+88>>2]=0,lt(n,i,Ue.wheelEvent,r)&&o.preventDefault()},useCapture:t};Ue.registerOrRemoveHandler(u)}var Fr={xhrs:[],setu64:function(e,r){N[e>>2]=r,N[e+4>>2]=r/4294967296|0},openDatabase:function(e,r,t,n){try{var i=indexedDB.open(e,r)}catch(o){return n(o)}i.onupgradeneeded=function(e){var r=e.target.result;r.objectStoreNames.contains("FILES")&&r.deleteObjectStore("FILES"),r.createObjectStore("FILES")},i.onsuccess=function(e){t(e.target.result)},i.onerror=function(e){n(e)}},staticInit:function(){Fr.openDatabase("emscripten_filesystem",1,(function(e){Fr.dbInstance=e,pe()}),(function(){Fr.dbInstance=!1,pe()})),"undefined"!=typeof ENVIRONMENT_IS_FETCH_WORKER&&ENVIRONMENT_IS_FETCH_WORKER||me()}};function Ar(e,r,t,n,i){var o=N[e+8>>2];if(o){var a=z(o),u=e+112,s=z(u);s||(s="GET"),N[u+32>>2];var c=N[u+52>>2],l=N[u+56>>2],f=!!N[u+60>>2],d=(N[u+64>>2],N[u+68>>2]),m=N[u+72>>2],p=N[u+76>>2],v=N[u+80>>2],g=N[u+84>>2],h=N[u+88>>2],_=!!(1&c),b=!!(2&c),y=!!(64&c),w=d?z(d):void 0,E=m?z(m):void 0,x=v?z(v):void 0,k=new XMLHttpRequest;if(k.withCredentials=f,k.open(s,a,!y,w,E),y||(k.timeout=l),k.url_=a,k.responseType="arraybuffer",v&&k.overrideMimeType(x),p)for(;;){var C=N[p>>2];if(!C)break;var S=N[p+4>>2];if(!S)break;p+=8;var D=z(C),F=z(S);k.setRequestHeader(D,F)}Fr.xhrs.push(k);var A=Fr.xhrs.length;N[e+0>>2]=A;var P=g&&h?I.slice(g,g+h):null;k.onload=function(n){var i=k.response?k.response.byteLength:0,o=0,a=0;_&&!b&&(o=Hr(a=i),I.set(new Uint8Array(k.response),o)),N[e+12>>2]=o,Fr.setu64(e+16,a),Fr.setu64(e+24,0),i&&Fr.setu64(e+32,i),R[e+40>>1]=k.readyState,4===k.readyState&&0===k.status&&(k.status=i>0?200:404),R[e+42>>1]=k.status,k.statusText&&q(k.statusText,e+44,64),k.status>=200&&k.status<300?r&&r(e,k,n):t&&t(e,k,n)},k.onerror=function(r){var n=k.status;4===k.readyState&&0===n&&(n=404),N[e+12>>2]=0,Fr.setu64(e+16,0),Fr.setu64(e+24,0),Fr.setu64(e+32,0),R[e+40>>1]=k.readyState,R[e+42>>1]=n,t&&t(e,k,r)},k.ontimeout=function(r){t&&t(e,k,r)},k.onprogress=function(r){var t=_&&b&&k.response?k.response.byteLength:0,i=0;_&&b&&(i=Hr(t),I.set(new Uint8Array(k.response),i)),N[e+12>>2]=i,Fr.setu64(e+16,t),Fr.setu64(e+24,r.loaded-t),Fr.setu64(e+32,r.total),R[e+40>>1]=k.readyState,k.readyState>=3&&0===k.status&&r.loaded>0&&(k.status=200),R[e+42>>1]=k.status,k.statusText&&q(k.statusText,e+44,64),n&&n(e,k,r)},k.onreadystatechange=function(r){R[e+40>>1]=k.readyState,k.readyState>=2&&(R[e+42>>1]=k.status),i&&i(e,k,r)};try{k.send(P)}catch(T){t&&t(e,k,T)}}else t(e,0,"no url specified!")}function Pr(e,r,t,n,i){if(e){var o=N[r+112+64>>2];o||(o=N[r+8>>2]);var a=z(o);try{var u=e.transaction(["FILES"],"readwrite").objectStore("FILES").put(t,a);u.onsuccess=function(e){R[r+40>>1]=4,R[r+42>>1]=200,q("OK",r+44,64),n(r,0,a)},u.onerror=function(e){R[r+40>>1]=4,R[r+42>>1]=413,q("Payload Too Large",r+44,64),i(r,0,e)}}catch(s){i(r,0,s)}}else i(r,0,"IndexedDB not available!")}var Tr={};function Lr(){if(!Lr.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:f||"./this.program"};for(var r in Tr)e[r]=Tr[r];var t=[];for(var r in e)t.push(r+"="+e[r]);Lr.strings=t}return Lr.strings}var Ir=(q("GMT",887040,4),887040);function Br(){if(!Br.called){Br.called=!0,M[Jr()>>2]=60*(new Date).getTimezoneOffset();var e=(new Date).getFullYear(),r=new Date(e,0,1),t=new Date(e,6,1);M[$r()>>2]=Number(r.getTimezoneOffset()!=t.getTimezoneOffset());var n=u(r),i=u(t),o=V(n),a=V(i);t.getTimezoneOffset()<r.getTimezoneOffset()?(M[Zr()>>2]=o,M[Zr()+4>>2]=a):(M[Zr()>>2]=a,M[Zr()+4>>2]=o)}function u(e){var r=e.toTimeString().match(/\(([A-Za-z ]+)\)$/);return r?r[1]:"GMT"}}function Rr(e,r){Br();var t=new Date(1e3*M[e>>2]);M[r>>2]=t.getSeconds(),M[r+4>>2]=t.getMinutes(),M[r+8>>2]=t.getHours(),M[r+12>>2]=t.getDate(),M[r+16>>2]=t.getMonth(),M[r+20>>2]=t.getFullYear()-1900,M[r+24>>2]=t.getDay();var n=new Date(t.getFullYear(),0,1),i=(t.getTime()-n.getTime())/864e5|0;M[r+28>>2]=i,M[r+36>>2]=-60*t.getTimezoneOffset();var o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),a=n.getTimezoneOffset(),u=0|(o!=a&&t.getTimezoneOffset()==Math.min(a,o));M[r+32>>2]=u;var s=M[Zr()+(u?4:0)>>2];return M[r+40>>2]=s,r}function Mr(e){for(var r=Ce();Ce()-r<e/1e3;);}function Nr(e,r){Nr.array||(Nr.array=[]);var t,n=Nr.array;for(n.length=0;t=I[e++];)100===t||102===t?(r=r+7&-8,n.push(G[r>>3]),r+=8):(r=r+3&-4,n.push(M[r>>2]),r+=4);return n}var Or,Gr=function(e,r,t,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Te.nextInode++,this.name=r,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=n};Object.defineProperties(Gr.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return Te.isDir(this.mode)}},isDevice:{get:function(){return Te.isChrdev(this.mode)}}}),Te.FSNode=Gr,Te.staticInit(),r.FS_createFolder=Te.createFolder,r.FS_createPath=Te.createPath,r.FS_createDataFile=Te.createDataFile,r.FS_createPreloadedFile=Te.createPreloadedFile,r.FS_createLazyFile=Te.createLazyFile,r.FS_createLink=Te.createLink,r.FS_createDevice=Te.createDevice,r.FS_unlink=Te.unlink,r.requestFullscreen=function(e,r){Re.requestFullscreen(e,r)},r.requestAnimationFrame=function(e){Re.requestAnimationFrame(e)},r.setCanvasSize=function(e,r,t){Re.setCanvasSize(e,r,t)},r.pauseMainLoop=function(){Re.mainLoop.pause()},r.resumeMainLoop=function(){Re.mainLoop.resume()},r.getUserMedia=function(){Re.getUserMedia()},r.createContext=function(e,r,t,n){return Re.createContext(e,r,t,n)},Ge.init();for(var Ur=0;Ur<32;Ur++)nr.push(new Array(Ur));function jr(e,r,t){var n=t>0?t:X(e)+1,i=new Array(n),o=Q(e,i,0,i.length);return r&&(i.length=o),i}Fr.staticInit();var zr={__cxa_atexit:function(e,r){return t=e,n=r,void re.unshift({func:t,arg:n});var t,n},__sys_fcntl64:function(e,r,t){Le.varargs=t;try{var n=Le.getStreamFromFD(e);switch(r){case 0:return(i=Le.get())<0?-28:Te.open(n.path,n.flags,0,i).fd;case 1:case 2:return 0;case 3:return n.flags;case 4:var i=Le.get();return n.flags|=i,0;case 12:return i=Le.get(),B[i+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return ke(28),-1;default:return-28}}catch(o){return void 0!==Te&&o instanceof Te.ErrnoError||ve(o),-o.errno}},__sys_fstat64:function(e,r){try{var t=Le.getStreamFromFD(e);return Le.doStat(Te.stat,t.path,r)}catch(n){return void 0!==Te&&n instanceof Te.ErrnoError||ve(n),-n.errno}},__sys_ioctl:function(e,r,t){Le.varargs=t;try{var n=Le.getStreamFromFD(e);switch(r){case 21509:case 21505:return n.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return n.tty?0:-59;case 21519:if(!n.tty)return-59;var i=Le.get();return M[i>>2]=0,0;case 21520:return n.tty?-28:-59;case 21531:return i=Le.get(),Te.ioctl(n,r,i);case 21523:case 21524:return n.tty?0:-59;default:ve("bad ioctl syscall "+r)}}catch(o){return void 0!==Te&&o instanceof Te.ErrnoError||ve(o),-o.errno}},__sys_open:function(e,r,t){Le.varargs=t;try{var n=Le.getStr(e),i=Le.get();return Te.open(n,r,i).fd}catch(o){return void 0!==Te&&o instanceof Te.ErrnoError||ve(o),-o.errno}},__sys_read:function(e,r,t){try{var n=Le.getStreamFromFD(e);return Te.read(n,L,r,t)}catch(i){return void 0!==Te&&i instanceof Te.ErrnoError||ve(i),-i.errno}},__sys_stat64:function(e,r){try{return e=Le.getStr(e),Le.doStat(Te.stat,e,r)}catch(t){return void 0!==Te&&t instanceof Te.ErrnoError||ve(t),-t.errno}},_emscripten_fetch_free:function(e){delete Fr.xhrs[e-1]},abort:function(){ve()},alBufferData:function(e,r,t,n,i){if(Me.currentCtx){var o=Me.buffers[e];if(o)if(i<=0)Me.currentCtx.err=40963;else{var a=null;try{switch(r){case 4352:if(n>0)for(var u=(a=Me.currentCtx.audioCtx.createBuffer(1,n,i)).getChannelData(0),s=0;s<n;++s)u[s]=.0078125*I[t++]-1;o.bytesPerSample=1,o.channels=1,o.length=n;break;case 4353:if(n>0)for(u=(a=Me.currentCtx.audioCtx.createBuffer(1,n>>1,i)).getChannelData(0),t>>=1,s=0;s<n>>1;++s)u[s]=30517578125e-15*B[t++];o.bytesPerSample=2,o.channels=1,o.length=n>>1;break;case 4354:if(n>0){u=(a=Me.currentCtx.audioCtx.createBuffer(2,n>>1,i)).getChannelData(0);var c=a.getChannelData(1);for(s=0;s<n>>1;++s)u[s]=.0078125*I[t++]-1,c[s]=.0078125*I[t++]-1}o.bytesPerSample=1,o.channels=2,o.length=n>>1;break;case 4355:if(n>0)for(u=(a=Me.currentCtx.audioCtx.createBuffer(2,n>>2,i)).getChannelData(0),c=a.getChannelData(1),t>>=1,s=0;s<n>>2;++s)u[s]=30517578125e-15*B[t++],c[s]=30517578125e-15*B[t++];o.bytesPerSample=2,o.channels=2,o.length=n>>2;break;case 65552:if(n>0)for(u=(a=Me.currentCtx.audioCtx.createBuffer(1,n>>2,i)).getChannelData(0),t>>=2,s=0;s<n>>2;++s)u[s]=O[t++];o.bytesPerSample=4,o.channels=1,o.length=n>>2;break;case 65553:if(n>0)for(u=(a=Me.currentCtx.audioCtx.createBuffer(2,n>>3,i)).getChannelData(0),c=a.getChannelData(1),t>>=2,s=0;s<n>>3;++s)u[s]=O[t++],c[s]=O[t++];o.bytesPerSample=4,o.channels=2,o.length=n>>3;break;default:return void(Me.currentCtx.err=40963)}o.frequency=i,o.audioBuf=a}catch(l){return void(Me.currentCtx.err=40963)}}else Me.currentCtx.err=40963}},alDeleteBuffers:function(e,r){if(Me.currentCtx){for(var t=0;t<e;++t)if(0!==(n=M[r+4*t>>2])){if(!Me.buffers[n])return void(Me.currentCtx.err=40961);if(Me.buffers[n].refCount)return void(Me.currentCtx.err=40964)}for(t=0;t<e;++t){var n;0!==(n=M[r+4*t>>2])&&(Me.deviceRefCounts[Me.buffers[n].deviceId]--,delete Me.buffers[n],Me.freeIds.push(n))}}},alDeleteSources:function(e,r){if(Me.currentCtx){for(var t=0;t<e;++t){var n=M[r+4*t>>2];if(!Me.currentCtx.sources[n])return void(Me.currentCtx.err=40961)}for(t=0;t<e;++t)n=M[r+4*t>>2],Me.setSourceState(Me.currentCtx.sources[n],4116),Ne(n,4105,0),delete Me.currentCtx.sources[n],Me.freeIds.push(n)}},alGenBuffers:function(e,r){if(Me.currentCtx)for(var t=0;t<e;++t){var n={deviceId:Me.currentCtx.deviceId,id:Me.newId(),refCount:0,audioBuf:null,frequency:0,bytesPerSample:2,channels:1,length:0};Me.deviceRefCounts[n.deviceId]++,Me.buffers[n.id]=n,M[r+4*t>>2]=n.id}},alGenSources:function(e,r){if(Me.currentCtx)for(var t=0;t<e;++t){var n=Me.currentCtx.audioCtx.createGain();n.connect(Me.currentCtx.gain);var i={context:Me.currentCtx,id:Me.newId(),type:4144,state:4113,bufQueue:[Me.buffers[0]],audioQueue:[],looping:!1,pitch:1,dopplerShift:1,gain:n,minGain:0,maxGain:1,panner:null,bufsProcessed:0,bufStartTime:Number.NEGATIVE_INFINITY,bufOffset:0,relative:!1,refDistance:1,maxDistance:340282e33,rolloffFactor:1,position:[0,0,0],velocity:[0,0,0],direction:[0,0,0],coneOuterGain:0,coneInnerAngle:360,coneOuterAngle:360,distanceModel:53250,spatialize:2,get playbackRate(){return this.pitch*this.dopplerShift}};Me.currentCtx.sources[i.id]=i,M[r+4*t>>2]=i.id}},alGetSourcei:function(e,r,t){var n=Me.getSourceParam("alGetSourcei",e,r);if(null!==n)if(t)switch(r){case 514:case 4097:case 4098:case 4103:case 4105:case 4112:case 4117:case 4118:case 4128:case 4129:case 4131:case 4132:case 4133:case 4134:case 4135:case 4628:case 8201:case 8202:case 53248:M[t>>2]=n;break;default:return void(Me.currentCtx.err=40962)}else Me.currentCtx.err=40963},alSource3i:function(e,r,t,n,i){switch(r){case 4100:case 4101:case 4102:Me.paramArray[0]=t,Me.paramArray[1]=n,Me.paramArray[2]=i,Me.setSourceParam("alSource3i",e,r,Me.paramArray);break;default:Me.setSourceParam("alSource3i",e,r,null)}},alSourcePlay:function(e){if(Me.currentCtx){var r=Me.currentCtx.sources[e];r?Me.setSourceState(r,4114):Me.currentCtx.err=40961}},alSourceQueueBuffers:function(e,r,t){if(Me.currentCtx){var n=Me.currentCtx.sources[e];if(n)if(4136!==n.type){if(0!==r){for(var i=Me.buffers[0],o=0;o<n.bufQueue.length;o++)if(0!==n.bufQueue[o].id){i=n.bufQueue[o];break}for(o=0;o<r;++o){var a=M[t+4*o>>2];if(!(u=Me.buffers[a]))return void(Me.currentCtx.err=40961);0===i.id||u.frequency===i.frequency&&u.bytesPerSample===i.bytesPerSample&&u.channels===i.channels||(Me.currentCtx.err=40964)}for(1===n.bufQueue.length&&0===n.bufQueue[0].id&&(n.bufQueue.length=0),n.type=4137,o=0;o<r;++o){var u;a=M[t+4*o>>2],(u=Me.buffers[a]).refCount++,n.bufQueue.push(u)}n.looping&&Me.cancelPendingSourceAudio(n),Me.initSourcePanner(n),Me.scheduleSourceAudio(n)}}else Me.currentCtx.err=40964;else Me.currentCtx.err=40961}},alSourceStop:function(e){if(Me.currentCtx){var r=Me.currentCtx.sources[e];r?Me.setSourceState(r,4116):Me.currentCtx.err=40961}},alSourceUnqueueBuffers:function(e,r,t){if(Me.currentCtx){var n=Me.currentCtx.sources[e];if(n){if(r>(1===n.bufQueue.length&&0===n.bufQueue[0].id?0:n.bufsProcessed))Me.currentCtx.err=40963;else if(0!==r){for(var i=0;i<r;i++){var o=n.bufQueue.shift();o.refCount--,M[t+4*i>>2]=o.id,n.bufsProcessed--}0===n.bufQueue.length&&n.bufQueue.push(Me.buffers[0]),Me.initSourcePanner(n),Me.scheduleSourceAudio(n)}}else Me.currentCtx.err=40961}},alSourcef:function(e,r,t){switch(r){case 4097:case 4098:case 4099:case 4106:case 4109:case 4110:case 4128:case 4129:case 4130:case 4131:case 4132:case 4133:case 4134:case 8203:Me.setSourceParam("alSourcef",e,r,t);break;default:Me.setSourceParam("alSourcef",e,r,null)}},alSourcei:Ne,alcCloseDevice:function(e){return!(e in Me.deviceRefCounts)||Me.deviceRefCounts[e]>0?0:(delete Me.deviceRefCounts[e],Me.freeIds.push(e),1)},alcCreateContext:function(e,r){if(!(e in Me.deviceRefCounts))return Me.alcErr=40961,0;var t=null,n=[],i=null;if(r>>=2)for(var o=0,a=0;o=M[r++],n.push(o),0!==o;)switch(a=M[r++],n.push(a),o){case 4103:t||(t={}),t.sampleRate=a;break;case 4112:case 4113:break;case 6546:switch(a){case 0:i=!1;break;case 1:i=!0;break;case 2:break;default:return Me.alcErr=40964,0}break;case 6550:if(0!==a)return Me.alcErr=40964,0;break;default:return Me.alcErr=40964,0}var u=window.AudioContext||window.webkitAudioContext,s=null;try{s=t?new u(t):new u}catch(m){return"NotSupportedError"===m.name?Me.alcErr=40964:Me.alcErr=40961,0}void 0===s.createGain&&(s.createGain=s.createGainNode);var c=s.createGain();c.connect(s.destination);var l={deviceId:e,id:Me.newId(),attrs:n,audioCtx:s,listener:{position:[0,0,0],velocity:[0,0,0],direction:[0,0,0],up:[0,0,0]},sources:[],interval:setInterval((function(){Me.scheduleContextAudio(l)}),Me.QUEUE_INTERVAL),gain:c,distanceModel:53250,speedOfSound:343.3,dopplerFactor:1,sourceDistanceModel:!1,hrtf:i||!1,_err:0,get err(){return this._err},set err(e){0!==this._err&&0!==e||(this._err=e)}};if(Me.deviceRefCounts[e]++,Me.contexts[l.id]=l,null!==i)for(var f in Me.contexts){var d=Me.contexts[f];d.deviceId===e&&(d.hrtf=i,Me.updateContextGlobal(d))}return l.id},alcDestroyContext:function(e){var r=Me.contexts[e];Me.currentCtx!==r?(Me.contexts[e].interval&&clearInterval(Me.contexts[e].interval),Me.deviceRefCounts[r.deviceId]--,delete Me.contexts[e],Me.freeIds.push(e)):Me.alcErr=40962},alcGetIntegerv:function(e,r,t,n){if(0!==t&&n)switch(r){case 4096:case 4097:M[n>>2]=1;break;case 4098:if(!(e in Me.deviceRefCounts))return void(Me.alcErr=40961);if(!Me.currentCtx)return void(Me.alcErr=40962);M[n>>2]=Me.currentCtx.attrs.length;break;case 4099:if(!(e in Me.deviceRefCounts))return void(Me.alcErr=40961);if(!Me.currentCtx)return void(Me.alcErr=40962);for(var i=0;i<Me.currentCtx.attrs.length;i++)M[n+4*i>>2]=Me.currentCtx.attrs[i];break;case 4103:if(!(e in Me.deviceRefCounts))return void(Me.alcErr=40961);if(!Me.currentCtx)return void(Me.alcErr=40962);M[n>>2]=Me.currentCtx.audioCtx.sampleRate;break;case 4112:case 4113:if(!(e in Me.deviceRefCounts))return void(Me.alcErr=40961);if(!Me.currentCtx)return void(Me.alcErr=40962);M[n>>2]=2147483647;break;case 6546:case 6547:if(!(e in Me.deviceRefCounts))return void(Me.alcErr=40961);var o=0;for(var a in Me.contexts){var u=Me.contexts[a];u.deviceId===e&&(o=u.hrtf?1:0)}M[n>>2]=o;break;case 6548:if(!(e in Me.deviceRefCounts))return void(Me.alcErr=40961);M[n>>2]=1;break;case 131075:if(!(e in Me.deviceRefCounts))return void(Me.alcErr=40961);if(!Me.currentCtx)return void(Me.alcErr=40962);M[n>>2]=1;case 786:var s=Me.requireValidCaptureDevice(e,"alcGetIntegerv");if(!s)return;var c=s.capturedFrameCount,l=s.requestedSampleRate,f=s.audioCtx.sampleRate,d=Math.floor(c*(l/f));M[n>>2]=d;break;default:return void(Me.alcErr=40963)}},alcMakeContextCurrent:function(e){return 0===e?(Me.currentCtx=null,0):(Me.currentCtx=Me.contexts[e],1)},alcOpenDevice:function(e){if(e&&z(e)!==Me.DEVICE_NAME)return 0;if("undefined"!=typeof AudioContext||"undefined"!=typeof webkitAudioContext){var r=Me.newId();return Me.deviceRefCounts[r]=0,r}return 0},changeCursor:function(e){var t=r.canvas;t&&(t.style.cursor=z(e))},clock_gettime:function(e,r){var t;if(0===e)t=Date.now();else{if(1!==e&&4!==e)return ke(28),-1;t=Ce()}return M[r>>2]=t/1e3|0,M[r+4>>2]=t%1e3*1e3*1e3|0,0},dlclose:function(e){ve("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},eglBindAPI:function(e){return 12448==e?(Oe.setErrorCode(12288),1):(Oe.setErrorCode(12300),0)},eglChooseConfig:function(e,r,t,n,i){return Oe.chooseConfig(e,r,t,n,i)},eglCreateContext:function(e,t,n,i){if(62e3!=e)return Oe.setErrorCode(12296),0;for(var o=1;;){var a=M[i>>2];if(12440!=a){if(12344==a)break;return Oe.setErrorCode(12292),0}o=M[i+4>>2],i+=8}return o<2||o>3?(Oe.setErrorCode(12293),0):(Oe.contextAttributes.majorVersion=o-1,Oe.contextAttributes.minorVersion=0,Oe.context=Ge.createContext(r.canvas,Oe.contextAttributes),0!=Oe.context?(Oe.setErrorCode(12288),Ge.makeContextCurrent(Oe.context),r.useWebGL=!0,Re.moduleContextCreatedCallbacks.forEach((function(e){e()})),Ge.makeContextCurrent(null),62004):(Oe.setErrorCode(12297),0))},eglCreateWindowSurface:function(e,r,t,n){return 62e3!=e?(Oe.setErrorCode(12296),0):62002!=r?(Oe.setErrorCode(12293),0):(Oe.setErrorCode(12288),62006)},eglDestroyContext:function(e,r){return 62e3!=e?(Oe.setErrorCode(12296),0):62004!=r?(Oe.setErrorCode(12294),0):(Ge.deleteContext(Oe.context),Oe.setErrorCode(12288),Oe.currentContext==r&&(Oe.currentContext=0),1)},eglDestroySurface:function(e,r){return 62e3!=e?(Oe.setErrorCode(12296),0):62006!=r?(Oe.setErrorCode(12301),1):(Oe.currentReadSurface==r&&(Oe.currentReadSurface=0),Oe.currentDrawSurface==r&&(Oe.currentDrawSurface=0),Oe.setErrorCode(12288),1)},eglGetConfigAttrib:function(e,r,t,n){if(62e3!=e)return Oe.setErrorCode(12296),0;if(62002!=r)return Oe.setErrorCode(12293),0;if(!n)return Oe.setErrorCode(12300),0;switch(Oe.setErrorCode(12288),t){case 12320:return M[n>>2]=Oe.contextAttributes.alpha?32:24,1;case 12321:return M[n>>2]=Oe.contextAttributes.alpha?8:0,1;case 12322:case 12323:case 12324:return M[n>>2]=8,1;case 12325:return M[n>>2]=Oe.contextAttributes.depth?24:0,1;case 12326:return M[n>>2]=Oe.contextAttributes.stencil?8:0,1;case 12327:return M[n>>2]=12344,1;case 12328:return M[n>>2]=62002,1;case 12329:return M[n>>2]=0,1;case 12330:return M[n>>2]=4096,1;case 12331:return M[n>>2]=16777216,1;case 12332:return M[n>>2]=4096,1;case 12333:case 12334:return M[n>>2]=0,1;case 12335:return M[n>>2]=12344,1;case 12337:return M[n>>2]=Oe.contextAttributes.antialias?4:0,1;case 12338:return M[n>>2]=Oe.contextAttributes.antialias?1:0,1;case 12339:return M[n>>2]=4,1;case 12340:return M[n>>2]=12344,1;case 12341:case 12342:case 12343:return M[n>>2]=-1,1;case 12345:case 12346:case 12347:return M[n>>2]=0,1;case 12348:return M[n>>2]=1,1;case 12349:case 12350:return M[n>>2]=0,1;case 12351:return M[n>>2]=12430,1;case 12352:return M[n>>2]=4,1;case 12354:return M[n>>2]=0,1;default:return Oe.setErrorCode(12292),0}},eglGetDisplay:function(e){return Oe.setErrorCode(12288),62e3},eglGetError:function(){return Oe.errorCode},eglGetProcAddress:function(e){return Kr(e)},eglInitialize:function(e,r,t){return 62e3==e?(r&&(M[r>>2]=1),t&&(M[t>>2]=4),Oe.defaultDisplayInitialized=!0,Oe.setErrorCode(12288),1):(Oe.setErrorCode(12296),0)},eglMakeCurrent:function(e,r,t,n){return 62e3!=e?(Oe.setErrorCode(12296),0):0!=n&&62004!=n?(Oe.setErrorCode(12294),0):0!=t&&62006!=t||0!=r&&62006!=r?(Oe.setErrorCode(12301),0):(Ge.makeContextCurrent(n?Oe.context:null),Oe.currentContext=n,Oe.currentDrawSurface=r,Oe.currentReadSurface=t,Oe.setErrorCode(12288),1)},eglQueryString:function(e,r){if(62e3!=e)return Oe.setErrorCode(12296),0;if(Oe.setErrorCode(12288),Oe.stringCache[r])return Oe.stringCache[r];var t;switch(r){case 12371:t=V("Emscripten");break;case 12372:t=V("1.4 Emscripten EGL");break;case 12373:t=V("");break;case 12429:t=V("OpenGL_ES");break;default:return Oe.setErrorCode(12300),0}return Oe.stringCache[r]=t,t},eglSwapBuffers:function(){if(Oe.defaultDisplayInitialized)if(r.ctx){if(!r.ctx.isContextLost())return Oe.setErrorCode(12288),1;Oe.setErrorCode(12302)}else Oe.setErrorCode(12290);else Oe.setErrorCode(12289);return 0},eglSwapInterval:function(e,r){return 62e3!=e?(Oe.setErrorCode(12296),0):(0==r?Ie(0,0):Ie(1,r),Oe.setErrorCode(12288),1)},eglTerminate:function(e){return 62e3!=e?(Oe.setErrorCode(12296),0):(Oe.currentContext=0,Oe.currentReadSurface=0,Oe.currentDrawSurface=0,Oe.defaultDisplayInitialized=!1,Oe.setErrorCode(12288),1)},eglWaitGL:function(){return Oe.setErrorCode(12288),1},eglWaitNative:function(e){return Oe.setErrorCode(12288),1},emscripten_asm_const_iii:function(e,r,t){var n=Nr(r,t);return Ee[e].apply(null,n)},emscripten_cancel_main_loop:function(){Re.mainLoop.pause(),Re.mainLoop.func=null},emscripten_exit_fullscreen:function(){if(!Ue.fullscreenEnabled())return-1;Ue.removeDeferredCalls($e);var e=ze[1];if(e.exitFullscreen)e.fullscreenElement&&e.exitFullscreen();else{if(!e.webkitExitFullscreen)return-1;e.webkitFullscreenElement&&e.webkitExitFullscreen()}return 0},emscripten_exit_pointerlock:function(){if(Ue.removeDeferredCalls(Je),document.exitPointerLock)document.exitPointerLock();else{if(!document.msExitPointerLock)return-1;document.msExitPointerLock()}return 0},emscripten_get_canvas_element_size:Xe,emscripten_get_device_pixel_ratio:function(){return devicePixelRatio},emscripten_get_element_css_size:function(e,r,t){if(!(e=Qe(e)))return-4;var n=Ke(e);return G[r>>3]=n.width,G[t>>3]=n.height,0},emscripten_get_fullscreen_status:function(e){return Ue.fullscreenEnabled()?(er(e),0):-1},emscripten_get_gamepad_status:function(e,r){return e<0||e>=Ue.lastGamepadState.length?-5:Ue.lastGamepadState[e]?(rr(r,Ue.lastGamepadState[e]),0):-7},emscripten_get_now:Ce,emscripten_get_num_gamepads:function(){return Ue.lastGamepadState.length},emscripten_get_sbrk_ptr:function(){return 886976},emscripten_glActiveTexture:function(e){Or.activeTexture(e)},emscripten_glAttachShader:function(e,r){Or.attachShader(Ge.programs[e],Ge.shaders[r])},emscripten_glBeginQuery:function(e,r){Or.beginQuery(e,Ge.queries[r])},emscripten_glBeginQueryEXT:function(e,r){Or.disjointTimerQueryExt.beginQueryEXT(e,Ge.timerQueriesEXT[r])},emscripten_glBeginTransformFeedback:function(e){Or.beginTransformFeedback(e)},emscripten_glBindAttribLocation:function(e,r,t){Or.bindAttribLocation(Ge.programs[e],r,z(t))},emscripten_glBindBuffer:function(e,r){35051==e?Or.currentPixelPackBufferBinding=r:35052==e&&(Or.currentPixelUnpackBufferBinding=r),Or.bindBuffer(e,Ge.buffers[r])},emscripten_glBindBufferBase:function(e,r,t){Or.bindBufferBase(e,r,Ge.buffers[t])},emscripten_glBindBufferRange:function(e,r,t,n,i){Or.bindBufferRange(e,r,Ge.buffers[t],n,i)},emscripten_glBindFramebuffer:function(e,r){Or.bindFramebuffer(e,Ge.framebuffers[r])},emscripten_glBindRenderbuffer:function(e,r){Or.bindRenderbuffer(e,Ge.renderbuffers[r])},emscripten_glBindSampler:function(e,r){Or.bindSampler(e,Ge.samplers[r])},emscripten_glBindTexture:function(e,r){Or.bindTexture(e,Ge.textures[r])},emscripten_glBindTransformFeedback:function(e,r){Or.bindTransformFeedback(e,Ge.transformFeedbacks[r])},emscripten_glBindVertexArray:function(e){Or.bindVertexArray(Ge.vaos[e])},emscripten_glBindVertexArrayOES:function(e){Or.bindVertexArray(Ge.vaos[e])},emscripten_glBlendColor:function(e,r,t,n){Or.blendColor(e,r,t,n)},emscripten_glBlendEquation:function(e){Or.blendEquation(e)},emscripten_glBlendEquationSeparate:function(e,r){Or.blendEquationSeparate(e,r)},emscripten_glBlendFunc:function(e,r){Or.blendFunc(e,r)},emscripten_glBlendFuncSeparate:function(e,r,t,n){Or.blendFuncSeparate(e,r,t,n)},emscripten_glBlitFramebuffer:function(e,r,t,n,i,o,a,u,s,c){Or.blitFramebuffer(e,r,t,n,i,o,a,u,s,c)},emscripten_glBufferData:function(e,r,t,n){Ge.currentContext.version>=2?t?Or.bufferData(e,I,n,t,r):Or.bufferData(e,r,n):Or.bufferData(e,t?I.subarray(t,t+r):r,n)},emscripten_glBufferSubData:function(e,r,t,n){Ge.currentContext.version>=2?Or.bufferSubData(e,r,I,n,t):Or.bufferSubData(e,r,I.subarray(n,n+t))},emscripten_glCheckFramebufferStatus:function(e){return Or.checkFramebufferStatus(e)},emscripten_glClear:function(e){Or.clear(e)},emscripten_glClearBufferfi:function(e,r,t,n){Or.clearBufferfi(e,r,t,n)},emscripten_glClearBufferfv:function(e,r,t){Or.clearBufferfv(e,r,O,t>>2)},emscripten_glClearBufferiv:function(e,r,t){Or.clearBufferiv(e,r,M,t>>2)},emscripten_glClearBufferuiv:function(e,r,t){Or.clearBufferuiv(e,r,N,t>>2)},emscripten_glClearColor:function(e,r,t,n){Or.clearColor(e,r,t,n)},emscripten_glClearDepthf:function(e){Or.clearDepth(e)},emscripten_glClearStencil:function(e){Or.clearStencil(e)},emscripten_glClientWaitSync:function(e,r,t,n){return Or.clientWaitSync(Ge.syncs[e],r,tr(t,n))},emscripten_glColorMask:function(e,r,t,n){Or.colorMask(!!e,!!r,!!t,!!n)},emscripten_glCompileShader:function(e){Or.compileShader(Ge.shaders[e])},emscripten_glCompressedTexImage2D:function(e,r,t,n,i,o,a,u){Ge.currentContext.version>=2?Or.currentPixelUnpackBufferBinding?Or.compressedTexImage2D(e,r,t,n,i,o,a,u):Or.compressedTexImage2D(e,r,t,n,i,o,I,u,a):Or.compressedTexImage2D(e,r,t,n,i,o,u?I.subarray(u,u+a):null)},emscripten_glCompressedTexImage3D:function(e,r,t,n,i,o,a,u,s){Or.currentPixelUnpackBufferBinding?Or.compressedTexImage3D(e,r,t,n,i,o,a,u,s):Or.compressedTexImage3D(e,r,t,n,i,o,a,I,s,u)},emscripten_glCompressedTexSubImage2D:function(e,r,t,n,i,o,a,u,s){Ge.currentContext.version>=2?Or.currentPixelUnpackBufferBinding?Or.compressedTexSubImage2D(e,r,t,n,i,o,a,u,s):Or.compressedTexSubImage2D(e,r,t,n,i,o,a,I,s,u):Or.compressedTexSubImage2D(e,r,t,n,i,o,a,s?I.subarray(s,s+u):null)},emscripten_glCompressedTexSubImage3D:function(e,r,t,n,i,o,a,u,s,c,l){Or.currentPixelUnpackBufferBinding?Or.compressedTexSubImage3D(e,r,t,n,i,o,a,u,s,c,l):Or.compressedTexSubImage3D(e,r,t,n,i,o,a,u,s,I,l,c)},emscripten_glCopyBufferSubData:function(e,r,t,n,i){Or.copyBufferSubData(e,r,t,n,i)},emscripten_glCopyTexImage2D:function(e,r,t,n,i,o,a,u){Or.copyTexImage2D(e,r,t,n,i,o,a,u)},emscripten_glCopyTexSubImage2D:function(e,r,t,n,i,o,a,u){Or.copyTexSubImage2D(e,r,t,n,i,o,a,u)},emscripten_glCopyTexSubImage3D:function(e,r,t,n,i,o,a,u,s){Or.copyTexSubImage3D(e,r,t,n,i,o,a,u,s)},emscripten_glCreateProgram:function(){var e=Ge.getNewId(Ge.programs),r=Or.createProgram();return r.name=e,Ge.programs[e]=r,e},emscripten_glCreateShader:function(e){var r=Ge.getNewId(Ge.shaders);return Ge.shaders[r]=Or.createShader(e),r},emscripten_glCullFace:function(e){Or.cullFace(e)},emscripten_glDeleteBuffers:function(e,r){for(var t=0;t<e;t++){var n=M[r+4*t>>2],i=Ge.buffers[n];i&&(Or.deleteBuffer(i),i.name=0,Ge.buffers[n]=null,n==Ge.currArrayBuffer&&(Ge.currArrayBuffer=0),n==Ge.currElementArrayBuffer&&(Ge.currElementArrayBuffer=0),n==Or.currentPixelPackBufferBinding&&(Or.currentPixelPackBufferBinding=0),n==Or.currentPixelUnpackBufferBinding&&(Or.currentPixelUnpackBufferBinding=0))}},emscripten_glDeleteFramebuffers:function(e,r){for(var t=0;t<e;++t){var n=M[r+4*t>>2],i=Ge.framebuffers[n];i&&(Or.deleteFramebuffer(i),i.name=0,Ge.framebuffers[n]=null)}},emscripten_glDeleteProgram:function(e){if(e){var r=Ge.programs[e];r?(Or.deleteProgram(r),r.name=0,Ge.programs[e]=null,Ge.programInfos[e]=null):Ge.recordError(1281)}},emscripten_glDeleteQueries:function(e,r){for(var t=0;t<e;t++){var n=M[r+4*t>>2],i=Ge.queries[n];i&&(Or.deleteQuery(i),Ge.queries[n]=null)}},emscripten_glDeleteQueriesEXT:function(e,r){for(var t=0;t<e;t++){var n=M[r+4*t>>2],i=Ge.timerQueriesEXT[n];i&&(Or.disjointTimerQueryExt.deleteQueryEXT(i),Ge.timerQueriesEXT[n]=null)}},emscripten_glDeleteRenderbuffers:function(e,r){for(var t=0;t<e;t++){var n=M[r+4*t>>2],i=Ge.renderbuffers[n];i&&(Or.deleteRenderbuffer(i),i.name=0,Ge.renderbuffers[n]=null)}},emscripten_glDeleteSamplers:function(e,r){for(var t=0;t<e;t++){var n=M[r+4*t>>2],i=Ge.samplers[n];i&&(Or.deleteSampler(i),i.name=0,Ge.samplers[n]=null)}},emscripten_glDeleteShader:function(e){if(e){var r=Ge.shaders[e];r?(Or.deleteShader(r),Ge.shaders[e]=null):Ge.recordError(1281)}},emscripten_glDeleteSync:function(e){if(e){var r=Ge.syncs[e];r?(Or.deleteSync(r),r.name=0,Ge.syncs[e]=null):Ge.recordError(1281)}},emscripten_glDeleteTextures:function(e,r){for(var t=0;t<e;t++){var n=M[r+4*t>>2],i=Ge.textures[n];i&&(Or.deleteTexture(i),i.name=0,Ge.textures[n]=null)}},emscripten_glDeleteTransformFeedbacks:function(e,r){for(var t=0;t<e;t++){var n=M[r+4*t>>2],i=Ge.transformFeedbacks[n];i&&(Or.deleteTransformFeedback(i),i.name=0,Ge.transformFeedbacks[n]=null)}},emscripten_glDeleteVertexArrays:function(e,r){for(var t=0;t<e;t++){var n=M[r+4*t>>2];Or.deleteVertexArray(Ge.vaos[n]),Ge.vaos[n]=null}},emscripten_glDeleteVertexArraysOES:function(e,r){for(var t=0;t<e;t++){var n=M[r+4*t>>2];Or.deleteVertexArray(Ge.vaos[n]),Ge.vaos[n]=null}},emscripten_glDepthFunc:function(e){Or.depthFunc(e)},emscripten_glDepthMask:function(e){Or.depthMask(!!e)},emscripten_glDepthRangef:function(e,r){Or.depthRange(e,r)},emscripten_glDetachShader:function(e,r){Or.detachShader(Ge.programs[e],Ge.shaders[r])},emscripten_glDisable:function(e){Or.disable(e)},emscripten_glDisableVertexAttribArray:function(e){Or.disableVertexAttribArray(e)},emscripten_glDrawArrays:function(e,r,t){Or.drawArrays(e,r,t)},emscripten_glDrawArraysInstanced:function(e,r,t,n){Or.drawArraysInstanced(e,r,t,n)},emscripten_glDrawArraysInstancedANGLE:function(e,r,t,n){Or.drawArraysInstanced(e,r,t,n)},emscripten_glDrawArraysInstancedARB:function(e,r,t,n){Or.drawArraysInstanced(e,r,t,n)},emscripten_glDrawArraysInstancedEXT:function(e,r,t,n){Or.drawArraysInstanced(e,r,t,n)},emscripten_glDrawArraysInstancedNV:function(e,r,t,n){Or.drawArraysInstanced(e,r,t,n)},emscripten_glDrawBuffers:function(e,r){for(var t=nr[e],n=0;n<e;n++)t[n]=M[r+4*n>>2];Or.drawBuffers(t)},emscripten_glDrawBuffersEXT:function(e,r){for(var t=nr[e],n=0;n<e;n++)t[n]=M[r+4*n>>2];Or.drawBuffers(t)},emscripten_glDrawBuffersWEBGL:function(e,r){for(var t=nr[e],n=0;n<e;n++)t[n]=M[r+4*n>>2];Or.drawBuffers(t)},emscripten_glDrawElements:function(e,r,t,n){Or.drawElements(e,r,t,n)},emscripten_glDrawElementsInstanced:function(e,r,t,n,i){Or.drawElementsInstanced(e,r,t,n,i)},emscripten_glDrawElementsInstancedANGLE:function(e,r,t,n,i){Or.drawElementsInstanced(e,r,t,n,i)},emscripten_glDrawElementsInstancedARB:function(e,r,t,n,i){Or.drawElementsInstanced(e,r,t,n,i)},emscripten_glDrawElementsInstancedEXT:function(e,r,t,n,i){Or.drawElementsInstanced(e,r,t,n,i)},emscripten_glDrawElementsInstancedNV:function(e,r,t,n,i){Or.drawElementsInstanced(e,r,t,n,i)},emscripten_glDrawRangeElements:function(e,r,t,n,i,o){!function(e,r,t,n){Or.drawElements(e,r,t,n)}(e,n,i,o)},emscripten_glEnable:function(e){Or.enable(e)},emscripten_glEnableVertexAttribArray:function(e){Or.enableVertexAttribArray(e)},emscripten_glEndQuery:function(e){Or.endQuery(e)},emscripten_glEndQueryEXT:function(e){Or.disjointTimerQueryExt.endQueryEXT(e)},emscripten_glEndTransformFeedback:function(){Or.endTransformFeedback()},emscripten_glFenceSync:function(e,r){var t=Or.fenceSync(e,r);if(t){var n=Ge.getNewId(Ge.syncs);return t.name=n,Ge.syncs[n]=t,n}return 0},emscripten_glFinish:function(){Or.finish()},emscripten_glFlush:function(){Or.flush()},emscripten_glFramebufferRenderbuffer:function(e,r,t,n){Or.framebufferRenderbuffer(e,r,t,Ge.renderbuffers[n])},emscripten_glFramebufferTexture2D:function(e,r,t,n,i){Or.framebufferTexture2D(e,r,t,Ge.textures[n],i)},emscripten_glFramebufferTextureLayer:function(e,r,t,n,i){Or.framebufferTextureLayer(e,r,Ge.textures[t],n,i)},emscripten_glFrontFace:function(e){Or.frontFace(e)},emscripten_glGenBuffers:function(e,r){ir(e,r,"createBuffer",Ge.buffers)},emscripten_glGenFramebuffers:function(e,r){ir(e,r,"createFramebuffer",Ge.framebuffers)},emscripten_glGenQueries:function(e,r){ir(e,r,"createQuery",Ge.queries)},emscripten_glGenQueriesEXT:function(e,r){for(var t=0;t<e;t++){var n=Or.disjointTimerQueryExt.createQueryEXT();if(!n){for(Ge.recordError(1282);t<e;)M[r+4*t++>>2]=0;return}var i=Ge.getNewId(Ge.timerQueriesEXT);n.name=i,Ge.timerQueriesEXT[i]=n,M[r+4*t>>2]=i}},emscripten_glGenRenderbuffers:function(e,r){ir(e,r,"createRenderbuffer",Ge.renderbuffers)},emscripten_glGenSamplers:function(e,r){ir(e,r,"createSampler",Ge.samplers)},emscripten_glGenTextures:function(e,r){ir(e,r,"createTexture",Ge.textures)},emscripten_glGenTransformFeedbacks:function(e,r){ir(e,r,"createTransformFeedback",Ge.transformFeedbacks)},emscripten_glGenVertexArrays:function(e,r){ir(e,r,"createVertexArray",Ge.vaos)},emscripten_glGenVertexArraysOES:function(e,r){ir(e,r,"createVertexArray",Ge.vaos)},emscripten_glGenerateMipmap:function(e){Or.generateMipmap(e)},emscripten_glGetActiveAttrib:function(e,r,t,n,i,o,a){e=Ge.programs[e];var u=Or.getActiveAttrib(e,r);if(u){var s=t>0&&a?q(u.name,a,t):0;n&&(M[n>>2]=s),i&&(M[i>>2]=u.size),o&&(M[o>>2]=u.type)}},emscripten_glGetActiveUniform:function(e,r,t,n,i,o,a){e=Ge.programs[e];var u=Or.getActiveUniform(e,r);if(u){var s=t>0&&a?q(u.name,a,t):0;n&&(M[n>>2]=s),i&&(M[i>>2]=u.size),o&&(M[o>>2]=u.type)}},emscripten_glGetActiveUniformBlockName:function(e,r,t,n,i){e=Ge.programs[e];var o=Or.getActiveUniformBlockName(e,r);if(o)if(i&&t>0){var a=q(o,i,t);n&&(M[n>>2]=a)}else n&&(M[n>>2]=0)},emscripten_glGetActiveUniformBlockiv:function(e,r,t,n){if(n)switch(e=Ge.programs[e],t){case 35393:var i=Or.getActiveUniformBlockName(e,r);return void(M[n>>2]=i.length+1);default:var o=Or.getActiveUniformBlockParameter(e,r,t);if(!o)return;if("number"==typeof o)M[n>>2]=o;else for(var a=0;a<o.length;a++)M[n+4*a>>2]=o[a]}else Ge.recordError(1281)},emscripten_glGetActiveUniformsiv:function(e,r,t,n,i){if(i)if(r>0&&0==t)Ge.recordError(1281);else{e=Ge.programs[e];for(var o=[],a=0;a<r;a++)o.push(M[t+4*a>>2]);var u=Or.getActiveUniforms(e,o,n);if(u){var s=u.length;for(a=0;a<s;a++)M[i+4*a>>2]=u[a]}}else Ge.recordError(1281)},emscripten_glGetAttachedShaders:function(e,r,t,n){var i=Or.getAttachedShaders(Ge.programs[e]),o=i.length;o>r&&(o=r),M[t>>2]=o;for(var a=0;a<o;++a){var u=Ge.shaders.indexOf(i[a]);M[n+4*a>>2]=u}},emscripten_glGetAttribLocation:function(e,r){return Or.getAttribLocation(Ge.programs[e],z(r))},emscripten_glGetBooleanv:function(e,r){ar(e,r,4)},emscripten_glGetBufferParameteri64v:function(e,r,t){t?or(t,Or.getBufferParameter(e,r)):Ge.recordError(1281)},emscripten_glGetBufferParameteriv:function(e,r,t){t?M[t>>2]=Or.getBufferParameter(e,r):Ge.recordError(1281)},emscripten_glGetError:function(){var e=Or.getError()||Ge.lastError;return Ge.lastError=0,e},emscripten_glGetFloatv:function(e,r){ar(e,r,2)},emscripten_glGetFragDataLocation:function(e,r){return Or.getFragDataLocation(Ge.programs[e],z(r))},emscripten_glGetFramebufferAttachmentParameteriv:function(e,r,t,n){var i=Or.getFramebufferAttachmentParameter(e,r,t);(i instanceof WebGLRenderbuffer||i instanceof WebGLTexture)&&(i=0|i.name),M[n>>2]=i},emscripten_glGetInteger64i_v:function(e,r,t){ur(e,r,t,1)},emscripten_glGetInteger64v:function(e,r){ar(e,r,1)},emscripten_glGetIntegeri_v:function(e,r,t){ur(e,r,t,0)},emscripten_glGetIntegerv:function(e,r){ar(e,r,0)},emscripten_glGetInternalformativ:function(e,r,t,n,i){if(n<0)Ge.recordError(1281);else if(i){var o=Or.getInternalformatParameter(e,r,t);if(null!==o)for(var a=0;a<o.length&&a<n;++a)M[i+a>>2]=o[a]}else Ge.recordError(1281)},emscripten_glGetProgramBinary:function(e,r,t,n,i){Ge.recordError(1282)},emscripten_glGetProgramInfoLog:function(e,r,t,n){var i=Or.getProgramInfoLog(Ge.programs[e]);null===i&&(i="(unknown error)");var o=r>0&&n?q(i,n,r):0;t&&(M[t>>2]=o)},emscripten_glGetProgramiv:function(e,r,t){if(t)if(e>=Ge.counter)Ge.recordError(1281);else{var n=Ge.programInfos[e];if(n)if(35716==r){var i=Or.getProgramInfoLog(Ge.programs[e]);null===i&&(i="(unknown error)"),M[t>>2]=i.length+1}else if(35719==r)M[t>>2]=n.maxUniformLength;else if(35722==r){if(-1==n.maxAttributeLength){e=Ge.programs[e];var o=Or.getProgramParameter(e,35721);n.maxAttributeLength=0;for(var a=0;a<o;++a){var u=Or.getActiveAttrib(e,a);n.maxAttributeLength=Math.max(n.maxAttributeLength,u.name.length+1)}}M[t>>2]=n.maxAttributeLength}else if(35381==r){if(-1==n.maxUniformBlockNameLength){e=Ge.programs[e];var s=Or.getProgramParameter(e,35382);for(n.maxUniformBlockNameLength=0,a=0;a<s;++a){var c=Or.getActiveUniformBlockName(e,a);n.maxUniformBlockNameLength=Math.max(n.maxUniformBlockNameLength,c.length+1)}}M[t>>2]=n.maxUniformBlockNameLength}else M[t>>2]=Or.getProgramParameter(Ge.programs[e],r);else Ge.recordError(1282)}else Ge.recordError(1281)},emscripten_glGetQueryObjecti64vEXT:function(e,r,t){if(t){var n=Ge.timerQueriesEXT[e],i=Or.disjointTimerQueryExt.getQueryObjectEXT(n,r);or(t,"boolean"==typeof i?i?1:0:i)}else Ge.recordError(1281)},emscripten_glGetQueryObjectivEXT:function(e,r,t){if(t){var n,i=Ge.timerQueriesEXT[e],o=Or.disjointTimerQueryExt.getQueryObjectEXT(i,r);n="boolean"==typeof o?o?1:0:o,M[t>>2]=n}else Ge.recordError(1281)},emscripten_glGetQueryObjectui64vEXT:function(e,r,t){if(t){var n=Ge.timerQueriesEXT[e],i=Or.disjointTimerQueryExt.getQueryObjectEXT(n,r);or(t,"boolean"==typeof i?i?1:0:i)}else Ge.recordError(1281)},emscripten_glGetQueryObjectuiv:function(e,r,t){if(t){var n,i=Ge.queries[e],o=Or.getQueryParameter(i,r);n="boolean"==typeof o?o?1:0:o,M[t>>2]=n}else Ge.recordError(1281)},emscripten_glGetQueryObjectuivEXT:function(e,r,t){if(t){var n,i=Ge.timerQueriesEXT[e],o=Or.disjointTimerQueryExt.getQueryObjectEXT(i,r);n="boolean"==typeof o?o?1:0:o,M[t>>2]=n}else Ge.recordError(1281)},emscripten_glGetQueryiv:function(e,r,t){t?M[t>>2]=Or.getQuery(e,r):Ge.recordError(1281)},emscripten_glGetQueryivEXT:function(e,r,t){t?M[t>>2]=Or.disjointTimerQueryExt.getQueryEXT(e,r):Ge.recordError(1281)},emscripten_glGetRenderbufferParameteriv:function(e,r,t){t?M[t>>2]=Or.getRenderbufferParameter(e,r):Ge.recordError(1281)},emscripten_glGetSamplerParameterfv:function(e,r,t){t?(e=Ge.samplers[e],O[t>>2]=Or.getSamplerParameter(e,r)):Ge.recordError(1281)},emscripten_glGetSamplerParameteriv:function(e,r,t){t?(e=Ge.samplers[e],M[t>>2]=Or.getSamplerParameter(e,r)):Ge.recordError(1281)},emscripten_glGetShaderInfoLog:function(e,r,t,n){var i=Or.getShaderInfoLog(Ge.shaders[e]);null===i&&(i="(unknown error)");var o=r>0&&n?q(i,n,r):0;t&&(M[t>>2]=o)},emscripten_glGetShaderPrecisionFormat:function(e,r,t,n){var i=Or.getShaderPrecisionFormat(e,r);M[t>>2]=i.rangeMin,M[t+4>>2]=i.rangeMax,M[n>>2]=i.precision},emscripten_glGetShaderSource:function(e,r,t,n){var i=Or.getShaderSource(Ge.shaders[e]);if(i){var o=r>0&&n?q(i,n,r):0;t&&(M[t>>2]=o)}},emscripten_glGetShaderiv:function(e,r,t){if(t)if(35716==r){var n=Or.getShaderInfoLog(Ge.shaders[e]);null===n&&(n="(unknown error)"),M[t>>2]=n.length+1}else if(35720==r){var i=Or.getShaderSource(Ge.shaders[e]),o=null===i||0==i.length?0:i.length+1;M[t>>2]=o}else M[t>>2]=Or.getShaderParameter(Ge.shaders[e],r);else Ge.recordError(1281)},emscripten_glGetString:function(e){if(Ge.stringCache[e])return Ge.stringCache[e];var r;switch(e){case 7939:var t=Or.getSupportedExtensions()||[];r=sr((t=t.concat(t.map((function(e){return"GL_"+e})))).join(" "));break;case 7936:case 7937:case 37445:case 37446:var n=Or.getParameter(e);n||Ge.recordError(1280),r=sr(n);break;case 7938:var i=Or.getParameter(7938);r=sr(i=Ge.currentContext.version>=2?"OpenGL ES 3.0 ("+i+")":"OpenGL ES 2.0 ("+i+")");break;case 35724:var o=Or.getParameter(35724),a=o.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);null!==a&&(3==a[1].length&&(a[1]=a[1]+"0"),o="OpenGL ES GLSL ES "+a[1]+" ("+o+")"),r=sr(o);break;default:return Ge.recordError(1280),0}return Ge.stringCache[e]=r,r},emscripten_glGetStringi:function(e,r){if(Ge.currentContext.version<2)return Ge.recordError(1282),0;var t=Ge.stringiCache[e];if(t)return r<0||r>=t.length?(Ge.recordError(1281),0):t[r];switch(e){case 7939:var n=Or.getSupportedExtensions()||[];return n=(n=n.concat(n.map((function(e){return"GL_"+e})))).map((function(e){return sr(e)})),t=Ge.stringiCache[e]=n,r<0||r>=t.length?(Ge.recordError(1281),0):t[r];default:return Ge.recordError(1280),0}},emscripten_glGetSynciv:function(e,r,t,n,i){if(t<0)Ge.recordError(1281);else if(i){var o=Or.getSyncParameter(Ge.syncs[e],r);M[n>>2]=o,null!==o&&n&&(M[n>>2]=1)}else Ge.recordError(1281)},emscripten_glGetTexParameterfv:function(e,r,t){t?O[t>>2]=Or.getTexParameter(e,r):Ge.recordError(1281)},emscripten_glGetTexParameteriv:function(e,r,t){t?M[t>>2]=Or.getTexParameter(e,r):Ge.recordError(1281)},emscripten_glGetTransformFeedbackVarying:function(e,r,t,n,i,o,a){e=Ge.programs[e];var u=Or.getTransformFeedbackVarying(e,r);if(u){if(a&&t>0){var s=q(u.name,a,t);n&&(M[n>>2]=s)}else n&&(M[n>>2]=0);i&&(M[i>>2]=u.size),o&&(M[o>>2]=u.type)}},emscripten_glGetUniformBlockIndex:function(e,r){return Or.getUniformBlockIndex(Ge.programs[e],z(r))},emscripten_glGetUniformIndices:function(e,r,t,n){if(n)if(r>0&&(0==t||0==n))Ge.recordError(1281);else{e=Ge.programs[e];for(var i=[],o=0;o<r;o++)i.push(z(M[t+4*o>>2]));var a=Or.getUniformIndices(e,i);if(a){var u=a.length;for(o=0;o<u;o++)M[n+4*o>>2]=a[o]}}else Ge.recordError(1281)},emscripten_glGetUniformLocation:function(e,r){var t,n=0;if("]"==(r=z(r))[r.length-1]){var i=r.lastIndexOf("[");n="]"!=r[i+1]?(t=r.slice(i+1),parseInt(t)):0,r=r.slice(0,i)}var o=Ge.programInfos[e]&&Ge.programInfos[e].uniforms[r];return o&&n>=0&&n<o[0]?o[1]+n:-1},emscripten_glGetUniformfv:function(e,r,t){cr(e,r,t,2)},emscripten_glGetUniformiv:function(e,r,t){cr(e,r,t,0)},emscripten_glGetUniformuiv:function(e,r,t){cr(e,r,t,0)},emscripten_glGetVertexAttribIiv:function(e,r,t){lr(e,r,t,0)},emscripten_glGetVertexAttribIuiv:function(e,r,t){lr(e,r,t,0)},emscripten_glGetVertexAttribPointerv:function(e,r,t){t?M[t>>2]=Or.getVertexAttribOffset(e,r):Ge.recordError(1281)},emscripten_glGetVertexAttribfv:function(e,r,t){lr(e,r,t,2)},emscripten_glGetVertexAttribiv:function(e,r,t){lr(e,r,t,5)},emscripten_glHint:function(e,r){Or.hint(e,r)},emscripten_glInvalidateFramebuffer:function(e,r,t){for(var n=nr[r],i=0;i<r;i++)n[i]=M[t+4*i>>2];Or.invalidateFramebuffer(e,n)},emscripten_glInvalidateSubFramebuffer:function(e,r,t,n,i,o,a){for(var u=nr[r],s=0;s<r;s++)u[s]=M[t+4*s>>2];Or.invalidateSubFramebuffer(e,u,n,i,o,a)},emscripten_glIsBuffer:function(e){var r=Ge.buffers[e];return r?Or.isBuffer(r):0},emscripten_glIsEnabled:function(e){return Or.isEnabled(e)},emscripten_glIsFramebuffer:function(e){var r=Ge.framebuffers[e];return r?Or.isFramebuffer(r):0},emscripten_glIsProgram:function(e){return(e=Ge.programs[e])?Or.isProgram(e):0},emscripten_glIsQuery:function(e){var r=Ge.queries[e];return r?Or.isQuery(r):0},emscripten_glIsQueryEXT:function(e){var r=Ge.timerQueriesEXT[e];return r?Or.disjointTimerQueryExt.isQueryEXT(r):0},emscripten_glIsRenderbuffer:function(e){var r=Ge.renderbuffers[e];return r?Or.isRenderbuffer(r):0},emscripten_glIsSampler:function(e){var r=Ge.samplers[e];return r?Or.isSampler(r):0},emscripten_glIsShader:function(e){var r=Ge.shaders[e];return r?Or.isShader(r):0},emscripten_glIsSync:function(e){return Or.isSync(Ge.syncs[e])},emscripten_glIsTexture:function(e){var r=Ge.textures[e];return r?Or.isTexture(r):0},emscripten_glIsTransformFeedback:function(e){return Or.isTransformFeedback(Ge.transformFeedbacks[e])},emscripten_glIsVertexArray:function(e){var r=Ge.vaos[e];return r?Or.isVertexArray(r):0},emscripten_glIsVertexArrayOES:function(e){var r=Ge.vaos[e];return r?Or.isVertexArray(r):0},emscripten_glLineWidth:function(e){Or.lineWidth(e)},emscripten_glLinkProgram:function(e){Or.linkProgram(Ge.programs[e]),Ge.populateUniformTable(e)},emscripten_glPauseTransformFeedback:function(){Or.pauseTransformFeedback()},emscripten_glPixelStorei:function(e,r){3317==e&&(Ge.unpackAlignment=r),Or.pixelStorei(e,r)},emscripten_glPolygonOffset:function(e,r){Or.polygonOffset(e,r)},emscripten_glProgramBinary:function(e,r,t,n){Ge.recordError(1280)},emscripten_glProgramParameteri:function(e,r,t){Ge.recordError(1280)},emscripten_glQueryCounterEXT:function(e,r){Or.disjointTimerQueryExt.queryCounterEXT(Ge.timerQueriesEXT[e],r)},emscripten_glReadBuffer:function(e){Or.readBuffer(e)},emscripten_glReadPixels:function(e,r,t,n,i,o,a){if(Ge.currentContext.version>=2)if(Or.currentPixelPackBufferBinding)Or.readPixels(e,r,t,n,i,o,a);else{var u=fr(o);Or.readPixels(e,r,t,n,i,o,u,a>>dr(u))}else{var s=mr(o,i,t,n,a);s?Or.readPixels(e,r,t,n,i,o,s):Ge.recordError(1280)}},emscripten_glReleaseShaderCompiler:function(){},emscripten_glRenderbufferStorage:function(e,r,t,n){Or.renderbufferStorage(e,r,t,n)},emscripten_glRenderbufferStorageMultisample:function(e,r,t,n,i){Or.renderbufferStorageMultisample(e,r,t,n,i)},emscripten_glResumeTransformFeedback:function(){Or.resumeTransformFeedback()},emscripten_glSampleCoverage:function(e,r){Or.sampleCoverage(e,!!r)},emscripten_glSamplerParameterf:function(e,r,t){Or.samplerParameterf(Ge.samplers[e],r,t)},emscripten_glSamplerParameterfv:function(e,r,t){var n=O[t>>2];Or.samplerParameterf(Ge.samplers[e],r,n)},emscripten_glSamplerParameteri:function(e,r,t){Or.samplerParameteri(Ge.samplers[e],r,t)},emscripten_glSamplerParameteriv:function(e,r,t){var n=M[t>>2];Or.samplerParameteri(Ge.samplers[e],r,n)},emscripten_glScissor:function(e,r,t,n){Or.scissor(e,r,t,n)},emscripten_glShaderBinary:function(){Ge.recordError(1280)},emscripten_glShaderSource:function(e,r,t,n){var i=Ge.getSource(e,r,t,n);Or.shaderSource(Ge.shaders[e],i)},emscripten_glStencilFunc:function(e,r,t){Or.stencilFunc(e,r,t)},emscripten_glStencilFuncSeparate:function(e,r,t,n){Or.stencilFuncSeparate(e,r,t,n)},emscripten_glStencilMask:function(e){Or.stencilMask(e)},emscripten_glStencilMaskSeparate:function(e,r){Or.stencilMaskSeparate(e,r)},emscripten_glStencilOp:function(e,r,t){Or.stencilOp(e,r,t)},emscripten_glStencilOpSeparate:function(e,r,t,n){Or.stencilOpSeparate(e,r,t,n)},emscripten_glTexImage2D:function(e,r,t,n,i,o,a,u,s){if(Ge.currentContext.version>=2)if(Or.currentPixelUnpackBufferBinding)Or.texImage2D(e,r,t,n,i,o,a,u,s);else if(s){var c=fr(u);Or.texImage2D(e,r,t,n,i,o,a,u,c,s>>dr(c))}else Or.texImage2D(e,r,t,n,i,o,a,u,null);else Or.texImage2D(e,r,t,n,i,o,a,u,s?mr(u,a,n,i,s):null)},emscripten_glTexImage3D:function(e,r,t,n,i,o,a,u,s,c){if(Or.currentPixelUnpackBufferBinding)Or.texImage3D(e,r,t,n,i,o,a,u,s,c);else if(c){var l=fr(s);Or.texImage3D(e,r,t,n,i,o,a,u,s,l,c>>dr(l))}else Or.texImage3D(e,r,t,n,i,o,a,u,s,null)},emscripten_glTexParameterf:function(e,r,t){Or.texParameterf(e,r,t)},emscripten_glTexParameterfv:function(e,r,t){var n=O[t>>2];Or.texParameterf(e,r,n)},emscripten_glTexParameteri:function(e,r,t){Or.texParameteri(e,r,t)},emscripten_glTexParameteriv:function(e,r,t){var n=M[t>>2];Or.texParameteri(e,r,n)},emscripten_glTexStorage2D:function(e,r,t,n,i){Or.texStorage2D(e,r,t,n,i)},emscripten_glTexStorage3D:function(e,r,t,n,i,o){Or.texStorage3D(e,r,t,n,i,o)},emscripten_glTexSubImage2D:function(e,r,t,n,i,o,a,u,s){if(Ge.currentContext.version>=2)if(Or.currentPixelUnpackBufferBinding)Or.texSubImage2D(e,r,t,n,i,o,a,u,s);else if(s){var c=fr(u);Or.texSubImage2D(e,r,t,n,i,o,a,u,c,s>>dr(c))}else Or.texSubImage2D(e,r,t,n,i,o,a,u,null);else{var l=null;s&&(l=mr(u,a,i,o,s)),Or.texSubImage2D(e,r,t,n,i,o,a,u,l)}},emscripten_glTexSubImage3D:function(e,r,t,n,i,o,a,u,s,c,l){if(Or.currentPixelUnpackBufferBinding)Or.texSubImage3D(e,r,t,n,i,o,a,u,s,c,l);else if(l){var f=fr(c);Or.texSubImage3D(e,r,t,n,i,o,a,u,s,c,f,l>>dr(f))}else Or.texSubImage3D(e,r,t,n,i,o,a,u,s,c,null)},emscripten_glTransformFeedbackVaryings:function(e,r,t,n){e=Ge.programs[e];for(var i=[],o=0;o<r;o++)i.push(z(M[t+4*o>>2]));Or.transformFeedbackVaryings(e,i,n)},emscripten_glUniform1f:function(e,r){Or.uniform1f(Ge.uniforms[e],r)},emscripten_glUniform1fv:function(e,r,t){if(Ge.currentContext.version>=2)Or.uniform1fv(Ge.uniforms[e],O,t>>2,r);else{if(r<=Ge.MINI_TEMP_BUFFER_SIZE)for(var n=Ge.miniTempBufferFloatViews[r-1],i=0;i<r;++i)n[i]=O[t+4*i>>2];else n=O.subarray(t>>2,t+4*r>>2);Or.uniform1fv(Ge.uniforms[e],n)}},emscripten_glUniform1i:function(e,r){Or.uniform1i(Ge.uniforms[e],r)},emscripten_glUniform1iv:function(e,r,t){if(Ge.currentContext.version>=2)Or.uniform1iv(Ge.uniforms[e],M,t>>2,r);else{if(r<=Ge.MINI_TEMP_BUFFER_SIZE)for(var n=Ge.miniTempBufferIntViews[r-1],i=0;i<r;++i)n[i]=M[t+4*i>>2];else n=M.subarray(t>>2,t+4*r>>2);Or.uniform1iv(Ge.uniforms[e],n)}},emscripten_glUniform1ui:function(e,r){Or.uniform1ui(Ge.uniforms[e],r)},emscripten_glUniform1uiv:function(e,r,t){Or.uniform1uiv(Ge.uniforms[e],N,t>>2,r)},emscripten_glUniform2f:function(e,r,t){Or.uniform2f(Ge.uniforms[e],r,t)},emscripten_glUniform2fv:function(e,r,t){if(Ge.currentContext.version>=2)Or.uniform2fv(Ge.uniforms[e],O,t>>2,2*r);else{if(2*r<=Ge.MINI_TEMP_BUFFER_SIZE)for(var n=Ge.miniTempBufferFloatViews[2*r-1],i=0;i<2*r;i+=2)n[i]=O[t+4*i>>2],n[i+1]=O[t+(4*i+4)>>2];else n=O.subarray(t>>2,t+8*r>>2);Or.uniform2fv(Ge.uniforms[e],n)}},emscripten_glUniform2i:function(e,r,t){Or.uniform2i(Ge.uniforms[e],r,t)},emscripten_glUniform2iv:function(e,r,t){if(Ge.currentContext.version>=2)Or.uniform2iv(Ge.uniforms[e],M,t>>2,2*r);else{if(2*r<=Ge.MINI_TEMP_BUFFER_SIZE)for(var n=Ge.miniTempBufferIntViews[2*r-1],i=0;i<2*r;i+=2)n[i]=M[t+4*i>>2],n[i+1]=M[t+(4*i+4)>>2];else n=M.subarray(t>>2,t+8*r>>2);Or.uniform2iv(Ge.uniforms[e],n)}},emscripten_glUniform2ui:function(e,r,t){Or.uniform2ui(Ge.uniforms[e],r,t)},emscripten_glUniform2uiv:function(e,r,t){Or.uniform2uiv(Ge.uniforms[e],N,t>>2,2*r)},emscripten_glUniform3f:function(e,r,t,n){Or.uniform3f(Ge.uniforms[e],r,t,n)},emscripten_glUniform3fv:function(e,r,t){if(Ge.currentContext.version>=2)Or.uniform3fv(Ge.uniforms[e],O,t>>2,3*r);else{if(3*r<=Ge.MINI_TEMP_BUFFER_SIZE)for(var n=Ge.miniTempBufferFloatViews[3*r-1],i=0;i<3*r;i+=3)n[i]=O[t+4*i>>2],n[i+1]=O[t+(4*i+4)>>2],n[i+2]=O[t+(4*i+8)>>2];else n=O.subarray(t>>2,t+12*r>>2);Or.uniform3fv(Ge.uniforms[e],n)}},emscripten_glUniform3i:function(e,r,t,n){Or.uniform3i(Ge.uniforms[e],r,t,n)},emscripten_glUniform3iv:function(e,r,t){if(Ge.currentContext.version>=2)Or.uniform3iv(Ge.uniforms[e],M,t>>2,3*r);else{if(3*r<=Ge.MINI_TEMP_BUFFER_SIZE)for(var n=Ge.miniTempBufferIntViews[3*r-1],i=0;i<3*r;i+=3)n[i]=M[t+4*i>>2],n[i+1]=M[t+(4*i+4)>>2],n[i+2]=M[t+(4*i+8)>>2];else n=M.subarray(t>>2,t+12*r>>2);Or.uniform3iv(Ge.uniforms[e],n)}},emscripten_glUniform3ui:function(e,r,t,n){Or.uniform3ui(Ge.uniforms[e],r,t,n)},emscripten_glUniform3uiv:function(e,r,t){Or.uniform3uiv(Ge.uniforms[e],N,t>>2,3*r)},emscripten_glUniform4f:function(e,r,t,n,i){Or.uniform4f(Ge.uniforms[e],r,t,n,i)},emscripten_glUniform4fv:function(e,r,t){if(Ge.currentContext.version>=2)Or.uniform4fv(Ge.uniforms[e],O,t>>2,4*r);else{if(4*r<=Ge.MINI_TEMP_BUFFER_SIZE){var n=Ge.miniTempBufferFloatViews[4*r-1],i=O;t>>=2;for(var o=0;o<4*r;o+=4){var a=t+o;n[o]=i[a],n[o+1]=i[a+1],n[o+2]=i[a+2],n[o+3]=i[a+3]}}else n=O.subarray(t>>2,t+16*r>>2);Or.uniform4fv(Ge.uniforms[e],n)}},emscripten_glUniform4i:function(e,r,t,n,i){Or.uniform4i(Ge.uniforms[e],r,t,n,i)},emscripten_glUniform4iv:function(e,r,t){if(Ge.currentContext.version>=2)Or.uniform4iv(Ge.uniforms[e],M,t>>2,4*r);else{if(4*r<=Ge.MINI_TEMP_BUFFER_SIZE)for(var n=Ge.miniTempBufferIntViews[4*r-1],i=0;i<4*r;i+=4)n[i]=M[t+4*i>>2],n[i+1]=M[t+(4*i+4)>>2],n[i+2]=M[t+(4*i+8)>>2],n[i+3]=M[t+(4*i+12)>>2];else n=M.subarray(t>>2,t+16*r>>2);Or.uniform4iv(Ge.uniforms[e],n)}},emscripten_glUniform4ui:function(e,r,t,n,i){Or.uniform4ui(Ge.uniforms[e],r,t,n,i)},emscripten_glUniform4uiv:function(e,r,t){Or.uniform4uiv(Ge.uniforms[e],N,t>>2,4*r)},emscripten_glUniformBlockBinding:function(e,r,t){e=Ge.programs[e],Or.uniformBlockBinding(e,r,t)},emscripten_glUniformMatrix2fv:function(e,r,t,n){if(Ge.currentContext.version>=2)Or.uniformMatrix2fv(Ge.uniforms[e],!!t,O,n>>2,4*r);else{if(4*r<=Ge.MINI_TEMP_BUFFER_SIZE)for(var i=Ge.miniTempBufferFloatViews[4*r-1],o=0;o<4*r;o+=4)i[o]=O[n+4*o>>2],i[o+1]=O[n+(4*o+4)>>2],i[o+2]=O[n+(4*o+8)>>2],i[o+3]=O[n+(4*o+12)>>2];else i=O.subarray(n>>2,n+16*r>>2);Or.uniformMatrix2fv(Ge.uniforms[e],!!t,i)}},emscripten_glUniformMatrix2x3fv:function(e,r,t,n){Or.uniformMatrix2x3fv(Ge.uniforms[e],!!t,O,n>>2,6*r)},emscripten_glUniformMatrix2x4fv:function(e,r,t,n){Or.uniformMatrix2x4fv(Ge.uniforms[e],!!t,O,n>>2,8*r)},emscripten_glUniformMatrix3fv:function(e,r,t,n){if(Ge.currentContext.version>=2)Or.uniformMatrix3fv(Ge.uniforms[e],!!t,O,n>>2,9*r);else{if(9*r<=Ge.MINI_TEMP_BUFFER_SIZE)for(var i=Ge.miniTempBufferFloatViews[9*r-1],o=0;o<9*r;o+=9)i[o]=O[n+4*o>>2],i[o+1]=O[n+(4*o+4)>>2],i[o+2]=O[n+(4*o+8)>>2],i[o+3]=O[n+(4*o+12)>>2],i[o+4]=O[n+(4*o+16)>>2],i[o+5]=O[n+(4*o+20)>>2],i[o+6]=O[n+(4*o+24)>>2],i[o+7]=O[n+(4*o+28)>>2],i[o+8]=O[n+(4*o+32)>>2];else i=O.subarray(n>>2,n+36*r>>2);Or.uniformMatrix3fv(Ge.uniforms[e],!!t,i)}},emscripten_glUniformMatrix3x2fv:function(e,r,t,n){Or.uniformMatrix3x2fv(Ge.uniforms[e],!!t,O,n>>2,6*r)},emscripten_glUniformMatrix3x4fv:function(e,r,t,n){Or.uniformMatrix3x4fv(Ge.uniforms[e],!!t,O,n>>2,12*r)},emscripten_glUniformMatrix4fv:function(e,r,t,n){if(Ge.currentContext.version>=2)Or.uniformMatrix4fv(Ge.uniforms[e],!!t,O,n>>2,16*r);else{if(16*r<=Ge.MINI_TEMP_BUFFER_SIZE){var i=Ge.miniTempBufferFloatViews[16*r-1],o=O;n>>=2;for(var a=0;a<16*r;a+=16){var u=n+a;i[a]=o[u],i[a+1]=o[u+1],i[a+2]=o[u+2],i[a+3]=o[u+3],i[a+4]=o[u+4],i[a+5]=o[u+5],i[a+6]=o[u+6],i[a+7]=o[u+7],i[a+8]=o[u+8],i[a+9]=o[u+9],i[a+10]=o[u+10],i[a+11]=o[u+11],i[a+12]=o[u+12],i[a+13]=o[u+13],i[a+14]=o[u+14],i[a+15]=o[u+15]}}else i=O.subarray(n>>2,n+64*r>>2);Or.uniformMatrix4fv(Ge.uniforms[e],!!t,i)}},emscripten_glUniformMatrix4x2fv:function(e,r,t,n){Or.uniformMatrix4x2fv(Ge.uniforms[e],!!t,O,n>>2,8*r)},emscripten_glUniformMatrix4x3fv:function(e,r,t,n){Or.uniformMatrix4x3fv(Ge.uniforms[e],!!t,O,n>>2,12*r)},emscripten_glUseProgram:function(e){Or.useProgram(Ge.programs[e])},emscripten_glValidateProgram:function(e){Or.validateProgram(Ge.programs[e])},emscripten_glVertexAttrib1f:function(e,r){Or.vertexAttrib1f(e,r)},emscripten_glVertexAttrib1fv:function(e,r){Or.vertexAttrib1f(e,O[r>>2])},emscripten_glVertexAttrib2f:function(e,r,t){Or.vertexAttrib2f(e,r,t)},emscripten_glVertexAttrib2fv:function(e,r){Or.vertexAttrib2f(e,O[r>>2],O[r+4>>2])},emscripten_glVertexAttrib3f:function(e,r,t,n){Or.vertexAttrib3f(e,r,t,n)},emscripten_glVertexAttrib3fv:function(e,r){Or.vertexAttrib3f(e,O[r>>2],O[r+4>>2],O[r+8>>2])},emscripten_glVertexAttrib4f:function(e,r,t,n,i){Or.vertexAttrib4f(e,r,t,n,i)},emscripten_glVertexAttrib4fv:function(e,r){Or.vertexAttrib4f(e,O[r>>2],O[r+4>>2],O[r+8>>2],O[r+12>>2])},emscripten_glVertexAttribDivisor:function(e,r){Or.vertexAttribDivisor(e,r)},emscripten_glVertexAttribDivisorANGLE:function(e,r){Or.vertexAttribDivisor(e,r)},emscripten_glVertexAttribDivisorARB:function(e,r){Or.vertexAttribDivisor(e,r)},emscripten_glVertexAttribDivisorEXT:function(e,r){Or.vertexAttribDivisor(e,r)},emscripten_glVertexAttribDivisorNV:function(e,r){Or.vertexAttribDivisor(e,r)},emscripten_glVertexAttribI4i:function(e,r,t,n,i){Or.vertexAttribI4i(e,r,t,n,i)},emscripten_glVertexAttribI4iv:function(e,r){Or.vertexAttribI4i(e,M[r>>2],M[r+4>>2],M[r+8>>2],M[r+12>>2])},emscripten_glVertexAttribI4ui:function(e,r,t,n,i){Or.vertexAttribI4ui(e,r,t,n,i)},emscripten_glVertexAttribI4uiv:function(e,r){Or.vertexAttribI4ui(e,N[r>>2],N[r+4>>2],N[r+8>>2],N[r+12>>2])},emscripten_glVertexAttribIPointer:function(e,r,t,n,i){Or.vertexAttribIPointer(e,r,t,n,i)},emscripten_glVertexAttribPointer:function(e,r,t,n,i,o){Or.vertexAttribPointer(e,r,t,!!n,i,o)},emscripten_glViewport:function(e,r,t,n){Or.viewport(e,r,t,n)},emscripten_glWaitSync:function(e,r,t,n){Or.waitSync(Ge.syncs[e],r,tr(t,n))},emscripten_has_asyncify:function(){return 0},emscripten_is_main_browser_thread:function(){return!0},emscripten_log:function(e,r,t){for(var n="",i=function(e,r){var t=e,n=r;function i(e){var r;return n=function(e,r){return"double"!==r&&"i64"!==r||7&e&&(e+=4),e}(n,e),"double"===e?(r=G[n>>3],n+=8):"i64"==e?(r=[M[n>>2],M[n+4>>2]],n+=8):(e="i32",r=M[n>>2],n+=4),r}for(var o,a,u,s,c,l,f=[];;){var d=t;if(0===(o=L[t>>0]))break;if(a=L[t+1>>0],37==o){var m=!1,p=!1,v=!1,g=!1,h=!1;e:for(;;){switch(a){case 43:m=!0;break;case 45:p=!0;break;case 35:v=!0;break;case 48:if(g)break e;g=!0;break;case 32:h=!0;break;default:break e}t++,a=L[t+1>>0]}var _=0;if(42==a)_=i("i32"),t++,a=L[t+1>>0];else for(;a>=48&&a<=57;)_=10*_+(a-48),t++,a=L[t+1>>0];var b,y=!1,w=-1;if(46==a){if(w=0,y=!0,t++,42==(a=L[t+1>>0]))w=i("i32"),t++;else for(;;){var E=L[t+1>>0];if(E<48||E>57)break;w=10*w+(E-48),t++}a=L[t+1>>0]}switch(w<0&&(w=6,y=!1),String.fromCharCode(a)){case"h":104==L[t+2>>0]?(t++,b=1):b=2;break;case"l":108==L[t+2>>0]?(t++,b=8):b=4;break;case"L":case"q":case"j":b=8;break;case"z":case"t":case"I":b=4;break;default:b=null}switch(b&&t++,a=L[t+1>>0],String.fromCharCode(a)){case"d":case"i":case"u":case"o":case"x":case"X":case"p":var x=100==a||105==a;u=i("i"+8*(b=b||4)),8==b&&(u=117==a?(c=u[0],l=u[1],(c>>>0)+4294967296*(l>>>0)):tr(u[0],u[1])),b<=4&&(u=(x?oe:ie)(u&Math.pow(256,b)-1,8*b));var k=Math.abs(u),C="";if(100==a||105==a)F=oe(u,8*b).toString(10);else if(117==a)F=ie(u,8*b).toString(10),u=Math.abs(u);else if(111==a)F=(v?"0":"")+k.toString(8);else if(120==a||88==a){if(C=v&&0!=u?"0x":"",u<0){u=-u,F=(k-1).toString(16);for(var S=[],D=0;D<F.length;D++)S.push((15-parseInt(F[D],16)).toString(16));for(F=S.join("");F.length<2*b;)F="f"+F}else F=k.toString(16);88==a&&(C=C.toUpperCase(),F=F.toUpperCase())}else 112==a&&(0===k?F="(nil)":(C="0x",F=k.toString(16)));if(y)for(;F.length<w;)F="0"+F;for(u>=0&&(m?C="+"+C:h&&(C=" "+C)),"-"==F.charAt(0)&&(C="-"+C,F=F.substr(1));C.length+F.length<_;)p?F+=" ":g?F="0"+F:C=" "+C;(F=C+F).split("").forEach((function(e){f.push(e.charCodeAt(0))}));break;case"f":case"F":case"e":case"E":case"g":case"G":var F;if(u=i("double"),isNaN(u))F="nan",g=!1;else if(isFinite(u)){var A=!1,P=Math.min(w,20);if(103==a||71==a){A=!0,w=w||1;var T=parseInt(u.toExponential(P).split("e")[1],10);w>T&&T>=-4?(a=(103==a?"f":"F").charCodeAt(0),w-=T+1):(a=(103==a?"e":"E").charCodeAt(0),w--),P=Math.min(w,20)}101==a||69==a?(F=u.toExponential(P),/[eE][-+]\d$/.test(F)&&(F=F.slice(0,-1)+"0"+F.slice(-1))):102!=a&&70!=a||(F=u.toFixed(P),0===u&&((s=u)<0||0===s&&1/s==-1/0)&&(F="-"+F));var B=F.split("e");if(A&&!v)for(;B[0].length>1&&-1!=B[0].indexOf(".")&&("0"==B[0].slice(-1)||"."==B[0].slice(-1));)B[0]=B[0].slice(0,-1);else for(v&&-1==F.indexOf(".")&&(B[0]+=".");w>P++;)B[0]+="0";F=B[0]+(B.length>1?"e"+B[1]:""),69==a&&(F=F.toUpperCase()),u>=0&&(m?F="+"+F:h&&(F=" "+F))}else F=(u<0?"-":"")+"inf",g=!1;for(;F.length<_;)p?F+=" ":F=!g||"-"!=F[0]&&"+"!=F[0]?(g?"0":" ")+F:F[0]+"0"+F.slice(1);a<97&&(F=F.toUpperCase()),F.split("").forEach((function(e){f.push(e.charCodeAt(0))}));break;case"s":var R=i("i8*"),N=R?Vr(R):"(null)".length;if(y&&(N=Math.min(N,w)),!p)for(;N<_--;)f.push(32);if(R)for(D=0;D<N;D++)f.push(I[R++>>0]);else f=f.concat(jr("(null)".substr(0,N),!0));if(p)for(;N<_--;)f.push(32);break;case"c":for(p&&f.push(i("i8"));--_>0;)f.push(32);p||f.push(i("i8"));break;case"n":var O=i("i32*");M[O>>2]=f.length;break;case"%":f.push(o);break;default:for(D=d;D<t+2;D++)f.push(L[D>>0])}t+=2}else f.push(o),t+=1}return f}(r,t),o=0;o<i.length;++o)n+=String.fromCharCode(i[o]);vr(e,n)},emscripten_longjmp:function(e,r){!function(e,r){throw et(e,r||1),"longjmp"}(e,r)},emscripten_memcpy_big:function(e,r,t){I.copyWithin(e,r,r+t)},emscripten_request_fullscreen_strategy:function(e,r,t){return function(e,r){return Ue.fullscreenEnabled()?(e=Qe(e))?e.requestFullscreen||e.webkitRequestFullscreen?Ue.canPerformEventHandlerRequests()?$e(e,r):r.deferUntilInEventHandler?(Ue.deferCall($e,1,[e,r]),1):-2:-3:-4:-1}(e,{scaleMode:M[t>>2],canvasResolutionScaleMode:M[t+4>>2],filteringMode:M[t+8>>2],deferUntilInEventHandler:r,canvasResizedCallback:M[t+12>>2],canvasResizedCallbackUserData:M[t+16>>2]})},emscripten_request_pointerlock:function(e,r){return(e=Qe(e))?e.requestPointerLock||e.msRequestPointerLock?Ue.canPerformEventHandlerRequests()?Je(e):r?(Ue.deferCall(Je,2,[e]),1):-2:-1:-4},emscripten_resize_heap:function(e){e>>>=0;var r=I.length;if(e>2147483648)return!1;for(var t,n,i=1;i<=4;i*=2){var o=r*(1+.2/i);if(o=Math.min(o,e+100663296),hr(Math.min(2147483648,((t=Math.max(16777216,e,o))%(n=65536)>0&&(t+=n-t%n),t))))return!0}return!1},emscripten_sample_gamepad_data:function(){return(Ue.lastGamepadState=navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null)?0:-1},emscripten_set_beforeunload_callback_on_thread:function(e,r,t){return"undefined"==typeof onbeforeunload?-1:1!==t?-5:(function(e,r,t,n,i,o){var a={target:Qe(e),eventTypeString:o,callbackfunc:n,handlerFunc:function(e){var t=e||event,o=lt(n,i,0,r);if(o&&(o=z(o)),o)return t.preventDefault(),t.returnValue=o,o},useCapture:t};Ue.registerOrRemoveHandler(a)}(2,e,!0,r,28,"beforeunload"),0)},emscripten_set_blur_callback_on_thread:function(e,r,t,n,i){return _r(e,r,t,n,12,"blur"),0},emscripten_set_canvas_element_size:He,emscripten_set_element_css_size:function(e,r,t){return(e=Qe(e))?(e.style.width=r+"px",e.style.height=t+"px",0):-4},emscripten_set_focus_callback_on_thread:function(e,r,t,n,i){return _r(e,r,t,n,13,"focus"),0},emscripten_set_fullscreenchange_callback_on_thread:function(e,r,t,n,i){return Ue.fullscreenEnabled()?(e=Qe(e))?(br(e,r,t,n,19,"fullscreenchange"),br(e,r,t,n,19,"webkitfullscreenchange"),0):-4:-1},emscripten_set_gamepadconnected_callback_on_thread:function(e,r,t,n){return navigator.getGamepads||navigator.webkitGetGamepads?(yr(2,e,r,t,26,"gamepadconnected"),0):-1},emscripten_set_gamepaddisconnected_callback_on_thread:function(e,r,t,n){return navigator.getGamepads||navigator.webkitGetGamepads?(yr(2,e,r,t,27,"gamepaddisconnected"),0):-1},emscripten_set_keydown_callback_on_thread:function(e,r,t,n,i){return wr(e,r,t,n,2,"keydown"),0},emscripten_set_keypress_callback_on_thread:function(e,r,t,n,i){return wr(e,r,t,n,1,"keypress"),0},emscripten_set_keyup_callback_on_thread:function(e,r,t,n,i){return wr(e,r,t,n,3,"keyup"),0},emscripten_set_main_loop_arg:function(e,r,t,n){Be(e,t,n,r)},emscripten_set_mousedown_callback_on_thread:function(e,r,t,n,i){return xr(e,r,t,n,5,"mousedown"),0},emscripten_set_mouseenter_callback_on_thread:function(e,r,t,n,i){return xr(e,r,t,n,33,"mouseenter"),0},emscripten_set_mouseleave_callback_on_thread:function(e,r,t,n,i){return xr(e,r,t,n,34,"mouseleave"),0},emscripten_set_mousemove_callback_on_thread:function(e,r,t,n,i){return xr(e,r,t,n,8,"mousemove"),0},emscripten_set_mouseup_callback_on_thread:function(e,r,t,n,i){return xr(e,r,t,n,6,"mouseup"),0},emscripten_set_pointerlockchange_callback_on_thread:function(e,r,t,n,i){return document&&document.body&&(document.body.requestPointerLock||document.body.mozRequestPointerLock||document.body.webkitRequestPointerLock||document.body.msRequestPointerLock)?(e=Qe(e))?(kr(e,r,t,n,20,"pointerlockchange"),kr(e,r,t,n,20,"mozpointerlockchange"),kr(e,r,t,n,20,"webkitpointerlockchange"),kr(e,r,t,n,20,"mspointerlockchange"),0):-4:-1},emscripten_set_resize_callback_on_thread:function(e,r,t,n,i){return function(e,r,t,n,i,o,a){Ue.uiEvent||(Ue.uiEvent=Hr(36));var u={target:e=Qe(e),eventTypeString:o,callbackfunc:n,handlerFunc:function(t){var o=t||event;if(o.target==e){var a=Ue.uiEvent,u=document.body;M[a>>2]=o.detail,M[a+4>>2]=u.clientWidth,M[a+8>>2]=u.clientHeight,M[a+12>>2]=innerWidth,M[a+16>>2]=innerHeight,M[a+20>>2]=outerWidth,M[a+24>>2]=outerHeight,M[a+28>>2]=pageXOffset,M[a+32>>2]=pageYOffset,lt(n,i,a,r)&&o.preventDefault()}},useCapture:t};Ue.registerOrRemoveHandler(u)}(e,r,t,n,10,"resize"),0},emscripten_set_touchcancel_callback_on_thread:function(e,r,t,n,i){return Cr(e,r,t,n,25,"touchcancel"),0},emscripten_set_touchend_callback_on_thread:function(e,r,t,n,i){return Cr(e,r,t,n,23,"touchend"),0},emscripten_set_touchmove_callback_on_thread:function(e,r,t,n,i){return Cr(e,r,t,n,24,"touchmove"),0},emscripten_set_touchstart_callback_on_thread:function(e,r,t,n,i){return Cr(e,r,t,n,22,"touchstart"),0},emscripten_set_visibilitychange_callback_on_thread:function(e,r,t,n){return Sr(ze[1],e,r,t,21,"visibilitychange"),0},emscripten_set_wheel_callback_on_thread:function(e,r,t,n,i){return void 0!==(e=Qe(e)).onwheel?(Dr(e,r,t,n,9,"wheel"),0):void 0!==e.onmousewheel?(Dr(e,r,t,n,9,"mousewheel"),0):-1},emscripten_sleep:function(){throw"Please compile your program with async support in order to use asynchronous operations like emscripten_sleep"},emscripten_start_fetch:function(e,r,t,n,i){void 0!==w&&(w=!0);var o=e+112,a=z(o),u=N[o+36>>2],s=N[o+40>>2],c=N[o+44>>2],l=N[o+48>>2],f=N[o+52>>2],d=!!(4&f),m=!!(32&f),p=!!(16&f),v=function(e,t,n){u?rt(u,e):r&&r(e)},g=function(e,r,t){c?rt(c,e):n&&n(e)},h=function(e,r,n){s?rt(s,e):t&&t(e)},_=function(e,r,t){l?rt(l,e):i&&i(e)},b=function(e,t,n){Pr(Fr.dbInstance,e,t.response,(function(e,t,n){u?rt(u,e):r&&r(e)}),(function(e,t,n){u?rt(u,e):r&&r(e)}))};if("EM_IDB_STORE"===a){var y=N[o+84>>2];Pr(Fr.dbInstance,e,I.slice(y,y+N[o+88>>2]),v,h)}else if("EM_IDB_DELETE"===a)!function(e,r,t,n){if(e){var i=N[r+112+64>>2];i||(i=N[r+8>>2]);var o=z(i);try{var a=e.transaction(["FILES"],"readwrite").objectStore("FILES").delete(o);a.onsuccess=function(e){var n=e.target.result;N[r+12>>2]=0,Fr.setu64(r+16,0),Fr.setu64(r+24,0),Fr.setu64(r+32,0),R[r+40>>1]=4,R[r+42>>1]=200,q("OK",r+44,64),t(r,0,n)},a.onerror=function(e){R[r+40>>1]=4,R[r+42>>1]=404,q("Not Found",r+44,64),n(r,0,e)}}catch(u){n(r,0,u)}}else n(r,0,"IndexedDB not available!")}(Fr.dbInstance,e,v,h);else if(p){if(m)return 0;Ar(e,d?b:v,h,g,_)}else!function(e,r,t,n){if(e){var i=N[r+112+64>>2];i||(i=N[r+8>>2]);var o=z(i);try{var a=e.transaction(["FILES"],"readonly").objectStore("FILES").get(o);a.onsuccess=function(e){if(e.target.result){var i=e.target.result,o=i.byteLength||i.length,a=Hr(o);I.set(new Uint8Array(i),a),N[r+12>>2]=a,Fr.setu64(r+16,o),Fr.setu64(r+24,0),Fr.setu64(r+32,o),R[r+40>>1]=4,R[r+42>>1]=200,q("OK",r+44,64),t(r,0,i)}else R[r+40>>1]=4,R[r+42>>1]=404,q("Not Found",r+44,64),n(r,0,"no data")},a.onerror=function(e){R[r+40>>1]=4,R[r+42>>1]=404,q("Not Found",r+44,64),n(r,0,e)}}catch(u){n(r,0,u)}}else n(r,0,"IndexedDB not available!")}(Fr.dbInstance,e,v,m?h:d?function(e,r,t){Ar(e,b,h,g,_)}:function(e,r,t){Ar(e,v,h,g,_)});return e},environ_get:function(e,r){var t=0;return Lr().forEach((function(n,i){var o=r+t;M[e+4*i>>2]=o,function(e,r,t){for(var n=0;n<e.length;++n)L[r++>>0]=e.charCodeAt(n);t||(L[r>>0]=0)}(n,o),t+=n.length+1})),0},environ_sizes_get:function(e,r){var t=Lr();M[e>>2]=t.length;var n=0;return t.forEach((function(e){n+=e.length+1})),M[r>>2]=n,0},exit:function(e){Et(e)},fd_close:function(e){try{var r=Le.getStreamFromFD(e);return Te.close(r),0}catch(t){return void 0!==Te&&t instanceof Te.ErrnoError||ve(t),t.errno}},fd_fdstat_get:function(e,r){try{var t=Le.getStreamFromFD(e),n=t.tty?2:Te.isDir(t.mode)?3:Te.isLink(t.mode)?7:4;return L[r>>0]=n,0}catch(i){return void 0!==Te&&i instanceof Te.ErrnoError||ve(i),i.errno}},fd_read:function(e,r,t,n){try{var i=Le.getStreamFromFD(e),o=Le.doReadv(i,r,t);return M[n>>2]=o,0}catch(a){return void 0!==Te&&a instanceof Te.ErrnoError||ve(a),a.errno}},fd_seek:function(e,r,t,n,i){try{var o=Le.getStreamFromFD(e),a=4294967296*t+(r>>>0);return a<=-9007199254740992||a>=9007199254740992?-61:(Te.llseek(o,a,n),be=[o.position>>>0,(_e=o.position,+ae(_e)>=1?_e>0?(0|ce(+se(_e/4294967296),4294967295))>>>0:~~+ue((_e-+(~~_e>>>0))/4294967296)>>>0:0)],M[i>>2]=be[0],M[i+4>>2]=be[1],o.getdents&&0===a&&0===n&&(o.getdents=null),0)}catch(u){return void 0!==Te&&u instanceof Te.ErrnoError||ve(u),u.errno}},fd_write:function(e,r,t,n){try{var i=Le.getStreamFromFD(e),o=Le.doWritev(i,r,t);return M[n>>2]=o,0}catch(a){return void 0!==Te&&a instanceof Te.ErrnoError||ve(a),a.errno}},getCanvasPaddingLeft:function(){return r.canvas.style.paddingLeft},getCanvasPaddingTop:function(){return r.canvas.style.paddingTop},getTempRet0:function(){return 0|x},gettimeofday:function(e){var r=Date.now();return M[e>>2]=r/1e3|0,M[e+4>>2]=r%1e3*1e3|0,0},gmtime_r:function(e,r){var t=new Date(1e3*M[e>>2]);M[r>>2]=t.getUTCSeconds(),M[r+4>>2]=t.getUTCMinutes(),M[r+8>>2]=t.getUTCHours(),M[r+12>>2]=t.getUTCDate(),M[r+16>>2]=t.getUTCMonth(),M[r+20>>2]=t.getUTCFullYear()-1900,M[r+24>>2]=t.getUTCDay(),M[r+36>>2]=0,M[r+32>>2]=0;var n=Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0),i=(t.getTime()-n)/864e5|0;return M[r+28>>2]=i,M[r+40>>2]=Ir,r},invoke_di:function(e,r){var t=ht();try{return gt(e,r)}catch(n){if(bt(t),n!==n+0&&"longjmp"!==n)throw n;et(1,0)}},invoke_i:function(e){var r=ht();try{return ut(e)}catch(t){if(bt(r),t!==t+0&&"longjmp"!==t)throw t;et(1,0)}},invoke_ii:function(e,r){var t=ht();try{return st(e,r)}catch(n){if(bt(t),n!==n+0&&"longjmp"!==n)throw n;et(1,0)}},invoke_iid:function(e,r,t){var n=ht();try{return vt(e,r,t)}catch(i){if(bt(n),i!==i+0&&"longjmp"!==i)throw i;et(1,0)}},invoke_iii:function(e,r,t){var n=ht();try{return ct(e,r,t)}catch(i){if(bt(n),i!==i+0&&"longjmp"!==i)throw i;et(1,0)}},invoke_iiii:function(e,r,t,n){var i=ht();try{return lt(e,r,t,n)}catch(o){if(bt(i),o!==o+0&&"longjmp"!==o)throw o;et(1,0)}},invoke_iiiii:function(e,r,t,n,i){var o=ht();try{return ft(e,r,t,n,i)}catch(a){if(bt(o),a!==a+0&&"longjmp"!==a)throw a;et(1,0)}},invoke_iiiiii:function(e,r,t,n,i,o){var a=ht();try{return dt(e,r,t,n,i,o)}catch(u){if(bt(a),u!==u+0&&"longjmp"!==u)throw u;et(1,0)}},invoke_iiiiiii:function(e,r,t,n,i,o,a){var u=ht();try{return mt(e,r,t,n,i,o,a)}catch(s){if(bt(u),s!==s+0&&"longjmp"!==s)throw s;et(1,0)}},invoke_iiiiiiii:function(e,r,t,n,i,o,a,u){var s=ht();try{return pt(e,r,t,n,i,o,a,u)}catch(c){if(bt(s),c!==c+0&&"longjmp"!==c)throw c;et(1,0)}},invoke_vi:function(e,r){var t=ht();try{rt(e,r)}catch(n){if(bt(t),n!==n+0&&"longjmp"!==n)throw n;et(1,0)}},invoke_vii:function(e,r,t){var n=ht();try{tt(e,r,t)}catch(i){if(bt(n),i!==i+0&&"longjmp"!==i)throw i;et(1,0)}},invoke_viii:function(e,r,t,n){var i=ht();try{nt(e,r,t,n)}catch(o){if(bt(i),o!==o+0&&"longjmp"!==o)throw o;et(1,0)}},invoke_viiii:function(e,r,t,n,i){var o=ht();try{it(e,r,t,n,i)}catch(a){if(bt(o),a!==a+0&&"longjmp"!==a)throw a;et(1,0)}},invoke_viiiii:function(e,r,t,n,i,o){var a=ht();try{ot(e,r,t,n,i,o)}catch(u){if(bt(a),u!==u+0&&"longjmp"!==u)throw u;et(1,0)}},invoke_viiiiii:function(e,r,t,n,i,o,a){var u=ht();try{at(e,r,t,n,i,o,a)}catch(s){if(bt(u),s!==s+0&&"longjmp"!==s)throw s;et(1,0)}},localtime:function(e){return Rr(e,886992)},localtime_r:Rr,memory:E,mktime:function(e){Br();var r=new Date(M[e+20>>2]+1900,M[e+16>>2],M[e+12>>2],M[e+8>>2],M[e+4>>2],M[e>>2],0),t=M[e+32>>2],n=r.getTimezoneOffset(),i=new Date(r.getFullYear(),0,1),o=new Date(r.getFullYear(),6,1).getTimezoneOffset(),a=i.getTimezoneOffset(),u=Math.min(a,o);if(t<0)M[e+32>>2]=Number(o!=a&&u==n);else if(t>0!=(u==n)){var s=Math.max(a,o),c=t>0?u:s;r.setTime(r.getTime()+6e4*(c-n))}M[e+24>>2]=r.getDay();var l=(r.getTime()-i.getTime())/864e5|0;return M[e+28>>2]=l,r.getTime()/1e3|0},nanosleep:function(e,r){if(0===e)return ke(28),-1;var t=M[e>>2],n=M[e+4>>2];return n<0||n>999999999||t<0?(ke(28),-1):(0!==r&&(M[r>>2]=0,M[r+4>>2]=0),Mr(1e6*t+n/1e3))},saveSetjmp:function e(r,t,n,i){t|=0,n|=0,i|=0;var o=0;for(gr=gr+1|0,M[(r|=0)>>2]=gr;(0|o)<(0|i);){if(0==(0|M[n+(o<<3)>>2]))return M[n+(o<<3)>>2]=gr,M[n+(4+(o<<3))>>2]=t,M[n+(8+(o<<3))>>2]=0,k(0|i),0|n;o=o+1|0}return n=0|e(0|r,0|t,0|(n=0|Wr(0|n,8*(1+(i=2*i|0)|0)|0)),0|i),k(0|i),0|n},setTempRet0:function(e){k(0|e)},sigaction:function(e,r,t){return 0},signal:function(e,r){return 0},sysconf:function(e){switch(e){case 30:return 16384;case 85:return 131072;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:case 79:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return ke(28),-1},table:S,testSetjmp:function(e,r,t){e|=0,r|=0,t|=0;for(var n=0,i=0;(0|n)<(0|t)&&0!=(0|(i=0|M[r+(n<<3)>>2]));){if((0|i)==(0|e))return 0|M[r+(4+(n<<3))>>2];n=n+1|0}return 0},time:function(e){var r=Date.now()/1e3|0;return e&&(M[e>>2]=r),r},usleep:Mr,wafjs_hidestatus:function(){"function"==typeof r.hideStatus&&r.hideStatus()},wafjs_setcontentinfo:function(e,t,n){r.canvas.setAttribute("waf-content-width",e),r.canvas.setAttribute("waf-content-height",t),r.canvas.setAttribute("waf-content-fps",n)},wafjs_setstatus:function(e){"function"==typeof r.setStatus&&r.setStatus(z(e))},wafjs_url_transformRequestUrl:function(e){var t=z(e),n=r.WAFLASH,i=n?n.hal&&n.hal.url_transformRequestUrl(t):t;if(i){var o=X(i)+1,a=Hr(o);return q(i,a,o),a}return 0}},Qr=function(){var e={env:zr,wasi_snapshot_preview1:zr};function t(e,t){var n=e.exports;r.asm=n,pe()}function n(e){t(e.instance)}function i(r){return(y||"function"!=typeof fetch?new Promise((function(e,r){e(we())})):fetch(ye,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ye+"'";return e.arrayBuffer()})).catch((function(){return we()}))).then((function(r){return WebAssembly.instantiate(r,e)})).then(r,(function(e){v("failed to asynchronously prepare wasm: "+e),ve(e)}))}if(me(),r.instantiateWasm)try{return r.instantiateWasm(e,t)}catch(o){return v("Module.instantiateWasm callback failed with error: "+o),!1}return function(){if(y||"function"!=typeof WebAssembly.instantiateStreaming||ge(ye)||"function"!=typeof fetch)return i(n);fetch(ye,{credentials:"same-origin"}).then((function(r){return WebAssembly.instantiateStreaming(r,e).then(n,(function(e){v("wasm streaming compile failed: "+e),v("falling back to ArrayBuffer instantiation"),i(n)}))}))}(),{}}();r.asm=Qr;var qr,Xr=r.___wasm_call_ctors=function(){return(Xr=r.___wasm_call_ctors=r.asm.__wasm_call_ctors).apply(null,arguments)},Vr=(r._reopenBuffer=function(){return(r._reopenBuffer=r.asm.reopenBuffer).apply(null,arguments)},r._invokeExternalCallback=function(){return(r._invokeExternalCallback=r.asm.invokeExternalCallback).apply(null,arguments)},r.___em_js__wafjs_setstatus=function(){return(r.___em_js__wafjs_setstatus=r.asm.__em_js__wafjs_setstatus).apply(null,arguments)},r.___em_js__wafjs_hidestatus=function(){return(r.___em_js__wafjs_hidestatus=r.asm.__em_js__wafjs_hidestatus).apply(null,arguments)},r.___em_js__wafjs_setcontentinfo=function(){return(r.___em_js__wafjs_setcontentinfo=r.asm.__em_js__wafjs_setcontentinfo).apply(null,arguments)},r.___em_js__getCanvasPaddingLeft=function(){return(r.___em_js__getCanvasPaddingLeft=r.asm.__em_js__getCanvasPaddingLeft).apply(null,arguments)},r.___em_js__getCanvasPaddingTop=function(){return(r.___em_js__getCanvasPaddingTop=r.asm.__em_js__getCanvasPaddingTop).apply(null,arguments)},r._main=function(){return(r._main=r.asm.main).apply(null,arguments)},r._memset=function(){return(r._memset=r.asm.memset).apply(null,arguments)},r._strlen=function(){return(Vr=r._strlen=r.asm.strlen).apply(null,arguments)}),Hr=(r._free=function(){return(r._free=r.asm.free).apply(null,arguments)},r._fileno=function(){return(r._fileno=r.asm.fileno).apply(null,arguments)},r._malloc=function(){return(Hr=r._malloc=r.asm.malloc).apply(null,arguments)}),Wr=(r._memcpy=function(){return(r._memcpy=r.asm.memcpy).apply(null,arguments)},r.___em_js__wafjs_url_transformRequestUrl=function(){return(r.___em_js__wafjs_url_transformRequestUrl=r.asm.__em_js__wafjs_url_transformRequestUrl).apply(null,arguments)},r._strstr=function(){return(r._strstr=r.asm.strstr).apply(null,arguments)},r.___em_js__changeCursor=function(){return(r.___em_js__changeCursor=r.asm.__em_js__changeCursor).apply(null,arguments)},r._realloc=function(){return(Wr=r._realloc=r.asm.realloc).apply(null,arguments)}),Yr=r.___errno_location=function(){return(Yr=r.___errno_location=r.asm.__errno_location).apply(null,arguments)},Kr=r._emscripten_GetProcAddress=function(){return(Kr=r._emscripten_GetProcAddress=r.asm.emscripten_GetProcAddress).apply(null,arguments)},Zr=r.__get_tzname=function(){return(Zr=r.__get_tzname=r.asm._get_tzname).apply(null,arguments)},$r=r.__get_daylight=function(){return($r=r.__get_daylight=r.asm._get_daylight).apply(null,arguments)},Jr=r.__get_timezone=function(){return(Jr=r.__get_timezone=r.asm._get_timezone).apply(null,arguments)},et=r._setThrew=function(){return(et=r._setThrew=r.asm.setThrew).apply(null,arguments)},rt=(r._emscripten_main_thread_process_queued_calls=function(){return(r._emscripten_main_thread_process_queued_calls=r.asm.emscripten_main_thread_process_queued_calls).apply(null,arguments)},r.dynCall_vi=function(){return(rt=r.dynCall_vi=r.asm.dynCall_vi).apply(null,arguments)}),tt=r.dynCall_vii=function(){return(tt=r.dynCall_vii=r.asm.dynCall_vii).apply(null,arguments)},nt=r.dynCall_viii=function(){return(nt=r.dynCall_viii=r.asm.dynCall_viii).apply(null,arguments)},it=r.dynCall_viiii=function(){return(it=r.dynCall_viiii=r.asm.dynCall_viiii).apply(null,arguments)},ot=r.dynCall_viiiii=function(){return(ot=r.dynCall_viiiii=r.asm.dynCall_viiiii).apply(null,arguments)},at=r.dynCall_viiiiii=function(){return(at=r.dynCall_viiiiii=r.asm.dynCall_viiiiii).apply(null,arguments)},ut=r.dynCall_i=function(){return(ut=r.dynCall_i=r.asm.dynCall_i).apply(null,arguments)},st=r.dynCall_ii=function(){return(st=r.dynCall_ii=r.asm.dynCall_ii).apply(null,arguments)},ct=r.dynCall_iii=function(){return(ct=r.dynCall_iii=r.asm.dynCall_iii).apply(null,arguments)},lt=r.dynCall_iiii=function(){return(lt=r.dynCall_iiii=r.asm.dynCall_iiii).apply(null,arguments)},ft=r.dynCall_iiiii=function(){return(ft=r.dynCall_iiiii=r.asm.dynCall_iiiii).apply(null,arguments)},dt=r.dynCall_iiiiii=function(){return(dt=r.dynCall_iiiiii=r.asm.dynCall_iiiiii).apply(null,arguments)},mt=r.dynCall_iiiiiii=function(){return(mt=r.dynCall_iiiiiii=r.asm.dynCall_iiiiiii).apply(null,arguments)},pt=r.dynCall_iiiiiiii=function(){return(pt=r.dynCall_iiiiiiii=r.asm.dynCall_iiiiiiii).apply(null,arguments)},vt=r.dynCall_iid=function(){return(vt=r.dynCall_iid=r.asm.dynCall_iid).apply(null,arguments)},gt=r.dynCall_di=function(){return(gt=r.dynCall_di=r.asm.dynCall_di).apply(null,arguments)},ht=r.stackSave=function(){return(ht=r.stackSave=r.asm.stackSave).apply(null,arguments)},_t=r.stackAlloc=function(){return(_t=r.stackAlloc=r.asm.stackAlloc).apply(null,arguments)},bt=r.stackRestore=function(){return(bt=r.stackRestore=r.asm.stackRestore).apply(null,arguments)};function yt(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function wt(e){function t(){qr||(qr=!0,r.calledRun=!0,D||(ne=!0,r.noFSInit||Te.init.initialized||Te.init(),Fe.init(),Z(J),Te.ignorePermissions=!1,Z(ee),n(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),xt&&function(e){var t=r._main,n=(e=e||[]).length+1,i=_t(4*(n+1));M[i>>2]=H(f);for(var o=1;o<n;o++)M[(i>>2)+o]=H(e[o-1]);M[(i>>2)+n]=0;try{Et(t(n,i),!0)}catch(u){if(u instanceof yt)return;if("unwind"==u)return void(w=!0);var a=u;u&&"object"==typeof u&&u.stack&&(a=[u,u.stack]),v("exception thrown: "+a),d(1,u)}}(e),function(){if(r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;)e=r.postRun.shift(),te.unshift(e);var e;Z(te)}()))}e=e||l,le>0||(function(){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)e=r.preRun.shift(),$.unshift(e);var e;Z($)}(),le>0||(r.setStatus?(r.setStatus("Running..."),setTimeout((function(){setTimeout((function(){r.setStatus("")}),1),t()}),1)):t()))}function Et(e,t){t&&w&&0===e||(w||(D=!0,r.onExit&&r.onExit(e)),d(e,new yt(e)))}if(r.__growWasmMemory=function(){return(r.__growWasmMemory=r.asm.__growWasmMemory).apply(null,arguments)},r.dynCall_viiiiiii=function(){return(r.dynCall_viiiiiii=r.asm.dynCall_viiiiiii).apply(null,arguments)},r.dynCall_viiiiiiiii=function(){return(r.dynCall_viiiiiiiii=r.asm.dynCall_viiiiiiiii).apply(null,arguments)},r.dynCall_v=function(){return(r.dynCall_v=r.asm.dynCall_v).apply(null,arguments)},r.dynCall_diii=function(){return(r.dynCall_diii=r.asm.dynCall_diii).apply(null,arguments)},r.dynCall_viiiiiiii=function(){return(r.dynCall_viiiiiiii=r.asm.dynCall_viiiiiiii).apply(null,arguments)},r.dynCall_iiiiiiiiii=function(){return(r.dynCall_iiiiiiiiii=r.asm.dynCall_iiiiiiiiii).apply(null,arguments)},r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.dynCall_jiji).apply(null,arguments)},r.dynCall_ji=function(){return(r.dynCall_ji=r.asm.dynCall_ji).apply(null,arguments)},r.dynCall_iiiiiidii=function(){return(r.dynCall_iiiiiidii=r.asm.dynCall_iiiiiidii).apply(null,arguments)},r.dynCall_iiiiiiiii=function(){return(r.dynCall_iiiiiiiii=r.asm.dynCall_iiiiiiiii).apply(null,arguments)},r.dynCall_viiiiiiiiiii=function(){return(r.dynCall_viiiiiiiiiii=r.asm.dynCall_viiiiiiiiiii).apply(null,arguments)},r.dynCall_iidiiii=function(){return(r.dynCall_iidiiii=r.asm.dynCall_iidiiii).apply(null,arguments)},r.dynCall_vffff=function(){return(r.dynCall_vffff=r.asm.dynCall_vffff).apply(null,arguments)},r.dynCall_vf=function(){return(r.dynCall_vf=r.asm.dynCall_vf).apply(null,arguments)},r.dynCall_vff=function(){return(r.dynCall_vff=r.asm.dynCall_vff).apply(null,arguments)},r.dynCall_vfi=function(){return(r.dynCall_vfi=r.asm.dynCall_vfi).apply(null,arguments)},r.dynCall_viif=function(){return(r.dynCall_viif=r.asm.dynCall_viif).apply(null,arguments)},r.dynCall_vif=function(){return(r.dynCall_vif=r.asm.dynCall_vif).apply(null,arguments)},r.dynCall_viff=function(){return(r.dynCall_viff=r.asm.dynCall_viff).apply(null,arguments)},r.dynCall_vifff=function(){return(r.dynCall_vifff=r.asm.dynCall_vifff).apply(null,arguments)},r.dynCall_viffff=function(){return(r.dynCall_viffff=r.asm.dynCall_viffff).apply(null,arguments)},r.dynCall_viiiiiiiiii=function(){return(r.dynCall_viiiiiiiiii=r.asm.dynCall_viiiiiiiiii).apply(null,arguments)},r.dynCall_viifi=function(){return(r.dynCall_viifi=r.asm.dynCall_viifi).apply(null,arguments)},r.asm=Qr,r.ccall=P,r.cwrap=function(e,r,t,n){var i=(t=t||[]).every((function(e){return"number"===e}));return"string"!==r&&i&&!n?A(e):function(){return P(e,r,t,arguments)}},r.getMemory=function(e){return ne?Hr(e):g(e)},r.addRunDependency=me,r.removeRunDependency=pe,r.FS_createFolder=Te.createFolder,r.FS_createPath=Te.createPath,r.FS_createDataFile=Te.createDataFile,r.FS_createPreloadedFile=Te.createPreloadedFile,r.FS_createLazyFile=Te.createLazyFile,r.FS_createLink=Te.createLink,r.FS_createDevice=Te.createDevice,r.FS_unlink=Te.unlink,de=function e(){qr||wt(),qr||(de=e)},r.run=wt,r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();var xt=!0;return r.noInitialRun&&(xt=!1),w=!0,wt(),r.ready});r.a=n}).call(this,t("URgk").setImmediate)}}]);
//# sourceMappingURL=dcc5c981-cbe831a10ff19b6448ef.js.map